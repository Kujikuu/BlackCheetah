import{_ as Y}from"./AppTextarea.vue_vue_type_script_setup_true_lang-Bvt-Riru.js";import{_ as ee}from"./AppSelect.vue_vue_type_script_setup_true_lang-Bv_Hfn4H.js";import{_ as te}from"./AppTextField.vue_vue_type_script_setup_true_lang-BeN4Jd9o.js";import{_ as O,V as L}from"./VDialog-Dwu4raWs.js";import{a_ as S,d as z,g as j,O as F,a as V,o as _,k as t,y as e,b7 as se,l as a,c as G,h as A,F as le,r as ae,q as h,av as R,t as f,a7 as k,aZ as de,w as me}from"./main-B-HpKHYF.js";import{V as N,f as P,g as X,b as E,e as ie}from"./VCard-DzLdWoon.js";import{V as oe}from"./VForm-CIO1WxHO.js";import{V as Z,a as q}from"./VRow-kz8ZjEOC.js";import{V as pe}from"./VFileInput-5xqgM87-.js";import{V as I}from"./VChip-BghAaQDl.js";import{V as J}from"./VDivider-DzNjH6NQ.js";import{V as K}from"./VSpacer-CZHQN35-.js";import{V as re,a as H,b as M,c as ce}from"./VList-DzRZJpo_.js";import{V as ve}from"./VTooltip--jCNwfWQ.js";import{g as fe}from"./api-router-B1Yi7OdY.js";import{_ as ge,V as ye}from"./VDataTableServer-B97--MOF.js";import{V as be}from"./VMenu-D_A0KfTW.js";class _e{getBaseUrl(){return fe("technical-requests")}async getTechnicalRequests(i){return await S(this.getBaseUrl(),{method:"GET",params:i})}async getTechnicalRequest(i){return await S(`${this.getBaseUrl()}/${i}`,{method:"GET"})}async createTechnicalRequest(i){const s=new FormData;return s.append("title",i.title),s.append("description",i.description),s.append("category",i.category),s.append("priority",i.priority),s.append("requester_id",i.requester_id.toString()),i.status&&s.append("status",i.status),i.attachments&&i.attachments.length>0&&i.attachments.forEach(l=>{s.append("attachments[]",l)}),await S(this.getBaseUrl(),{method:"POST",body:s,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}async updateTechnicalRequest(i,s){return await S(`${this.getBaseUrl()}/${i}`,{method:"PATCH",body:s})}async deleteTechnicalRequest(i){return await S(`${this.getBaseUrl()}/${i}`,{method:"DELETE"})}async getStatistics(){return await S(`${this.getBaseUrl()}/statistics`,{method:"GET"})}async resolve(i){return await S(`${this.getBaseUrl()}/${i}/resolve`,{method:"PATCH"})}async close(i){return await S(`${this.getBaseUrl()}/${i}/close`,{method:"PATCH"})}async addAttachments(i,s){return await S(`${this.getBaseUrl()}/${i}/attachments`,{method:"POST",body:{attachment_url:s}})}async bulkDelete(i){return await S(`${this.getBaseUrl()}/bulk-delete`,{method:"POST",body:{ids:i}})}}const ne=new _e,he={key:0,class:"mt-3"},mt=z({__name:"SubmitRequestForm",props:{visible:{type:Boolean}},emits:["update:visible","success"],setup(U,{emit:i}){const s=i,l=j({subject:"",category:"",priority:"medium",description:"",attachments:[]}),n=j(!1),y=j(!1),v=[b=>!!b||"Subject is required",b=>b&&b.length>=5||"Subject must be at least 5 characters"],o=[b=>!!b||"Category is required"],u=[b=>!!b||"Description is required",b=>b&&b.length>=10||"Description must be at least 10 characters"],T=F(()=>l.value.subject.length>=5&&l.value.category!==""&&l.value.description.length>=10),w=[{title:"Hardware",value:"hardware"},{title:"Software",value:"software"},{title:"Network",value:"network"},{title:"POS System",value:"pos_system"},{title:"Website",value:"website"},{title:"Mobile App",value:"mobile_app"},{title:"Training",value:"training"},{title:"Other",value:"other"}],$=[{title:"Low",value:"low"},{title:"Medium",value:"medium"},{title:"High",value:"high"},{title:"Urgent",value:"urgent"}],p=b=>{var D;const m=(D=b.split(".").pop())==null?void 0:D.toLowerCase();return["jpg","jpeg","png","gif","svg","webp"].includes(m||"")?"tabler-photo":["pdf"].includes(m||"")?"tabler-file-type-pdf":["doc","docx"].includes(m||"")?"tabler-file-type-doc":["xls","xlsx"].includes(m||"")?"tabler-file-type-xls":["txt","log"].includes(m||"")?"tabler-file-text":["zip","rar","7z"].includes(m||"")?"tabler-file-zip":"tabler-file"},c=()=>{l.value={subject:"",category:"",priority:"medium",description:"",attachments:[]},y.value=!1},B=b=>{const m=b.target;m.files&&(l.value.attachments=Array.from(m.files))},r=b=>{l.value.attachments.splice(b,1)},d=()=>{s("update:visible",!1),c()},g=async()=>{var b;if(T.value)try{n.value=!0;const D=(b=de("userData").value)==null?void 0:b.id;if(!D){n.value=!1;return}await ne.createTechnicalRequest({title:l.value.subject,description:l.value.description,category:l.value.category,priority:l.value.priority,requester_id:D,attachments:l.value.attachments.length>0?l.value.attachments:void 0}),s("success"),c(),s("update:visible",!1)}catch(m){console.error("Error submitting technical request:",m)}finally{n.value=!1}};return(b,m)=>{const D=O,W=te,x=ee,ue=Y;return _(),V(L,{"model-value":b.visible,"max-width":"600",persistent:"","onUpdate:modelValue":m[5]||(m[5]=C=>s("update:visible",C))},{default:t(()=>[e(D,{onClick:d}),e(N,{title:"Submit Technical Request"},{default:t(()=>[e(oe,{modelValue:y.value,"onUpdate:modelValue":m[4]||(m[4]=C=>y.value=C),onSubmit:se(g,["prevent"])},{default:t(()=>[e(P,null,{default:t(()=>[e(Z,null,{default:t(()=>[e(q,{cols:"12"},{default:t(()=>[e(W,{modelValue:l.value.subject,"onUpdate:modelValue":m[0]||(m[0]=C=>l.value.subject=C),label:"Subject",placeholder:"Enter request subject",rules:v,required:""},null,8,["modelValue"])]),_:1}),e(q,{cols:"12",sm:"6"},{default:t(()=>[e(x,{modelValue:l.value.category,"onUpdate:modelValue":m[1]||(m[1]=C=>l.value.category=C),label:"Category",placeholder:"Select category",items:w,rules:o,required:""},null,8,["modelValue"])]),_:1}),e(q,{cols:"12",sm:"6"},{default:t(()=>[e(x,{modelValue:l.value.priority,"onUpdate:modelValue":m[2]||(m[2]=C=>l.value.priority=C),label:"Priority",items:$,required:""},null,8,["modelValue"])]),_:1}),e(q,{cols:"12"},{default:t(()=>[e(ue,{modelValue:l.value.description,"onUpdate:modelValue":m[3]||(m[3]=C=>l.value.description=C),label:"Description",placeholder:"Describe your technical issue in detail...",rows:"4",rules:u,required:""},null,8,["modelValue"])]),_:1}),e(q,{cols:"12"},{default:t(()=>[m[6]||(m[6]=a("div",{class:"text-body-2 text-medium-emphasis mb-2"}," Attachments (Optional) ",-1)),e(pe,{label:"Choose files",multiple:"",chips:"","show-size":"",accept:"image/*,.pdf,.doc,.docx,.txt,.log,.zip,.rar",onChange:B}),l.value.attachments.length>0?(_(),G("div",he,[(_(!0),G(le,null,ae(l.value.attachments,(C,Q)=>(_(),V(I,{key:Q,closable:"",class:"me-2 mb-2","onClick:close":We=>r(Q)},{default:t(()=>[e(R,{icon:p(C.name),class:"me-1"},null,8,["icon"]),h(" "+f(C.name),1)]),_:2},1032,["onClick:close"]))),128))])):A("",!0)]),_:1,__:[6]})]),_:1})]),_:1}),e(J),e(X,{class:"pa-4"},{default:t(()=>[e(K),e(k,{variant:"outlined",onClick:d},{default:t(()=>m[7]||(m[7]=[h(" Cancel ")])),_:1,__:[7]}),e(k,{type:"submit",color:"primary",disabled:!T.value||n.value,loading:n.value},{default:t(()=>m[8]||(m[8]=[h(" Submit Request ")])),_:1,__:[8]},8,["disabled","loading"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model-value"])}}}),qe={class:"text-body-1 font-weight-medium"},Ve={class:"text-body-1"},we={class:"d-flex align-center flex-wrap"},xe={class:"text-sm font-weight-medium"},Ce={class:"flex-grow-1 min-width-0"},ke={class:"text-body-1 font-weight-medium text-truncate"},De={class:"text-sm text-medium-emphasis text-truncate"},Re={class:"text-body-1"},$e={class:"text-body-1 font-weight-medium",style:{"word-wrap":"break-word","overflow-wrap":"break-word"}},Se={class:"text-body-1",style:{"word-wrap":"break-word","overflow-wrap":"break-word","white-space":"pre-wrap"}},Ue={class:"text-body-2 text-medium-emphasis mb-2"},Te={class:"flex-grow-1 min-width-0"},Be={class:"d-flex gap-2 flex-wrap justify-end",style:{"flex-basis":"100%"}},pt=z({__name:"ViewRequestDialog",props:{visible:{type:Boolean},request:{},showEditButton:{type:Boolean},isAdmin:{type:Boolean},resolvePriorityVariant:{type:Function},resolveStatusVariant:{type:Function},formatStatus:{type:Function},getFileIcon:{type:Function}},emits:["update:visible","edit"],setup(U,{emit:i}){const s=U,l=i,n=()=>{l("update:visible",!1)},y=()=>{l("edit",s.request)},v=o=>{o.url&&o.url!=="#"&&window.open(o.url,"_blank")};return(o,u)=>{const T=O;return _(),V(L,{"model-value":o.visible,"max-width":"800","onUpdate:modelValue":u[0]||(u[0]=w=>l("update:visible",w))},{default:t(()=>[e(T,{onClick:n}),o.request?(_(),V(N,{key:0,title:"Request Details"},{default:t(()=>[e(P,{class:"pa-4 pa-sm-6"},{default:t(()=>[e(Z,null,{default:t(()=>[e(q,{cols:"12",sm:"6"},{default:t(()=>[u[1]||(u[1]=a("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Request ID ",-1)),a("div",qe,f(o.request.requestId),1)]),_:1,__:[1]}),e(q,{cols:"12",sm:"6"},{default:t(()=>[u[2]||(u[2]=a("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Date ",-1)),a("div",Ve,f(o.request.date),1)]),_:1,__:[2]}),o.isAdmin?(_(),V(q,{key:0,cols:"12"},{default:t(()=>[u[3]||(u[3]=a("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Requester ",-1)),a("div",we,[o.request.userAvatar?(_(),V(E,{key:0,size:"32",class:"me-3 mb-2"},{default:t(()=>[e(ie,{src:o.request.userAvatar},null,8,["src"])]),_:1})):(_(),V(E,{key:1,size:"32",class:"me-3 mb-2",color:"primary"},{default:t(()=>{var w,$;return[a("span",xe,f(($=(w=o.request.userName)==null?void 0:w.charAt(0))==null?void 0:$.toUpperCase()),1)]}),_:1})),a("div",Ce,[a("div",ke,f(o.request.userName),1),a("div",De,f(o.request.userEmail),1)])])]),_:1,__:[3]})):A("",!0),e(q,{cols:"12",sm:"6"},{default:t(()=>[u[4]||(u[4]=a("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Priority ",-1)),e(I,{color:s.resolvePriorityVariant(o.request.priority).color,size:"small",label:"",class:"text-capitalize"},{default:t(()=>[e(R,{icon:s.resolvePriorityVariant(o.request.priority).icon,size:"16",class:"me-1"},null,8,["icon"]),h(" "+f(o.request.priority),1)]),_:1},8,["color"])]),_:1,__:[4]}),e(q,{cols:"12",sm:"6"},{default:t(()=>[u[5]||(u[5]=a("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Status ",-1)),e(I,{color:s.resolveStatusVariant(o.request.status),size:"small",label:"",class:"text-capitalize"},{default:t(()=>[h(f(s.formatStatus(o.request.status)),1)]),_:1},8,["color"])]),_:1,__:[5]}),e(q,{cols:"12"},{default:t(()=>[u[6]||(u[6]=a("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Category ",-1)),a("div",Re,f(o.request.category),1)]),_:1,__:[6]}),e(q,{cols:"12"},{default:t(()=>[u[7]||(u[7]=a("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Subject ",-1)),a("div",$e,f(o.request.subject),1)]),_:1,__:[7]}),e(q,{cols:"12"},{default:t(()=>[u[8]||(u[8]=a("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Description ",-1)),a("div",Se,f(o.request.description),1)]),_:1,__:[8]}),o.request.attachments&&o.request.attachments.length>0?(_(),V(q,{key:1,cols:"12"},{default:t(()=>[a("div",Ue," Attachments ("+f(o.request.attachments.length)+") ",1),e(re,{lines:"two",density:"compact",class:"pa-0"},{default:t(()=>[(_(!0),G(le,null,ae(o.request.attachments,(w,$)=>(_(),V(H,{key:$,class:"px-0"},{prepend:t(()=>[e(E,{color:"primary",variant:"tonal",size:"40",class:"me-2"},{default:t(()=>[e(R,{icon:s.getFileIcon(w.name)},null,8,["icon"])]),_:2},1024)]),append:t(()=>[e(k,{icon:"",variant:"text",size:"small",color:"primary",class:"flex-shrink-0",onClick:p=>v(w)},{default:t(()=>[e(R,{icon:"tabler-download"}),e(ve,{activator:"parent",location:"top"},{default:t(()=>u[9]||(u[9]=[h(" Download ")])),_:1,__:[9]})]),_:2},1032,["onClick"])]),default:t(()=>[a("div",Te,[e(M,{class:"font-weight-medium text-truncate"},{default:t(()=>[h(f(w.name),1)]),_:2},1024),e(ce,{class:"text-truncate"},{default:t(()=>[h(f(w.size),1)]),_:2},1024)])]),_:2},1024))),128))]),_:1})]),_:1})):A("",!0)]),_:1})]),_:1}),e(J),e(X,{class:"pa-4 pa-sm-6"},{default:t(()=>[e(K),a("div",Be,[e(k,{variant:"outlined",onClick:n},{default:t(()=>u[10]||(u[10]=[h(" Close ")])),_:1,__:[10]}),o.showEditButton?(_(),V(k,{key:0,color:"primary",onClick:y},{default:t(()=>[e(R,{icon:"tabler-edit",class:"me-1"}),u[11]||(u[11]=h(" Edit Request "))]),_:1,__:[11]})):A("",!0)])]),_:1})]),_:1})):A("",!0)]),_:1},8,["model-value"])}}}),Ae={class:"text-body-1 font-weight-medium text-primary"},ct=z({__name:"EditRequestDialog",props:{visible:{type:Boolean},request:{},isAdmin:{type:Boolean}},emits:["update:visible","success"],setup(U,{emit:i}){const s=U,l=i,n=j({title:"",description:"",category:"",priority:"medium",status:"open"}),y=j(!1),v=j(!1),o=[d=>!!d||"Title is required",d=>d&&d.length>=5||"Title must be at least 5 characters"],u=[d=>!!d||"Category is required"],T=[d=>!!d||"Description is required",d=>d&&d.length>=10||"Description must be at least 10 characters"],w=F(()=>s.isAdmin&&n.value.title.length>=5&&n.value.category!==""&&n.value.description.length>=10),$=[{title:"Hardware",value:"hardware"},{title:"Software",value:"software"},{title:"Network",value:"network"},{title:"POS System",value:"pos_system"},{title:"Website",value:"website"},{title:"Mobile App",value:"mobile_app"},{title:"Training",value:"training"},{title:"Other",value:"other"}],p=[{title:"Low",value:"low"},{title:"Medium",value:"medium"},{title:"High",value:"high"},{title:"Urgent",value:"urgent"}],c=[{title:"Open",value:"open"},{title:"In Progress",value:"in_progress"},{title:"Pending Info",value:"pending_info"},{title:"Resolved",value:"resolved"},{title:"Closed",value:"closed"},{title:"Cancelled",value:"cancelled"}];me(()=>s.request,d=>{d&&(n.value={title:d.subject||"",description:d.description||"",category:d.category||"",priority:d.priority||"medium",status:d.status||"open"})},{immediate:!0});const B=()=>{l("update:visible",!1)},r=async()=>{if(!(!w.value||!s.request||!s.isAdmin))try{y.value=!0,await ne.updateTechnicalRequest(s.request.id,{title:n.value.title,description:n.value.description,category:n.value.category,priority:n.value.priority,status:n.value.status}),l("success"),l("update:visible",!1)}catch(d){console.error("Error updating technical request:",d)}finally{y.value=!1}};return(d,g)=>{const b=O,m=te,D=ee,W=Y;return _(),V(L,{"model-value":d.visible,"max-width":"600",persistent:"","onUpdate:modelValue":g[6]||(g[6]=x=>l("update:visible",x))},{default:t(()=>[e(b,{onClick:B}),e(N,{title:"Edit Technical Request"},{default:t(()=>[e(oe,{modelValue:v.value,"onUpdate:modelValue":g[5]||(g[5]=x=>v.value=x),onSubmit:se(r,["prevent"])},{default:t(()=>[e(P,null,{default:t(()=>[e(Z,null,{default:t(()=>[d.request?(_(),V(q,{key:0,cols:"12"},{default:t(()=>[g[7]||(g[7]=a("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Request ID ",-1)),a("div",Ae,f(d.request.requestId),1)]),_:1,__:[7]})):A("",!0),e(q,{cols:"12"},{default:t(()=>[e(m,{modelValue:n.value.title,"onUpdate:modelValue":g[0]||(g[0]=x=>n.value.title=x),label:"Title",placeholder:"Enter request title",rules:o,required:""},null,8,["modelValue"])]),_:1}),e(q,{cols:"12",sm:"6"},{default:t(()=>[e(D,{modelValue:n.value.category,"onUpdate:modelValue":g[1]||(g[1]=x=>n.value.category=x),label:"Category",placeholder:"Select category",items:$,rules:u,required:""},null,8,["modelValue"])]),_:1}),e(q,{cols:"12",sm:"6"},{default:t(()=>[e(D,{modelValue:n.value.priority,"onUpdate:modelValue":g[2]||(g[2]=x=>n.value.priority=x),label:"Priority",items:p,required:""},null,8,["modelValue"])]),_:1}),e(q,{cols:"12",sm:"6"},{default:t(()=>[e(D,{modelValue:n.value.status,"onUpdate:modelValue":g[3]||(g[3]=x=>n.value.status=x),label:"Status",items:c,required:""},null,8,["modelValue"])]),_:1}),e(q,{cols:"12"},{default:t(()=>[e(W,{modelValue:n.value.description,"onUpdate:modelValue":g[4]||(g[4]=x=>n.value.description=x),label:"Description",placeholder:"Describe your technical issue in detail...",rows:"4",rules:T,required:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(J),e(X,{class:"pa-4"},{default:t(()=>[e(K),e(k,{variant:"outlined",onClick:B},{default:t(()=>g[8]||(g[8]=[h(" Cancel ")])),_:1,__:[8]}),e(k,{type:"submit",color:"primary",disabled:!w.value||y.value,loading:y.value},{default:t(()=>g[9]||(g[9]=[h(" Update Request ")])),_:1,__:[9]},8,["disabled","loading"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model-value"])}}}),Pe={key:0,class:"text-start pa-4 bg-surface rounded"},Fe={class:"text-body-1"},vt=z({__name:"DeleteConfirmDialog",props:{visible:{type:Boolean},request:{},loading:{type:Boolean,default:!1}},emits:["update:visible","confirm"],setup(U,{emit:i}){const s=i,l=()=>{s("update:visible",!1)},n=()=>{s("confirm")};return(y,v)=>{const o=O;return _(),V(L,{"model-value":y.visible,"max-width":"500","onUpdate:modelValue":v[0]||(v[0]=u=>s("update:visible",u))},{default:t(()=>[e(o,{onClick:l}),e(N,{title:"Confirm Delete"},{default:t(()=>[e(P,null,{default:t(()=>[y.request?(_(),G("div",Pe,[v[1]||(v[1]=a("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Subject ",-1)),a("div",Fe,f(y.request.subject),1)])):A("",!0),v[2]||(v[2]=a("p",{class:"text-body-2 text-error mt-4 mb-0"}," This action cannot be undone. ",-1))]),_:1,__:[2]}),e(P,{class:"d-flex align-center justify-center gap-2"},{default:t(()=>[e(k,{variant:"outlined",onClick:l},{default:t(()=>v[3]||(v[3]=[h(" Cancel ")])),_:1,__:[3]}),e(k,{color:"error",loading:y.loading,onClick:n},{default:t(()=>v[4]||(v[4]=[h(" Delete Request ")])),_:1,__:[4]},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model-value"])}}}),ft=z({__name:"BulkDeleteConfirmDialog",props:{visible:{type:Boolean},selectedCount:{},loading:{type:Boolean,default:!1}},emits:["update:visible","confirm"],setup(U,{emit:i}){const s=i,l=()=>{s("update:visible",!1)},n=()=>{s("confirm")};return(y,v)=>{const o=O;return _(),V(L,{"model-value":y.visible,"max-width":"500","onUpdate:modelValue":v[0]||(v[0]=u=>s("update:visible",u))},{default:t(()=>[e(o,{onClick:l}),e(N,{title:"Confirm Bulk Delete"},{default:t(()=>[e(P),e(P,{class:"d-flex align-center justify-center gap-2"},{default:t(()=>[e(k,{variant:"outlined",onClick:l},{default:t(()=>v[1]||(v[1]=[h(" Cancel ")])),_:1,__:[1]}),e(k,{color:"error",loading:y.loading,onClick:n},{default:t(()=>[h(" Delete "+f(y.selectedCount)+" Request(s) ",1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model-value"])}}}),je={class:"text-center pa-8"},ze={class:"text-body-1 font-weight-medium text-primary"},Ee={class:"d-flex align-center"},Ie={class:"text-sm font-weight-medium"},Oe={class:"text-body-1 font-weight-medium"},Le={class:"text-sm text-medium-emphasis"},Ne={class:"text-body-1"},He={class:"text-sm text-medium-emphasis"},Me={class:"text-body-1"},Ge={class:"d-flex gap-1"},gt=z({__name:"TechnicalRequestsTable",props:{items:{},itemsLength:{},loading:{type:Boolean},selectedRows:{},headers:{},isAdmin:{type:Boolean},itemsPerPage:{},page:{},resolvePriorityVariant:{type:Function},resolveStatusVariant:{type:Function},formatStatus:{type:Function},getFileIcon:{type:Function}},emits:["update:selectedRows","update:itemsPerPage","update:page","view-request","edit-request","delete-request","update:options"],setup(U,{emit:i}){const s=U,l=i,n=F({get:()=>s.selectedRows,set:p=>l("update:selectedRows",p)}),y=F({get:()=>s.itemsPerPage,set:p=>l("update:itemsPerPage",p)}),v=F({get:()=>s.page,set:p=>l("update:page",p)}),o=F(()=>{const p=[...s.headers];if(s.isAdmin){const c=p.findIndex(B=>B.key==="requestId");c!==-1&&p.splice(c+1,0,{title:"Requester",key:"userName",sortable:!1})}return p}),u=p=>{l("update:options",p)},T=p=>{l("view-request",p)},w=p=>{l("edit-request",p)},$=p=>{l("delete-request",p)};return(p,c)=>{const B=ge;return _(),V(ye,{"items-per-page":y.value,"onUpdate:itemsPerPage":c[2]||(c[2]=r=>y.value=r),"model-value":n.value,"onUpdate:modelValue":c[3]||(c[3]=r=>n.value=r),page:v.value,"onUpdate:page":c[4]||(c[4]=r=>v.value=r),items:p.items,"item-value":"id","items-length":p.itemsLength,headers:o.value,class:"text-no-wrap","show-select":"",loading:p.loading,"onUpdate:options":u},{"no-data":t(()=>[a("div",je,[e(R,{icon:"tabler-inbox-off",size:"64",class:"mb-4 text-disabled"}),c[5]||(c[5]=a("h3",{class:"text-h5 mb-2"}," No Technical Requests Found ",-1)),c[6]||(c[6]=a("p",{class:"text-body-1 text-medium-emphasis mb-4"}," No requests match your search criteria. Try adjusting your filters. ",-1))])]),"item.requestId":t(({item:r})=>[a("div",ze,f(r.requestId),1)]),"item.userName":t(({item:r})=>[a("div",Ee,[r.userAvatar?(_(),V(E,{key:0,size:"32",class:"me-3"},{default:t(()=>[e(ie,{src:r.userAvatar},null,8,["src"])]),_:2},1024)):(_(),V(E,{key:1,size:"32",class:"me-3",color:"primary"},{default:t(()=>{var d,g;return[a("span",Ie,f((g=(d=r.userName)==null?void 0:d.charAt(0))==null?void 0:g.toUpperCase()),1)]}),_:2},1024)),a("div",null,[a("div",Oe,f(r.userName),1),a("div",Le,f(r.userEmail),1)])])]),"item.subject":t(({item:r})=>[a("div",Ne,f(r.subject),1),a("div",He,f(r.category),1)]),"item.priority":t(({item:r})=>[e(I,{color:s.resolvePriorityVariant(r.priority).color,size:"small",label:"",class:"text-capitalize"},{default:t(()=>[e(R,{icon:s.resolvePriorityVariant(r.priority).icon,size:"16",class:"me-1"},null,8,["icon"]),h(" "+f(r.priority),1)]),_:2},1032,["color"])]),"item.status":t(({item:r})=>[e(I,{color:s.resolveStatusVariant(r.status),size:"small",label:"",class:"text-capitalize"},{default:t(()=>[h(f(s.formatStatus(r.status)),1)]),_:2},1032,["color"])]),"item.date":t(({item:r})=>[a("div",Me,f(r.date),1)]),"item.actions":t(({item:r})=>[a("div",Ge,[e(k,{icon:"",variant:"text",color:"medium-emphasis",size:"small"},{default:t(()=>[e(R,{icon:"tabler-dots-vertical",size:"22"}),e(be,{activator:"parent"},{default:t(()=>[e(re,null,{default:t(()=>[e(H,{onClick:d=>T(r)},{prepend:t(()=>[e(R,{icon:"tabler-eye"})]),default:t(()=>[e(M,null,{default:t(()=>c[7]||(c[7]=[h("View Details")])),_:1,__:[7]})]),_:2},1032,["onClick"]),p.isAdmin?(_(),V(H,{key:0,onClick:d=>w(r)},{prepend:t(()=>[e(R,{icon:"tabler-edit"})]),default:t(()=>[e(M,null,{default:t(()=>c[8]||(c[8]=[h("Edit Request")])),_:1,__:[8]})]),_:2},1032,["onClick"])):A("",!0),e(H,{onClick:d=>$(r)},{prepend:t(()=>[e(R,{icon:"tabler-trash",color:"error"})]),default:t(()=>[e(M,{class:"text-error"},{default:t(()=>c[9]||(c[9]=[h(" Delete ")])),_:1,__:[9]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),bottom:t(()=>[e(B,{page:v.value,"onUpdate:page":c[0]||(c[0]=r=>v.value=r),"items-per-page":y.value,"onUpdate:itemsPerPage":c[1]||(c[1]=r=>y.value=r),"total-items":p.itemsLength},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","model-value","page","items","items-length","headers","loading"])}}});export{gt as _,pt as a,ct as b,mt as c,vt as d,ft as e,ne as t};
