import{d as ke,g as b,w as pe,a as h,o as f,k as s,y as t,q as m,b7 as lt,aI as M,i as l,h as I,l as a,av as p,t as n,a7 as B,e as it,u as ot,O as w,c as $,bf as G,F as Z,r as nt,a_ as O}from"./main-CSU6kgHA.js";import{u as dt}from"./useValidationRules-BzjSj40d.js";import{u as rt}from"./documentValidation-DSKkZRLQ.js";import{V as x,d as K,f as _,g as we,b as T,a as ee,h as te}from"./VCard-C3SWsjmI.js";import{V as H}from"./VDivider-MLBtUVJ7.js";import{V as ut}from"./VForm-CPwOinhh.js";import{V as U,a as y}from"./VRow-BZVkTVe_.js";import{V as ct}from"./VTextField-2OrF6uJE.js";import{V as mt}from"./VTextarea-UaGK6NZh.js";import{V as ft}from"./VSelect-BqupoXgM.js";import{V as vt}from"./VFileInput-CbS93rS-.js";import{V as Ve}from"./VSpacer-BqsowJbv.js";import{V as pt}from"./VDialog-CdykBzC-.js";import{_ as _t,a as bt}from"./DocumentActionModal.vue_vue_type_script_setup_true_lang-U9_Jhxc8.js";import{_ as yt}from"./ViewTaskDialog.vue_vue_type_script_setup_true_lang-CmZwnB_O.js";import{_ as xt}from"./EditTaskDialog.vue_vue_type_script_setup_true_lang-ze2qiyBk.js";import{_ as gt}from"./DeleteTaskDialog.vue_vue_type_script_setup_true_lang-CMqIpyaZ.js";import{t as ht}from"./task-qHQBqOa6.js";import{f as kt}from"./formatters-aoHiJebZ.js";import{V as F}from"./VChip-5PNz7pmK.js";import{a as X,V as wt}from"./VTabs-5j74-Kdj.js";import{a as J,V as Vt}from"./VWindowItem-dIWkd01E.js";import{V as se}from"./VAlert-BMDbfCJa.js";import{V as re}from"./VDataTable-CQ2gcYKE.js";import{V as Dt}from"./VRating-DYFrW_mV.js";import"./form-CmgP78I7.js";import"./VField-C0HWX8hc.js";import"./VInput-BdCPpNmf.js";import"./VList-DCEwk4iA.js";import"./VMenu-D1DxuMHS.js";import"./VCheckboxBtn-DTlNmqdA.js";import"./VSelectionControl-Co9vCtOS.js";import"./franchise-CeRqY42Q.js";import"./api-router-HVeB8xLM.js";import"./users-CEm4PCzz.js";import"./tasksValidation-D3ebQKwi.js";import"./VSlideGroup-0Gma-9UL.js";import"./VPagination-BoeKG-uc.js";import"./VTable-CJKL4Ra-.js";const zt={class:"flex-grow-1"},Tt={class:"text-body-1 font-weight-medium"},St={class:"text-body-2 text-disabled"},Ct=ke({__name:"AddDocumentModal",props:{isDialogVisible:{type:Boolean}},emits:["update:isDialogVisible","documentAdded"],setup(_e,{emit:ue}){const ae=_e,A=ue,V=b(),{backendErrors:v,setBackendErrors:W,clearError:P}=dt(),k=rt(),E=b(!1),N=b(),g=b({title:"",description:"",type:"",file:null}),q=[{title:"FDD",value:"fdd"},{title:"Franchise Agreement",value:"franchise_agreement"},{title:"Financial Study",value:"financial_study"},{title:"Franchise Kit",value:"franchise_kit"},{title:"Contract",value:"contract"},{title:"Agreement",value:"agreement"},{title:"Manual",value:"manual"},{title:"Certificate",value:"certificate"},{title:"Report",value:"report"},{title:"Other",value:"other"}],R=D=>{A("update:isDialogVisible",D)},S=()=>{g.value={title:"",description:"",type:"",file:null},N.value&&(N.value.value="")},Q=D=>{const u=D.target;u.files&&u.files.length>0&&(g.value.file=u.files[0])},L=D=>{if(D===0)return"0 Bytes";const u=1024,z=["Bytes","KB","MB","GB"],j=Math.floor(Math.log(D)/Math.log(u));return`${Number.parseFloat((D/u**j).toFixed(2))} ${z[j]}`},C=async()=>{const{valid:D}=await V.value.validate();if(!(!D||!g.value.file))try{const u={id:Date.now(),title:g.value.title,description:g.value.description,type:g.value.type,fileName:g.value.file.name,fileSize:L(g.value.file.size),uploadDate:new Date().toISOString().split("T")[0],status:"pending",comment:"",file:g.value.file};A("documentAdded",u),S(),R(!1)}catch(u){W(u)}},Y=()=>{S(),R(!1)};return pe(()=>ae.isDialogVisible,D=>{D||S()}),(D,u)=>(f(),h(pt,{"model-value":ae.isDialogVisible,"max-width":"600",persistent:"","onUpdate:modelValue":R},{default:s(()=>[t(x,null,{default:s(()=>[t(K,{class:"text-h5 pa-6 pb-4"},{default:s(()=>u[9]||(u[9]=[m(" Add Document ")])),_:1,__:[9]}),t(H),t(_,{class:"pa-6"},{default:s(()=>[t(ut,{ref_key:"formRef",ref:V,modelValue:l(E),"onUpdate:modelValue":u[8]||(u[8]=z=>M(E)?E.value=z:null),onSubmit:lt(C,["prevent"])},{default:s(()=>[t(U,null,{default:s(()=>[t(y,{cols:"12"},{default:s(()=>[t(ct,{modelValue:l(g).title,"onUpdate:modelValue":u[0]||(u[0]=z=>l(g).title=z),label:"Document Title",placeholder:"Enter document title",rules:l(k).name,"error-messages":l(v).name,onInput:u[1]||(u[1]=z=>l(P)("name")),required:""},null,8,["modelValue","rules","error-messages"])]),_:1}),t(y,{cols:"12"},{default:s(()=>[t(mt,{modelValue:l(g).description,"onUpdate:modelValue":u[2]||(u[2]=z=>l(g).description=z),label:"Description",placeholder:"Enter document description",rows:"3",rules:l(k).description,"error-messages":l(v).description,onInput:u[3]||(u[3]=z=>l(P)("description")),required:""},null,8,["modelValue","rules","error-messages"])]),_:1}),t(y,{cols:"12"},{default:s(()=>[t(ft,{modelValue:l(g).type,"onUpdate:modelValue":[u[4]||(u[4]=z=>l(g).type=z),u[5]||(u[5]=z=>l(P)("type"))],label:"Document Type",placeholder:"Select document type",items:q,rules:l(k).type,"error-messages":l(v).type,required:""},null,8,["modelValue","rules","error-messages"])]),_:1}),t(y,{cols:"12"},{default:s(()=>[t(vt,{ref_key:"fileInput",ref:N,label:"Select File",placeholder:"Choose a file to upload","prepend-icon":"tabler-paperclip",accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.jpg,.jpeg,.png",rules:l(k).file,"error-messages":l(v).file,onChange:Q,"onUpdate:modelValue":u[6]||(u[6]=z=>l(P)("file")),required:""},null,8,["rules","error-messages"]),u[10]||(u[10]=a("div",{class:"text-caption text-disabled mt-2"}," Supported formats: PDF, DOC, DOCX, XLS, XLSX, PPT, PPTX, TXT, JPG, JPEG, PNG (Max 10MB) ",-1))]),_:1,__:[10]}),l(g).file?(f(),h(y,{key:0,cols:"12"},{default:s(()=>[t(x,{variant:"outlined"},{default:s(()=>[t(_,{class:"d-flex align-center gap-3"},{default:s(()=>[t(p,{icon:"tabler-file-text",size:"24",color:"primary"}),a("div",zt,[a("div",Tt,n(l(g).file.name),1),a("div",St,n(L(l(g).file.size)),1)]),t(B,{icon:"",variant:"text",color:"error",size:"small",onClick:u[7]||(u[7]=z=>{l(g).file=null,l(N)&&(l(N).value="")})},{default:s(()=>[t(p,{icon:"tabler-x"})]),_:1})]),_:1})]),_:1})]),_:1})):I("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(H),t(we,{class:"pa-6"},{default:s(()=>[t(Ve),t(B,{color:"error",variant:"text",onClick:Y},{default:s(()=>u[11]||(u[11]=[m(" Cancel ")])),_:1,__:[11]}),t(B,{color:"primary",disabled:!l(E),onClick:C},{default:s(()=>u[12]||(u[12]=[m(" Add Document ")])),_:1,__:[12]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}}),Nt={key:0,class:"text-center py-12"},Ft={key:1,class:"text-center py-12"},Pt={class:"text-body-1 text-medium-emphasis mb-6"},$t={key:2},It={class:"d-flex align-center justify-space-between"},Ut={class:"d-flex align-center gap-3"},At={class:"text-h2 mb-1"},Rt={class:"text-body-1 text-medium-emphasis"},Mt={class:"mb-4"},Bt={class:"text-body-1 font-weight-medium"},Et={class:"mb-4"},Lt={class:"text-body-1"},jt={class:"mb-4"},Ot={class:"text-body-1"},Ht=["href"],qt={class:"mb-4"},Gt={class:"text-body-1"},Xt={class:"mb-4"},Jt={class:"text-body-1"},Kt={class:"mb-4"},Wt={class:"text-body-1 font-weight-medium text-success"},Qt={class:"mb-4"},Yt={class:"text-body-1"},Zt={class:"mb-4"},es={class:"text-body-1"},ts={class:"text-center"},ss={class:"ms-4"},as={class:"text-h4"},ls={class:"ms-4"},is={class:"text-h4"},os={class:"ms-4"},ns={class:"text-h4"},ds={class:"ms-4"},rs={class:"text-h4"},us={class:"text-base font-weight-medium"},cs={class:"text-body-2 text-disabled"},ms={class:"text-center"},fs={class:"text-center"},vs={class:"d-flex align-center mb-3"},ps={class:"text-h6"},_s={class:"text-body-2 text-disabled mb-0"},bs={class:"text-body-2 mb-3"},ys={class:"d-flex align-center justify-space-between mb-3"},xs={class:"text-body-2 text-disabled"},gs={class:"d-flex align-center justify-space-between mb-3"},hs={class:"text-body-2 text-disabled"},ks={class:"text-center"},ws={class:"text-center"},Vs={class:"ms-4"},Ds={class:"text-h4"},zs={class:"ms-4"},Ts={class:"text-h4"},Ss={class:"ms-4"},Cs={class:"text-h4"},Ns={class:"ms-4"},Fs={class:"text-h4"},Ps={class:"d-flex align-center"},$s={class:"text-body-1 font-weight-medium"},Is={class:"text-body-2 text-disabled"},Us={class:"text-center"},As={class:"text-center"},Rs={class:"ms-4"},Ms={class:"text-h4"},Bs={class:"ms-4"},Es={class:"text-h4"},Ls={class:"ms-4"},js={class:"text-h4"},Os={class:"ms-4"},Hs={class:"text-h4"},qs={class:"text-body-1 font-weight-medium"},Gs={class:"text-center"},Xs={class:"text-center"},Js={class:"ms-4"},Ks={class:"text-h4"},Ws={class:"ms-4"},Qs={class:"text-h4"},Ys={class:"ms-4"},Zs={class:"text-h4"},ea={class:"ms-4"},ta={class:"text-h4"},sa={class:"text-body-1 font-weight-medium"},aa={class:"text-body-2 text-disabled"},la={key:0,class:"text-body-2 text-disabled"},ia={class:"d-flex align-center"},oa={class:"ms-2 text-body-2"},na={class:"max-width-200"},da={class:"text-body-2 text-truncate mb-0"},ra={class:"text-body-2"},ua={class:"text-body-2 text-disabled"},ca={class:"text-center"},Qa=ke({__name:"[id]",setup(_e){const ue=it(),ae=ot(),A=b("overview"),V=w(()=>ae.params.id),v=b(null),W=b(!1),P=b(null),k=b([]),E=b(!1),N=b(null),g=b([]),q=b(!1),R=b(null),S=b([]),Q=b(!1),L=b(null),C=b([]),Y=b(!1),D=b(null),u=b([]),z=b(!1),j=b(null),le=b(!1),ce=b(!1),ie=b(!1),be=b(null),ye=b("approve"),me=b(!1),oe=b(!1),ne=b(!1),fe=b(null),xe=b(null),De=w(()=>k.value.length),ze=w(()=>k.value.filter(o=>o.status==="completed").length),Te=w(()=>k.value.filter(o=>o.status==="in_progress").length),Se=w(()=>{const o=new Date;return k.value.filter(e=>new Date(e.dueDate)<=o&&e.status!=="completed").length}),Ce=w(()=>S.value.length),Ne=w(()=>S.value.filter(o=>o.status==="working").length),Fe=w(()=>S.value.filter(o=>o.status==="leave").length),Pe=w(()=>C.value.length),$e=w(()=>C.value.reduce((o,e)=>o+e.stock,0)),Ie=w(()=>C.value.filter(o=>o.stock>0&&o.stock<=10).length),Ue=w(()=>C.value.filter(o=>o.stock===0).length),Ae=w(()=>u.value.length===0?"0.0":(u.value.reduce((e,d)=>e+d.rating,0)/u.value.length).toFixed(1));w(()=>u.value.filter(o=>o.sentiment==="positive").length),w(()=>u.value.filter(o=>o.sentiment==="negative").length);const Re=w(()=>u.value.length);w(()=>u.value.filter(o=>o.status==="published").length);const Me=w(()=>u.value.filter(o=>o.status==="draft").length),Be=w(()=>u.value.filter(o=>o.verified_purchase).length),Ee=async()=>{var o,e,d,r,i;W.value=!0,P.value=null;try{const c=await O(`/v1/units/${V.value}`);c.success&&c.data?v.value={id:c.data.id,branchName:c.data.unit_name||"Unnamed Unit",franchiseeId:(o=c.data.franchisee)==null?void 0:o.id,franchiseeName:((e=c.data.franchisee)==null?void 0:e.name)||"Unassigned",email:((d=c.data.franchisee)==null?void 0:d.email)||"unassigned@example.com",contactNumber:((r=c.data.franchisee)==null?void 0:r.phone)||c.data.phone||"Not available",address:c.data.address||"Address not available",city:c.data.city||"Unknown",state:c.data.state_province||"Unknown",country:c.data.country||"Unknown",royaltyPercentage:8.5,contractStartDate:c.data.lease_start_date||"2024-01-01",renewalDate:c.data.lease_end_date||"2027-01-01",status:c.data.status||"inactive",type:c.data.unit_type||"other",sizeSqft:c.data.size_sqft||0,capacity:c.data.capacity||0,openingDate:c.data.opening_date||null,monthlyRent:c.data.monthly_rent||0}:P.value="Unit not found"}catch(c){console.error("Failed to load unit data:",c),P.value=((i=c==null?void 0:c.data)==null?void 0:i.message)||"Failed to load unit data",v.value=null}finally{W.value=!1}},Le=async()=>{var o,e;if(V.value){E.value=!0,N.value=null;try{const d=await O(`/v1/tasks?unit_id=${V.value}`);d.success&&((o=d.data)!=null&&o.data)?k.value=d.data.data.map(r=>{var i;return{id:r.id,title:r.title,description:r.description||"",category:r.type||"General",assignedTo:((i=r.assigned_to_user)==null?void 0:i.name)||"Unassigned",startDate:r.started_at?new Date(r.started_at).toISOString().split("T")[0]:null,dueDate:r.due_date||null,priority:r.priority||"medium",status:r.status||"pending",estimatedHours:r.estimated_hours||0,actualHours:r.actual_hours||0,completionNotes:r.completion_notes||"",attachments:r.attachments||[]}}):k.value=[]}catch(d){console.error("Failed to load tasks data:",d),N.value=((e=d==null?void 0:d.data)==null?void 0:e.message)||"Failed to load tasks data",k.value=[]}finally{E.value=!1}}},je=async()=>{var o,e,d;if(!(!V.value||!v.value)){q.value=!0,R.value=null;try{const r=(o=v.value.franchise)==null?void 0:o.id;if(!r){g.value=[],q.value=!1;return}const i=await O(`/v1/franchises/${r}/documents`);i.success&&((e=i.data)!=null&&e.data)?g.value=i.data.data.map(c=>({id:c.id,title:c.name,description:c.description||"",fileName:c.file_name,fileSize:Ge(c.file_size||0),uploadDate:c.created_at?new Date(c.created_at).toISOString().split("T")[0]:"",type:c.type||"Document",status:c.status||"active",comment:"",filePath:c.file_path,franchiseId:c.franchise_id})):g.value=[]}catch(r){console.error("Failed to load documents data:",r),R.value=((d=r==null?void 0:r.data)==null?void 0:d.message)||"Failed to load documents data",g.value=[]}finally{q.value=!1}}},Oe=async()=>{var o;if(V.value){Y.value=!0,D.value=null;try{const e=await O(`/v1/units/${V.value}/inventory`);e.data?C.value=e.data.map(d=>({id:d.id,name:d.name,description:d.description||"",unitPrice:Number(d.unit_price)||0,category:d.category||"General",status:"active",stock:Number(d.quantity)||0,sku:"",minimumStock:Number(d.reorder_level)||0})):C.value=[]}catch(e){console.error("Failed to load products data:",e),D.value=((o=e==null?void 0:e.data)==null?void 0:o.message)||"Failed to load products data",C.value=[]}finally{Y.value=!1}}},He=async()=>{var o;if(V.value){Q.value=!0,L.value=null;try{const e=await O(`/v1/units/${V.value}/staff`);e.success&&e.data?S.value=e.data.map(d=>({id:d.id,name:d.name,jobTitle:d.jobTitle,email:d.email,shiftTime:d.shiftTime,status:d.status,phone:d.phone||"",avatar:"",lastLogin:null})):S.value=[]}catch(e){console.error("Failed to load staff data:",e),L.value=((o=e==null?void 0:e.data)==null?void 0:o.message)||"Failed to load staff data",S.value=[]}finally{Q.value=!1}}},qe=async()=>{var o,e;if(V.value){z.value=!0,j.value=null;try{const d=await O(`/v1/reviews?unit_id=${V.value}`);d.success&&((o=d.data)!=null&&o.data)?u.value=d.data.data.map(r=>{var i;return{id:r.id,customerName:r.customer_name,customerEmail:r.customer_email||"",customerPhone:r.customer_phone||"",rating:r.rating,comment:r.comment||"",date:r.review_date?new Date(r.review_date).toISOString().split("T")[0]:"",sentiment:r.sentiment,status:r.status,source:r.review_source,verifiedPurchase:r.verified_purchase,internalNotes:r.internal_notes||"",franchiseeName:((i=r.franchisee)==null?void 0:i.name)||"Unknown",addedDate:r.created_at?new Date(r.created_at).toISOString().split("T")[0]:""}}):u.value=[]}catch(d){console.error("Failed to load reviews data:",d),j.value=((e=d==null?void 0:d.data)==null?void 0:e.message)||"Failed to load reviews data",u.value=[]}finally{z.value=!1}}},Ge=o=>{if(o===0)return"0 Bytes";const e=1024,d=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(o)/Math.log(e));return`${Number.parseFloat((o/e**r).toFixed(2))} ${d[r]}`},ge=()=>{ue.push("/franchisor/my-units")},de=o=>o==="active"||o==="completed"||o==="approved"?"success":o==="pending"||o==="in_progress"?"warning":o==="inactive"||o==="rejected"?"error":"secondary",Xe=o=>o==="high"?"error":o==="medium"?"warning":o==="low"?"info":"secondary",he=(o,e)=>{be.value=o,ye.value=e,ie.value=!0},Je=async o=>{var e;try{const d=((e=v.value)==null?void 0:e.franchiseeName)||o.assignedTo,r={title:o.title,description:o.description,category:o.category,priority:o.priority,status:o.status,unit_id:V.value,assigned_to:d,due_date:o.dueDate,estimated_hours:o.estimatedHours??0,actual_hours:o.actualHours??0},i=await ht.createTask(r);i.success?k.value.push(i.data):console.error("Failed to create task:",i.message)}catch(d){console.error("Error creating task:",d)}},Ke=o=>{g.value.push(o)},We=async o=>{var e,d;try{const r=((e=v.value.franchise)==null?void 0:e.id)||((d=g.value[0])==null?void 0:d.franchiseId);if(!r){console.error("Franchise ID not found for document approval");return}const i=o.action==="approve"?`/v1/franchises/${r}/documents/${o.document.id}/approve`:`/v1/franchises/${r}/documents/${o.document.id}/reject`,c=await O(i,{method:"PATCH",body:{comment:o.comment}});if(c.success){const ve=g.value.findIndex(at=>at.id===o.document.id);ve!==-1&&(g.value[ve].status=o.action==="approve"?"approved":"rejected",g.value[ve].comment=o.comment)}else console.error(`Failed to ${o.action} document:`,c)}catch(r){console.error(`Error ${o.action}ing document:`,r)}},Qe=o=>{const e=k.value.findIndex(d=>d.id===o.id);e!==-1&&(k.value[e]=o),oe.value=!1,fe.value=null},Ye=o=>{const e=k.value.findIndex(d=>d.id===o);e!==-1&&k.value.splice(e,1),ne.value=!1,xe.value=null},Ze=[{title:"Task Info",key:"taskInfo"},{title:"Category",key:"category"},{title:"Start Date",key:"startDate"},{title:"Due Date",key:"dueDate"},{title:"Priority",key:"priority"},{title:"Status",key:"status"}],et=[{title:"Name",key:"name"},{title:"Job Title",key:"jobTitle"},{title:"Email",key:"email"},{title:"Shift Time",key:"shiftTime"},{title:"Status",key:"status"}],tt=[{title:"Product Name",key:"name"},{title:"Description",key:"description"},{title:"Category",key:"category"},{title:"Unit Price",key:"unitPrice"},{title:"Stock",key:"stock"},{title:"Status",key:"status"}],st=[{title:"Customer",key:"customerName"},{title:"Rating",key:"rating"},{title:"Comment",key:"comment"},{title:"Source",key:"source"},{title:"Status",key:"status"},{title:"Added By",key:"franchiseeName"}];return pe(()=>V.value,()=>{V.value&&Ee()},{immediate:!0}),pe(()=>v.value,()=>{v.value&&V.value&&(Le(),je(),He(),Oe(),qe())},{immediate:!0}),(o,e)=>{var d,r;return f(),$("section",null,[l(W)?(f(),$("div",Nt,[t(G,{indeterminate:"",size:"64",class:"mb-4"}),e[14]||(e[14]=a("h3",{class:"text-h3 mb-2"}," Loading Unit Details... ",-1)),e[15]||(e[15]=a("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the unit information. ",-1))])):l(P)||!l(v)?(f(),$("div",Ft,[t(p,{icon:"tabler-alert-circle",size:"64",class:"text-error mb-4"}),e[17]||(e[17]=a("h3",{class:"text-h3 mb-2"}," Error Loading Unit ",-1)),a("p",Pt,n(l(P)||"Unit not found or you don't have permission to view it."),1),t(B,{color:"primary","prepend-icon":"tabler-arrow-left",onClick:ge},{default:s(()=>e[16]||(e[16]=[m(" Back to Units ")])),_:1,__:[16]})])):(f(),$("div",$t,[t(U,{class:"mb-6"},{default:s(()=>[t(y,{cols:"12"},{default:s(()=>[a("div",It,[a("div",Ut,[t(B,{icon:"",variant:"text",color:"default",onClick:ge},{default:s(()=>[t(p,{icon:"tabler-arrow-left"})]),_:1}),a("div",null,[a("h2",At,n(l(v).branchName),1),a("p",Rt," Managed by "+n(l(v).franchiseeName)+" • "+n(l(v).city)+", "+n(l(v).state),1)])]),t(F,{color:de(l(v).status),size:"large",label:"",class:"text-capitalize"},{default:s(()=>[m(n(l(v).status),1)]),_:1},8,["color"])])]),_:1})]),_:1}),t(wt,{modelValue:l(A),"onUpdate:modelValue":e[0]||(e[0]=i=>M(A)?A.value=i:null),class:"mb-6"},{default:s(()=>[t(X,{value:"overview"},{default:s(()=>[t(p,{icon:"tabler-info-circle",start:""}),e[18]||(e[18]=m(" Overview "))]),_:1,__:[18]}),t(X,{value:"tasks"},{default:s(()=>[t(p,{icon:"tabler-checklist",start:""}),e[19]||(e[19]=m(" Tasks "))]),_:1,__:[19]}),t(X,{value:"documents"},{default:s(()=>[t(p,{icon:"tabler-files",start:""}),e[20]||(e[20]=m(" Documents "))]),_:1,__:[20]}),t(X,{value:"staffs"},{default:s(()=>[t(p,{icon:"tabler-users",start:""}),e[21]||(e[21]=m(" Staffs "))]),_:1,__:[21]}),t(X,{value:"inventory"},{default:s(()=>[t(p,{icon:"tabler-package",start:""}),e[22]||(e[22]=m(" Inventory Management "))]),_:1,__:[22]}),t(X,{value:"reviews"},{default:s(()=>[t(p,{icon:"tabler-star",start:""}),e[23]||(e[23]=m(" Customer Reviews "))]),_:1,__:[23]})]),_:1},8,["modelValue"]),t(Vt,{modelValue:l(A),"onUpdate:modelValue":e[7]||(e[7]=i=>M(A)?A.value=i:null),class:"disable-tab-transition"},{default:s(()=>[t(J,{value:"overview"},{default:s(()=>[t(x,null,{default:s(()=>[t(_,null,{default:s(()=>[t(U,null,{default:s(()=>[t(y,{cols:"12"},{default:s(()=>[e[29]||(e[29]=a("h4",{class:"text-h6 mb-4"}," Basic Information ",-1)),t(x,{variant:"outlined"},{default:s(()=>[t(_,null,{default:s(()=>[t(U,null,{default:s(()=>[t(y,{cols:"12",md:"6"},{default:s(()=>[a("div",Mt,[e[24]||(e[24]=a("div",{class:"text-sm text-disabled mb-1"}," Branch Name ",-1)),a("div",Bt,n(l(v).branchName),1)])]),_:1}),t(y,{cols:"12",md:"6"},{default:s(()=>[a("div",Et,[e[25]||(e[25]=a("div",{class:"text-sm text-disabled mb-1"}," Franchisee Name ",-1)),a("div",Lt,n(l(v).franchiseeName),1)])]),_:1}),t(y,{cols:"12",md:"6"},{default:s(()=>[a("div",jt,[e[26]||(e[26]=a("div",{class:"text-sm text-disabled mb-1"}," Email Address ",-1)),a("div",Ot,[a("a",{href:`mailto:${l(v).email}`,class:"text-primary"},n(l(v).email),9,Ht)])])]),_:1}),t(y,{cols:"12",md:"6"},{default:s(()=>[a("div",qt,[e[27]||(e[27]=a("div",{class:"text-sm text-disabled mb-1"}," Contact Number ",-1)),a("div",Gt,n(l(v).contactNumber),1)])]),_:1}),t(y,{cols:"12"},{default:s(()=>[a("div",Xt,[e[28]||(e[28]=a("div",{class:"text-sm text-disabled mb-1"}," Address ",-1)),a("div",Jt,n(l(v).address)+", "+n(l(v).city)+", "+n(l(v).state)+", "+n(l(v).country),1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1,__:[29]}),t(y,{cols:"12"},{default:s(()=>[e[33]||(e[33]=a("h4",{class:"text-h6 mb-4"}," Franchisee Details ",-1)),t(x,{variant:"outlined"},{default:s(()=>[t(_,null,{default:s(()=>[t(U,null,{default:s(()=>[t(y,{cols:"12",md:"4"},{default:s(()=>[a("div",Kt,[e[30]||(e[30]=a("div",{class:"text-sm text-disabled mb-1"}," Royalty Percentage ",-1)),a("div",Wt,n(l(v).royaltyPercentage)+"% ",1)])]),_:1}),t(y,{cols:"12",md:"4"},{default:s(()=>[a("div",Qt,[e[31]||(e[31]=a("div",{class:"text-sm text-disabled mb-1"}," Contract Start Date ",-1)),a("div",Yt,n(l(v).contractStartDate),1)])]),_:1}),t(y,{cols:"12",md:"4"},{default:s(()=>[a("div",Zt,[e[32]||(e[32]=a("div",{class:"text-sm text-disabled mb-1"}," Renewal Date ",-1)),a("div",es,n(l(v).renewalDate),1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1,__:[33]})]),_:1})]),_:1})]),_:1})]),_:1}),t(J,{value:"tasks"},{default:s(()=>[l(N)?(f(),h(se,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[1]||(e[1]=i=>N.value=null)},{default:s(()=>[m(n(l(N)),1)]),_:1})):I("",!0),l(E)?(f(),h(x,{key:1,class:"mb-6"},{default:s(()=>[t(_,{class:"py-8"},{default:s(()=>[a("div",ts,[t(G,{indeterminate:"",size:"48",class:"mb-4"}),e[34]||(e[34]=a("h4",{class:"text-h4 mb-2"}," Loading Tasks... ",-1)),e[35]||(e[35]=a("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the task information. ",-1))])]),_:1})]),_:1})):(f(),$(Z,{key:2},[t(U,{class:"mb-6"},{default:s(()=>[t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(_,{class:"d-flex align-center"},{default:s(()=>[t(T,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:s(()=>[t(p,{icon:"tabler-checklist",size:"26"})]),_:1}),a("div",ss,[e[36]||(e[36]=a("div",{class:"text-body-2 text-disabled"}," Total Tasks ",-1)),a("h4",as,n(l(De)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(_,{class:"d-flex align-center"},{default:s(()=>[t(T,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:s(()=>[t(p,{icon:"tabler-check",size:"26"})]),_:1}),a("div",ls,[e[37]||(e[37]=a("div",{class:"text-body-2 text-disabled"}," Completed ",-1)),a("h4",is,n(l(ze)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(_,{class:"d-flex align-center"},{default:s(()=>[t(T,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:s(()=>[t(p,{icon:"tabler-clock",size:"26"})]),_:1}),a("div",os,[e[38]||(e[38]=a("div",{class:"text-body-2 text-disabled"}," In Progress ",-1)),a("h4",ns,n(l(Te)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(_,{class:"d-flex align-center"},{default:s(()=>[t(T,{size:"44",rounded:"",color:"error",variant:"tonal"},{default:s(()=>[t(p,{icon:"tabler-alert-circle",size:"26"})]),_:1}),a("div",ds,[e[39]||(e[39]=a("div",{class:"text-body-2 text-disabled"}," Due ",-1)),a("h4",rs,n(l(Se)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(x,null,{default:s(()=>[t(ee,{class:"pb-4"},{append:s(()=>[t(B,{color:"primary","prepend-icon":"tabler-plus",onClick:e[2]||(e[2]=i=>le.value=!0)},{default:s(()=>e[42]||(e[42]=[m(" Create Task ")])),_:1,__:[42]})]),default:s(()=>[a("div",null,[t(K,null,{default:s(()=>e[40]||(e[40]=[m("Tasks")])),_:1,__:[40]}),t(te,{class:"text-body-2 text-disabled"},{default:s(()=>e[41]||(e[41]=[m(" Create and manage tasks for this unit ")])),_:1,__:[41]})])]),_:1}),t(H),l(k).length>0?(f(),h(re,{key:0,items:l(k),headers:Ze,class:"text-no-wrap","item-value":"id"},{"item.taskInfo":s(({item:i})=>[a("div",null,[a("h6",us,n(i.title),1),a("div",cs,n(i.description),1)])]),"item.priority":s(({item:i})=>[t(F,{color:Xe(i.priority),size:"small",label:"",class:"text-capitalize"},{default:s(()=>[m(n(i.priority),1)]),_:2},1032,["color"])]),"item.status":s(({item:i})=>[t(F,{color:de(i.status),size:"small",label:"",class:"text-capitalize"},{default:s(()=>[m(n(i.status),1)]),_:2},1032,["color"])]),_:1},8,["items"])):(f(),h(_,{key:1,class:"py-8"},{default:s(()=>[a("div",ms,[t(p,{icon:"tabler-checklist",size:"64",class:"text-disabled mb-4"}),e[43]||(e[43]=a("h4",{class:"text-h4 mb-2"}," No Tasks Found ",-1)),e[44]||(e[44]=a("p",{class:"text-body-1 text-medium-emphasis"}," There are no tasks assigned to this unit yet. The franchisee can create tasks to manage operations. ",-1))])]),_:1}))]),_:1})],64))]),_:1}),t(J,{value:"documents"},{default:s(()=>[l(R)?(f(),h(se,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[3]||(e[3]=i=>R.value=null)},{default:s(()=>[m(n(l(R)),1)]),_:1})):I("",!0),l(q)?(f(),h(x,{key:1},{default:s(()=>[t(_,{class:"py-8"},{default:s(()=>[a("div",fs,[t(G,{indeterminate:"",size:"48",class:"mb-4"}),e[45]||(e[45]=a("h4",{class:"text-h4 mb-2"}," Loading Documents... ",-1)),e[46]||(e[46]=a("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the document information. ",-1))])]),_:1})]),_:1})):(f(),h(x,{key:2},{default:s(()=>[t(ee,{class:"pb-4"},{default:s(()=>[t(K,null,{default:s(()=>e[47]||(e[47]=[m("Unit Documents")])),_:1,__:[47]}),t(te,{class:"text-body-2 text-disabled"},{default:s(()=>e[48]||(e[48]=[m(" Review and approve documents uploaded by franchisees ")])),_:1,__:[48]})]),_:1}),t(H),l(g).length>0?(f(),h(_,{key:0},{default:s(()=>[t(U,null,{default:s(()=>[(f(!0),$(Z,null,nt(l(g),i=>(f(),h(y,{key:i.id,cols:"12",md:"6",lg:"4"},{default:s(()=>[t(x,null,{default:s(()=>[t(_,null,{default:s(()=>[a("div",vs,[t(p,{icon:"tabler-file-text",size:"24",color:"primary",class:"me-3"}),a("div",null,[a("h6",ps,n(i.title),1),a("p",_s,n(i.type),1)])]),a("p",bs,n(i.description),1),a("div",ys,[a("span",xs,n(i.fileName),1),t(F,{size:"small",color:"secondary"},{default:s(()=>[m(n(i.fileSize),1)]),_:2},1024)]),a("div",gs,[a("span",hs,n(i.uploadDate),1),t(F,{color:de(i.status),size:"small",label:"",class:"text-capitalize"},{default:s(()=>[m(n(i.status),1)]),_:2},1032,["color"])])]),_:2},1024),t(we,null,{default:s(()=>[t(B,{size:"small",variant:"text",color:"primary","prepend-icon":"tabler-download"},{default:s(()=>e[49]||(e[49]=[m(" Download ")])),_:1,__:[49]}),t(Ve),i.status==="active"?(f(),h(B,{key:0,size:"small",variant:"text",color:"success",onClick:c=>he(i,"approve")},{default:s(()=>e[50]||(e[50]=[m(" Approve ")])),_:2,__:[50]},1032,["onClick"])):I("",!0),i.status==="active"?(f(),h(B,{key:1,size:"small",variant:"text",color:"error",onClick:c=>he(i,"reject")},{default:s(()=>e[51]||(e[51]=[m(" Reject ")])),_:2,__:[51]},1032,["onClick"])):I("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(f(),h(_,{key:1,class:"py-8"},{default:s(()=>[a("div",ks,[t(p,{icon:"tabler-files",size:"64",class:"text-disabled mb-4"}),e[52]||(e[52]=a("h4",{class:"text-h4 mb-2"}," No Documents Found ",-1)),e[53]||(e[53]=a("p",{class:"text-body-1 text-medium-emphasis"}," There are no documents uploaded for this unit yet. The franchisee can upload important documents and files. ",-1))])]),_:1}))]),_:1}))]),_:1}),t(J,{value:"staffs"},{default:s(()=>[l(L)?(f(),h(se,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[4]||(e[4]=i=>L.value=null)},{default:s(()=>[m(n(l(L)),1)]),_:1})):I("",!0),l(Q)?(f(),h(x,{key:1,class:"mb-6"},{default:s(()=>[t(_,{class:"py-8"},{default:s(()=>[a("div",ws,[t(G,{indeterminate:"",size:"48",class:"mb-4"}),e[54]||(e[54]=a("h4",{class:"text-h4 mb-2"}," Loading Staff... ",-1)),e[55]||(e[55]=a("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the staff information. ",-1))])]),_:1})]),_:1})):(f(),$(Z,{key:2},[t(U,{class:"mb-6"},{default:s(()=>[t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(_,{class:"d-flex align-center"},{default:s(()=>[t(T,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:s(()=>[t(p,{icon:"tabler-users",size:"26"})]),_:1}),a("div",Vs,[e[56]||(e[56]=a("div",{class:"text-body-2 text-disabled"}," Total Staff ",-1)),a("h4",Ds,n(l(Ce)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(_,{class:"d-flex align-center"},{default:s(()=>[t(T,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:s(()=>[t(p,{icon:"tabler-user-check",size:"26"})]),_:1}),a("div",zs,[e[57]||(e[57]=a("div",{class:"text-body-2 text-disabled"}," Working ",-1)),a("h4",Ts,n(l(Ne)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(_,{class:"d-flex align-center"},{default:s(()=>[t(T,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:s(()=>[t(p,{icon:"tabler-calendar-off",size:"26"})]),_:1}),a("div",Ss,[e[58]||(e[58]=a("div",{class:"text-body-2 text-disabled"}," On Leave ",-1)),a("h4",Cs,n(l(Fe)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(_,{class:"d-flex align-center"},{default:s(()=>[t(T,{size:"44",rounded:"",color:"info",variant:"tonal"},{default:s(()=>[t(p,{icon:"tabler-user-plus",size:"26"})]),_:1}),a("div",Ns,[e[59]||(e[59]=a("div",{class:"text-body-2 text-disabled"}," Active ",-1)),a("h4",Fs,n(l(S).filter(i=>i.status==="working").length),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(x,null,{default:s(()=>[t(ee,{class:"pb-4"},{default:s(()=>[t(K,null,{default:s(()=>e[60]||(e[60]=[m("Staff Members")])),_:1,__:[60]}),t(te,{class:"text-body-2 text-disabled"},{default:s(()=>e[61]||(e[61]=[m(" View-only access - Staff management is handled by franchisees ")])),_:1,__:[61]})]),_:1}),t(H),l(S).length>0?(f(),h(re,{key:0,items:l(S),headers:et,class:"text-no-wrap","item-value":"id"},{"item.name":s(({item:i})=>[a("div",Ps,[t(T,{size:"32",image:i.avatar,class:"me-3"},{default:s(()=>[i.avatar?I("",!0):(f(),h(p,{key:0,icon:"tabler-user"}))]),_:2},1032,["image"]),a("div",null,[a("div",$s,n(i.name),1),a("div",Is,n(i.phone||"No phone"),1)])])]),"item.jobTitle":s(({item:i})=>[t(F,{size:"small",color:"primary",variant:"tonal",label:""},{default:s(()=>[m(n(i.jobTitle),1)]),_:2},1024)]),"item.status":s(({item:i})=>[t(F,{color:i.status==="working"?"success":"warning",size:"small",label:"",class:"text-capitalize"},{default:s(()=>[m(n(i.status),1)]),_:2},1032,["color"])]),_:1},8,["items"])):(f(),h(_,{key:1,class:"py-8"},{default:s(()=>[a("div",Us,[t(p,{icon:"tabler-users",size:"64",class:"text-disabled mb-4"}),e[62]||(e[62]=a("h4",{class:"text-h4 mb-2"}," No Staff Members Found ",-1)),e[63]||(e[63]=a("p",{class:"text-body-1 text-medium-emphasis"}," There are no staff members assigned to this franchise yet. The franchisee can manage staff assignments and roles. ",-1))])]),_:1}))]),_:1})],64))]),_:1}),t(J,{value:"inventory"},{default:s(()=>[l(D)?(f(),h(se,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[5]||(e[5]=i=>D.value=null)},{default:s(()=>[m(n(l(D)),1)]),_:1})):I("",!0),l(Y)?(f(),h(x,{key:1,class:"mb-6"},{default:s(()=>[t(_,{class:"py-8"},{default:s(()=>[a("div",As,[t(G,{indeterminate:"",size:"48",class:"mb-4"}),e[64]||(e[64]=a("h4",{class:"text-h4 mb-2"}," Loading Inventory... ",-1)),e[65]||(e[65]=a("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the inventory information. ",-1))])]),_:1})]),_:1})):(f(),$(Z,{key:2},[t(U,{class:"mb-6"},{default:s(()=>[t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(_,{class:"d-flex align-center"},{default:s(()=>[t(T,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:s(()=>[t(p,{icon:"tabler-package",size:"26"})]),_:1}),a("div",Rs,[e[66]||(e[66]=a("div",{class:"text-body-2 text-disabled"}," Total Products ",-1)),a("h4",Ms,n(l(Pe)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(_,{class:"d-flex align-center"},{default:s(()=>[t(T,{size:"44",rounded:"",color:"info",variant:"tonal"},{default:s(()=>[t(p,{icon:"tabler-stack",size:"26"})]),_:1}),a("div",Bs,[e[67]||(e[67]=a("div",{class:"text-body-2 text-disabled"}," Total Stock ",-1)),a("h4",Es,n(l($e)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(_,{class:"d-flex align-center"},{default:s(()=>[t(T,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:s(()=>[t(p,{icon:"tabler-alert-triangle",size:"26"})]),_:1}),a("div",Ls,[e[68]||(e[68]=a("div",{class:"text-body-2 text-disabled"}," Low Stock ",-1)),a("h4",js,n(l(Ie)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(_,{class:"d-flex align-center"},{default:s(()=>[t(T,{size:"44",rounded:"",color:"error",variant:"tonal"},{default:s(()=>[t(p,{icon:"tabler-x",size:"26"})]),_:1}),a("div",Os,[e[69]||(e[69]=a("div",{class:"text-body-2 text-disabled"}," Out of Stock ",-1)),a("h4",Hs,n(l(Ue)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(x,null,{default:s(()=>[t(ee,{class:"pb-4"},{default:s(()=>[t(K,null,{default:s(()=>e[70]||(e[70]=[m("Inventory")])),_:1,__:[70]}),t(te,{class:"text-body-2 text-disabled"},{default:s(()=>e[71]||(e[71]=[m(" View-only access - Product management is handled by franchisees ")])),_:1,__:[71]})]),_:1}),t(H),l(C).length>0?(f(),h(re,{key:0,items:l(C),headers:tt,class:"text-no-wrap","item-value":"id"},{"item.unitPrice":s(({item:i})=>[a("div",qs,n(l(kt)(i.unitPrice)),1)]),"item.stock":s(({item:i})=>[t(F,{color:i.stock===0?"error":i.stock<=10?"warning":"success",size:"small",label:""},{default:s(()=>[m(n(i.stock),1)]),_:2},1032,["color"])]),"item.status":s(({item:i})=>[t(F,{color:de(i.status),size:"small",label:"",class:"text-capitalize"},{default:s(()=>[m(n(i.status),1)]),_:2},1032,["color"])]),_:1},8,["items"])):(f(),h(_,{key:1,class:"py-8"},{default:s(()=>[a("div",Gs,[t(p,{icon:"tabler-package",size:"64",class:"text-disabled mb-4"}),e[72]||(e[72]=a("h4",{class:"text-h4 mb-2"}," No Products Found ",-1)),e[73]||(e[73]=a("p",{class:"text-body-1 text-medium-emphasis"}," There are no products in the inventory for this unit yet. The franchisee can manage products and stock levels. ",-1))])]),_:1}))]),_:1})],64))]),_:1}),t(J,{value:"reviews"},{default:s(()=>[l(j)?(f(),h(se,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[6]||(e[6]=i=>j.value=null)},{default:s(()=>[m(n(l(j)),1)]),_:1})):I("",!0),l(z)?(f(),h(x,{key:1,class:"mb-6"},{default:s(()=>[t(_,{class:"py-8"},{default:s(()=>[a("div",Xs,[t(G,{indeterminate:"",size:"48",class:"mb-4"}),e[74]||(e[74]=a("h4",{class:"text-h4 mb-2"}," Loading Reviews... ",-1)),e[75]||(e[75]=a("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the review information. ",-1))])]),_:1})]),_:1})):(f(),$(Z,{key:2},[t(U,{class:"mb-6"},{default:s(()=>[t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(_,{class:"d-flex align-center"},{default:s(()=>[t(T,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:s(()=>[t(p,{icon:"tabler-star",size:"26"})]),_:1}),a("div",Js,[e[76]||(e[76]=a("div",{class:"text-body-2 text-disabled"}," Total Reviews ",-1)),a("h4",Ks,n(l(Re)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(_,{class:"d-flex align-center"},{default:s(()=>[t(T,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:s(()=>[t(p,{icon:"tabler-star",size:"26"})]),_:1}),a("div",Ws,[e[77]||(e[77]=a("div",{class:"text-body-2 text-disabled"}," Avg Rating ",-1)),a("h4",Qs,n(l(Ae)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(_,{class:"d-flex align-center"},{default:s(()=>[t(T,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:s(()=>[t(p,{icon:"tabler-file-text",size:"26"})]),_:1}),a("div",Ys,[e[78]||(e[78]=a("div",{class:"text-body-2 text-disabled"}," Draft ",-1)),a("h4",Zs,n(l(Me)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(_,{class:"d-flex align-center"},{default:s(()=>[t(T,{size:"44",rounded:"",color:"info",variant:"tonal"},{default:s(()=>[t(p,{icon:"tabler-check",size:"26"})]),_:1}),a("div",ea,[e[79]||(e[79]=a("div",{class:"text-body-2 text-disabled"}," Verified ",-1)),a("h4",ta,n(l(Be)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(x,null,{default:s(()=>[t(ee,{class:"pb-4"},{default:s(()=>[t(K,null,{default:s(()=>e[80]||(e[80]=[m("Customer Reviews")])),_:1,__:[80]}),t(te,{class:"text-body-2 text-disabled"},{default:s(()=>e[81]||(e[81]=[m(" View-only access - Customer review management is handled by franchisees ")])),_:1,__:[81]})]),_:1}),t(H),l(u).length>0?(f(),h(re,{key:0,items:l(u),headers:st,class:"text-no-wrap","item-value":"id"},{"item.customerName":s(({item:i})=>[a("div",null,[a("div",sa,n(i.customerName),1),a("div",aa,n(i.customerEmail||"No email"),1),i.customerPhone?(f(),$("div",la,n(i.customerPhone),1)):I("",!0)])]),"item.rating":s(({item:i})=>[a("div",ia,[t(Dt,{"model-value":i.rating,density:"compact",size:"small",readonly:"",color:"warning"},null,8,["model-value"]),a("span",oa,"("+n(i.rating)+")",1)])]),"item.comment":s(({item:i})=>[a("div",na,[a("p",da,n(i.comment||"No comment"),1)])]),"item.source":s(({item:i})=>[t(F,{size:"small",color:"secondary",variant:"tonal",label:"",class:"text-capitalize"},{default:s(()=>{var c;return[m(n((c=i.source)==null?void 0:c.replace("_"," ")),1)]}),_:2},1024)]),"item.status":s(({item:i})=>[t(F,{color:i.status==="published"?"success":i.status==="draft"?"warning":"secondary",size:"small",label:"",class:"text-capitalize"},{default:s(()=>[m(n(i.status),1)]),_:2},1032,["color"])]),"item.franchiseeName":s(({item:i})=>[a("div",null,[a("div",ra,n(i.franchiseeName),1),a("div",ua,n(i.addedDate),1)])]),_:1},8,["items"])):(f(),h(_,{key:1,class:"py-8"},{default:s(()=>[a("div",ca,[t(p,{icon:"tabler-star",size:"64",class:"text-disabled mb-4"}),e[82]||(e[82]=a("h4",{class:"text-h4 mb-2"}," No Customer Reviews Found ",-1)),e[83]||(e[83]=a("p",{class:"text-body-1 text-medium-emphasis"}," There are no customer reviews for this unit yet. The franchisee can add and manage customer feedback to build reputation. ",-1))])]),_:1}))]),_:1})],64))]),_:1})]),_:1},8,["modelValue"]),t(_t,{"is-dialog-visible":l(le),"onUpdate:isDialogVisible":e[8]||(e[8]=i=>M(le)?le.value=i:null),"current-tab":"franchisee","default-assigned-to":(r=(d=l(v))==null?void 0:d.franchiseeId)==null?void 0:r.toString(),"unit-id":l(V),"disable-assigned-to":!0,onTaskCreated:Je},null,8,["is-dialog-visible","default-assigned-to","unit-id"]),t(Ct,{"is-dialog-visible":l(ce),"onUpdate:isDialogVisible":e[9]||(e[9]=i=>M(ce)?ce.value=i:null),onDocumentAdded:Ke},null,8,["is-dialog-visible"]),t(bt,{"is-dialog-visible":l(ie),"onUpdate:isDialogVisible":e[10]||(e[10]=i=>M(ie)?ie.value=i:null),document:l(be),action:l(ye),onDocumentActionConfirmed:We},null,8,["is-dialog-visible","document","action"]),t(yt,{"is-dialog-visible":l(me),"onUpdate:isDialogVisible":e[11]||(e[11]=i=>M(me)?me.value=i:null),task:l(fe)},null,8,["is-dialog-visible","task"]),t(xt,{"is-dialog-visible":l(oe),"onUpdate:isDialogVisible":e[12]||(e[12]=i=>M(oe)?oe.value=i:null),task:l(fe),"user-options":[],"users-loading":!1,onTaskUpdated:Qe},null,8,["is-dialog-visible","task"]),t(gt,{"is-dialog-visible":l(ne),"onUpdate:isDialogVisible":e[13]||(e[13]=i=>M(ne)?ne.value=i:null),"task-id":l(xe),onTaskDeleted:Ye},null,8,["is-dialog-visible","task-id"])]))])}}});export{Qa as default};
