import{d as ke,g,w as pe,a as h,o as m,k as s,y as t,q as c,b5 as lt,aI as R,i,h as P,l as a,av as _,t as n,a7 as M,e as it,u as ot,O as w,c as F,bf as H,F as Y,r as nt,a_ as j}from"./main-p_64Ajbw.js";import{V as x,d as J,f as b,g as we,b as V,a as Z,h as ee}from"./VCard-C0Tw-4W6.js";import{V as O}from"./VDivider-Bijs2L80.js";import{V as dt}from"./VForm-CAd-XVkx.js";import{V as $,a as y}from"./VRow-CqkF75pY.js";import{V as rt}from"./VTextField-dDEcwhzX.js";import{V as ut}from"./VTextarea-M7GThMqS.js";import{V as ct}from"./VSelect-D6w66G-Y.js";import{V as mt}from"./VFileInput-Bp5dqZtP.js";import{V as De}from"./VSpacer-B-bSxhzs.js";import{V as ft}from"./VDialog-rJ68ysHd.js";import{_ as vt,a as pt}from"./DocumentActionModal.vue_vue_type_script_setup_true_lang-O__VS2bV.js";import{_ as _t}from"./ViewTaskDialog.vue_vue_type_script_setup_true_lang-BFnNBTX_.js";import{_ as bt}from"./EditTaskDialog.vue_vue_type_script_setup_true_lang-D9dQVxvH.js";import{_ as yt}from"./DeleteTaskDialog.vue_vue_type_script_setup_true_lang-RuPODCFb.js";import{t as xt}from"./task-B-r9zNPI.js";import{f as gt}from"./formatters-aoHiJebZ.js";import{V as N}from"./VChip-BUM4slpR.js";import{a as G,V as ht}from"./VTabs-Dw4MdHVw.js";import{a as X,V as kt}from"./VWindowItem-C3R8WYL7.js";import{V as te}from"./VAlert-BEYgMvIF.js";import{V as de}from"./VDataTable-DxdwWB7T.js";import{V as wt}from"./VRating-Cffq1811.js";import"./form-BhenlLYk.js";import"./forwardRefs-B931MWyl.js";/* empty css              */import"./VField-i3dJdciE.js";import"./VInput-Dn9GKPUx.js";import"./VList-8BgSZxyl.js";import"./VMenu-B6Kw1s4z.js";import"./VOverlay-kbU4_qk-.js";import"./scopeId-D-uFaV4P.js";import"./VCheckboxBtn-BFEu_OAw.js";import"./VSelectionControl-o0RER-mO.js";import"./franchise-BOevNvvG.js";import"./api-router-Cc_jepPR.js";import"./users-xdvUyH-N.js";import"./VSlideGroup-7Py50_j-.js";import"./VPagination-BTSJYuhD.js";import"./VTable-C4nqXvLS.js";const Dt={class:"flex-grow-1"},Vt={class:"text-body-1 font-weight-medium"},zt={class:"text-body-2 text-disabled"},Tt=ke({__name:"AddDocumentModal",props:{isDialogVisible:{type:Boolean}},emits:["update:isDialogVisible","documentAdded"],setup(_e,{emit:re}){const se=_e,I=re,f=g({title:"",description:"",type:"",file:null}),p=g(!1),U=g(),E=[{title:"FDD",value:"fdd"},{title:"Franchise Agreement",value:"franchise_agreement"},{title:"Financial Study",value:"financial_study"},{title:"Franchise Kit",value:"franchise_kit"},{title:"Contract",value:"contract"},{title:"Agreement",value:"agreement"},{title:"Manual",value:"manual"},{title:"Certificate",value:"certificate"},{title:"Report",value:"report"},{title:"Other",value:"other"}],D=k=>!!k||"This field is required",K=k=>!!k||"Please select a file",A=k=>{I("update:isDialogVisible",k)},z=()=>{f.value={title:"",description:"",type:"",file:null},U.value&&(U.value.value="")},q=k=>{const v=k.target;v.files&&v.files.length>0&&(f.value.file=v.files[0])},B=k=>{if(k===0)return"0 Bytes";const v=1024,T=["Bytes","KB","MB","GB"],L=Math.floor(Math.log(k)/Math.log(v));return`${Number.parseFloat((k/v**L).toFixed(2))} ${T[L]}`},C=()=>{if(p.value&&f.value.file){const k={id:Date.now(),title:f.value.title,description:f.value.description,type:f.value.type,fileName:f.value.file.name,fileSize:B(f.value.file.size),uploadDate:new Date().toISOString().split("T")[0],status:"pending",comment:"",file:f.value.file};I("documentAdded",k),z(),A(!1)}},W=()=>{z(),A(!1)};return pe(()=>se.isDialogVisible,k=>{k||z()}),(k,v)=>(m(),h(ft,{"model-value":se.isDialogVisible,"max-width":"600",persistent:"","onUpdate:modelValue":A},{default:s(()=>[t(x,null,{default:s(()=>[t(J,{class:"text-h5 pa-6 pb-4"},{default:s(()=>v[5]||(v[5]=[c(" Add Document ")])),_:1,__:[5]}),t(O),t(b,{class:"pa-6"},{default:s(()=>[t(dt,{modelValue:i(p),"onUpdate:modelValue":v[4]||(v[4]=T=>R(p)?p.value=T:null),onSubmit:lt(C,["prevent"])},{default:s(()=>[t($,null,{default:s(()=>[t(y,{cols:"12"},{default:s(()=>[t(rt,{modelValue:i(f).title,"onUpdate:modelValue":v[0]||(v[0]=T=>i(f).title=T),label:"Document Title",placeholder:"Enter document title",rules:[D],required:""},null,8,["modelValue","rules"])]),_:1}),t(y,{cols:"12"},{default:s(()=>[t(ut,{modelValue:i(f).description,"onUpdate:modelValue":v[1]||(v[1]=T=>i(f).description=T),label:"Description",placeholder:"Enter document description",rows:"3",rules:[D],required:""},null,8,["modelValue","rules"])]),_:1}),t(y,{cols:"12"},{default:s(()=>[t(ct,{modelValue:i(f).type,"onUpdate:modelValue":v[2]||(v[2]=T=>i(f).type=T),label:"Document Type",placeholder:"Select document type",items:E,rules:[D],required:""},null,8,["modelValue","rules"])]),_:1}),t(y,{cols:"12"},{default:s(()=>[t(mt,{ref_key:"fileInput",ref:U,label:"Select File",placeholder:"Choose a file to upload","prepend-icon":"tabler-paperclip",accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.jpg,.jpeg,.png",rules:[K],required:"",onChange:q},null,8,["rules"]),v[6]||(v[6]=a("div",{class:"text-caption text-disabled mt-2"}," Supported formats: PDF, DOC, DOCX, XLS, XLSX, PPT, PPTX, TXT, JPG, JPEG, PNG ",-1))]),_:1,__:[6]}),i(f).file?(m(),h(y,{key:0,cols:"12"},{default:s(()=>[t(x,{variant:"outlined"},{default:s(()=>[t(b,{class:"d-flex align-center gap-3"},{default:s(()=>[t(_,{icon:"tabler-file-text",size:"24",color:"primary"}),a("div",Dt,[a("div",Vt,n(i(f).file.name),1),a("div",zt,n(B(i(f).file.size)),1)]),t(M,{icon:"",variant:"text",color:"error",size:"small",onClick:v[3]||(v[3]=T=>{i(f).file=null,i(U)&&(i(U).value="")})},{default:s(()=>[t(_,{icon:"tabler-x"})]),_:1})]),_:1})]),_:1})]),_:1})):P("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(O),t(we,{class:"pa-6"},{default:s(()=>[t(De),t(M,{color:"error",variant:"text",onClick:W},{default:s(()=>v[7]||(v[7]=[c(" Cancel ")])),_:1,__:[7]}),t(M,{color:"primary",disabled:!i(p),onClick:C},{default:s(()=>v[8]||(v[8]=[c(" Add Document ")])),_:1,__:[8]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}}),St={key:0,class:"text-center py-12"},Ct={key:1,class:"text-center py-12"},Nt={class:"text-body-1 text-medium-emphasis mb-6"},Ft={key:2},Pt={class:"d-flex align-center justify-space-between"},$t={class:"d-flex align-center gap-3"},It={class:"text-h2 mb-1"},Ut={class:"text-body-1 text-medium-emphasis"},At={class:"mb-4"},Rt={class:"text-body-1 font-weight-medium"},Mt={class:"mb-4"},Bt={class:"text-body-1"},Lt={class:"mb-4"},Et={class:"text-body-1"},jt=["href"],Ot={class:"mb-4"},qt={class:"text-body-1"},Ht={class:"mb-4"},Gt={class:"text-body-1"},Xt={class:"mb-4"},Jt={class:"text-body-1 font-weight-medium text-success"},Kt={class:"mb-4"},Wt={class:"text-body-1"},Qt={class:"mb-4"},Yt={class:"text-body-1"},Zt={class:"text-center"},es={class:"ms-4"},ts={class:"text-h4"},ss={class:"ms-4"},as={class:"text-h4"},ls={class:"ms-4"},is={class:"text-h4"},os={class:"ms-4"},ns={class:"text-h4"},ds={class:"text-base font-weight-medium"},rs={class:"text-body-2 text-disabled"},us={class:"text-center"},cs={class:"text-center"},ms={class:"d-flex align-center mb-3"},fs={class:"text-h6"},vs={class:"text-body-2 text-disabled mb-0"},ps={class:"text-body-2 mb-3"},_s={class:"d-flex align-center justify-space-between mb-3"},bs={class:"text-body-2 text-disabled"},ys={class:"d-flex align-center justify-space-between mb-3"},xs={class:"text-body-2 text-disabled"},gs={class:"text-center"},hs={class:"text-center"},ks={class:"ms-4"},ws={class:"text-h4"},Ds={class:"ms-4"},Vs={class:"text-h4"},zs={class:"ms-4"},Ts={class:"text-h4"},Ss={class:"ms-4"},Cs={class:"text-h4"},Ns={class:"d-flex align-center"},Fs={class:"text-body-1 font-weight-medium"},Ps={class:"text-body-2 text-disabled"},$s={class:"text-center"},Is={class:"text-center"},Us={class:"ms-4"},As={class:"text-h4"},Rs={class:"ms-4"},Ms={class:"text-h4"},Bs={class:"ms-4"},Ls={class:"text-h4"},Es={class:"ms-4"},js={class:"text-h4"},Os={class:"text-body-1 font-weight-medium"},qs={class:"text-center"},Hs={class:"text-center"},Gs={class:"ms-4"},Xs={class:"text-h4"},Js={class:"ms-4"},Ks={class:"text-h4"},Ws={class:"ms-4"},Qs={class:"text-h4"},Ys={class:"ms-4"},Zs={class:"text-h4"},ea={class:"text-body-1 font-weight-medium"},ta={class:"text-body-2 text-disabled"},sa={key:0,class:"text-body-2 text-disabled"},aa={class:"d-flex align-center"},la={class:"ms-2 text-body-2"},ia={class:"max-width-200"},oa={class:"text-body-2 text-truncate mb-0"},na={class:"text-body-2"},da={class:"text-body-2 text-disabled"},ra={class:"text-center"},Wa=ke({__name:"[id]",setup(_e){const re=it(),se=ot(),I=g("overview"),f=w(()=>se.params.id),p=g(null),U=g(!1),E=g(null),D=g([]),K=g(!1),A=g(null),z=g([]),q=g(!1),B=g(null),C=g([]),W=g(!1),k=g(null),v=g([]),T=g(!1),L=g(null),S=g([]),ue=g(!1),Q=g(null),ae=g(!1),ce=g(!1),le=g(!1),be=g(null),ye=g("approve"),me=g(!1),ie=g(!1),oe=g(!1),fe=g(null),xe=g(null),Ve=w(()=>D.value.length),ze=w(()=>D.value.filter(o=>o.status==="completed").length),Te=w(()=>D.value.filter(o=>o.status==="in_progress").length),Se=w(()=>{const o=new Date;return D.value.filter(e=>new Date(e.dueDate)<=o&&e.status!=="completed").length}),Ce=w(()=>C.value.length),Ne=w(()=>C.value.filter(o=>o.status==="working").length),Fe=w(()=>C.value.filter(o=>o.status==="leave").length),Pe=w(()=>v.value.length),$e=w(()=>v.value.reduce((o,e)=>o+e.stock,0)),Ie=w(()=>v.value.filter(o=>o.stock>0&&o.stock<=10).length),Ue=w(()=>v.value.filter(o=>o.stock===0).length),Ae=w(()=>S.value.length===0?"0.0":(S.value.reduce((e,d)=>e+d.rating,0)/S.value.length).toFixed(1));w(()=>S.value.filter(o=>o.sentiment==="positive").length),w(()=>S.value.filter(o=>o.sentiment==="negative").length);const Re=w(()=>S.value.length);w(()=>S.value.filter(o=>o.status==="published").length);const Me=w(()=>S.value.filter(o=>o.status==="draft").length),Be=w(()=>S.value.filter(o=>o.verified_purchase).length),Le=async()=>{var o,e,d,r,l;U.value=!0,E.value=null;try{const u=await j(`/v1/units/${f.value}`);u.success&&u.data?p.value={id:u.data.id,branchName:u.data.unit_name||"Unnamed Unit",franchiseeId:(o=u.data.franchisee)==null?void 0:o.id,franchiseeName:((e=u.data.franchisee)==null?void 0:e.name)||"Unassigned",email:((d=u.data.franchisee)==null?void 0:d.email)||"unassigned@example.com",contactNumber:((r=u.data.franchisee)==null?void 0:r.phone)||u.data.phone||"Not available",address:u.data.address||"Address not available",city:u.data.city||"Unknown",state:u.data.state_province||"Unknown",country:u.data.country||"Unknown",royaltyPercentage:8.5,contractStartDate:u.data.lease_start_date||"2024-01-01",renewalDate:u.data.lease_end_date||"2027-01-01",status:u.data.status||"inactive",type:u.data.unit_type||"other",sizeSqft:u.data.size_sqft||0,capacity:u.data.capacity||0,openingDate:u.data.opening_date||null,monthlyRent:u.data.monthly_rent||0}:E.value="Unit not found"}catch(u){console.error("Failed to load unit data:",u),E.value=((l=u==null?void 0:u.data)==null?void 0:l.message)||"Failed to load unit data",p.value=null}finally{U.value=!1}},Ee=async()=>{var o,e;if(f.value){K.value=!0,A.value=null;try{const d=await j(`/v1/tasks?unit_id=${f.value}`);d.success&&((o=d.data)!=null&&o.data)?D.value=d.data.data.map(r=>{var l;return{id:r.id,title:r.title,description:r.description||"",category:r.type||"General",assignedTo:((l=r.assigned_to_user)==null?void 0:l.name)||"Unassigned",startDate:r.started_at?new Date(r.started_at).toISOString().split("T")[0]:null,dueDate:r.due_date||null,priority:r.priority||"medium",status:r.status||"pending",estimatedHours:r.estimated_hours||0,actualHours:r.actual_hours||0,completionNotes:r.completion_notes||"",attachments:r.attachments||[]}}):D.value=[]}catch(d){console.error("Failed to load tasks data:",d),A.value=((e=d==null?void 0:d.data)==null?void 0:e.message)||"Failed to load tasks data",D.value=[]}finally{K.value=!1}}},je=async()=>{var o,e,d;if(!(!f.value||!p.value)){q.value=!0,B.value=null;try{const r=(o=p.value.franchise)==null?void 0:o.id;if(!r){z.value=[],q.value=!1;return}const l=await j(`/v1/franchises/${r}/documents`);l.success&&((e=l.data)!=null&&e.data)?z.value=l.data.data.map(u=>({id:u.id,title:u.name,description:u.description||"",fileName:u.file_name,fileSize:Ge(u.file_size||0),uploadDate:u.created_at?new Date(u.created_at).toISOString().split("T")[0]:"",type:u.type||"Document",status:u.status||"active",comment:"",filePath:u.file_path,franchiseId:u.franchise_id})):z.value=[]}catch(r){console.error("Failed to load documents data:",r),B.value=((d=r==null?void 0:r.data)==null?void 0:d.message)||"Failed to load documents data",z.value=[]}finally{q.value=!1}}},Oe=async()=>{var o;if(f.value){T.value=!0,L.value=null;try{const e=await j(`/v1/units/${f.value}/inventory`);e.data?v.value=e.data.map(d=>({id:d.id,name:d.name,description:d.description||"",unitPrice:Number(d.unit_price)||0,category:d.category||"General",status:"active",stock:Number(d.quantity)||0,sku:"",minimumStock:Number(d.reorder_level)||0})):v.value=[]}catch(e){console.error("Failed to load products data:",e),L.value=((o=e==null?void 0:e.data)==null?void 0:o.message)||"Failed to load products data",v.value=[]}finally{T.value=!1}}},qe=async()=>{var o;if(f.value){W.value=!0,k.value=null;try{const e=await j(`/v1/units/${f.value}/staff`);e.success&&e.data?C.value=e.data.map(d=>({id:d.id,name:d.name,jobTitle:d.jobTitle,email:d.email,shiftTime:d.shiftTime,status:d.status,phone:d.phone||"",avatar:"",lastLogin:null})):C.value=[]}catch(e){console.error("Failed to load staff data:",e),k.value=((o=e==null?void 0:e.data)==null?void 0:o.message)||"Failed to load staff data",C.value=[]}finally{W.value=!1}}},He=async()=>{var o,e;if(f.value){ue.value=!0,Q.value=null;try{const d=await j(`/v1/reviews?unit_id=${f.value}`);d.success&&((o=d.data)!=null&&o.data)?S.value=d.data.data.map(r=>{var l;return{id:r.id,customerName:r.customer_name,customerEmail:r.customer_email||"",customerPhone:r.customer_phone||"",rating:r.rating,comment:r.comment||"",date:r.review_date?new Date(r.review_date).toISOString().split("T")[0]:"",sentiment:r.sentiment,status:r.status,source:r.review_source,verifiedPurchase:r.verified_purchase,internalNotes:r.internal_notes||"",franchiseeName:((l=r.franchisee)==null?void 0:l.name)||"Unknown",addedDate:r.created_at?new Date(r.created_at).toISOString().split("T")[0]:""}}):S.value=[]}catch(d){console.error("Failed to load reviews data:",d),Q.value=((e=d==null?void 0:d.data)==null?void 0:e.message)||"Failed to load reviews data",S.value=[]}finally{ue.value=!1}}},Ge=o=>{if(o===0)return"0 Bytes";const e=1024,d=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(o)/Math.log(e));return`${Number.parseFloat((o/e**r).toFixed(2))} ${d[r]}`},ge=()=>{re.push("/franchisor/my-units")},ne=o=>o==="active"||o==="completed"||o==="approved"?"success":o==="pending"||o==="in_progress"?"warning":o==="inactive"||o==="rejected"?"error":"secondary",Xe=o=>o==="high"?"error":o==="medium"?"warning":o==="low"?"info":"secondary",he=(o,e)=>{be.value=o,ye.value=e,le.value=!0},Je=async o=>{var e;try{const d=((e=p.value)==null?void 0:e.franchiseeName)||o.assignedTo,r={title:o.title,description:o.description,category:o.category,priority:o.priority,status:o.status,unit_id:f.value,assigned_to:d,due_date:o.dueDate,estimated_hours:o.estimatedHours??0,actual_hours:o.actualHours??0},l=await xt.createTask(r);l.success?D.value.push(l.data):console.error("Failed to create task:",l.message)}catch(d){console.error("Error creating task:",d)}},Ke=o=>{z.value.push(o)},We=async o=>{var e,d;try{const r=((e=p.value.franchise)==null?void 0:e.id)||((d=z.value[0])==null?void 0:d.franchiseId);if(!r){console.error("Franchise ID not found for document approval");return}const l=o.action==="approve"?`/v1/franchises/${r}/documents/${o.document.id}/approve`:`/v1/franchises/${r}/documents/${o.document.id}/reject`,u=await j(l,{method:"PATCH",body:{comment:o.comment}});if(u.success){const ve=z.value.findIndex(at=>at.id===o.document.id);ve!==-1&&(z.value[ve].status=o.action==="approve"?"approved":"rejected",z.value[ve].comment=o.comment)}else console.error(`Failed to ${o.action} document:`,u)}catch(r){console.error(`Error ${o.action}ing document:`,r)}},Qe=o=>{const e=D.value.findIndex(d=>d.id===o.id);e!==-1&&(D.value[e]=o),ie.value=!1,fe.value=null},Ye=o=>{const e=D.value.findIndex(d=>d.id===o);e!==-1&&D.value.splice(e,1),oe.value=!1,xe.value=null},Ze=[{title:"Task Info",key:"taskInfo"},{title:"Category",key:"category"},{title:"Start Date",key:"startDate"},{title:"Due Date",key:"dueDate"},{title:"Priority",key:"priority"},{title:"Status",key:"status"}],et=[{title:"Name",key:"name"},{title:"Job Title",key:"jobTitle"},{title:"Email",key:"email"},{title:"Shift Time",key:"shiftTime"},{title:"Status",key:"status"}],tt=[{title:"Product Name",key:"name"},{title:"Description",key:"description"},{title:"Category",key:"category"},{title:"Unit Price",key:"unitPrice"},{title:"Stock",key:"stock"},{title:"Status",key:"status"}],st=[{title:"Customer",key:"customerName"},{title:"Rating",key:"rating"},{title:"Comment",key:"comment"},{title:"Source",key:"source"},{title:"Status",key:"status"},{title:"Added By",key:"franchiseeName"}];return pe(()=>f.value,()=>{f.value&&Le()},{immediate:!0}),pe(()=>p.value,()=>{p.value&&f.value&&(Ee(),je(),qe(),Oe(),He())},{immediate:!0}),(o,e)=>{var d,r;return m(),F("section",null,[i(U)?(m(),F("div",St,[t(H,{indeterminate:"",size:"64",class:"mb-4"}),e[14]||(e[14]=a("h3",{class:"text-h3 mb-2"}," Loading Unit Details... ",-1)),e[15]||(e[15]=a("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the unit information. ",-1))])):i(E)||!i(p)?(m(),F("div",Ct,[t(_,{icon:"tabler-alert-circle",size:"64",class:"text-error mb-4"}),e[17]||(e[17]=a("h3",{class:"text-h3 mb-2"}," Error Loading Unit ",-1)),a("p",Nt,n(i(E)||"Unit not found or you don't have permission to view it."),1),t(M,{color:"primary","prepend-icon":"tabler-arrow-left",onClick:ge},{default:s(()=>e[16]||(e[16]=[c(" Back to Units ")])),_:1,__:[16]})])):(m(),F("div",Ft,[t($,{class:"mb-6"},{default:s(()=>[t(y,{cols:"12"},{default:s(()=>[a("div",Pt,[a("div",$t,[t(M,{icon:"",variant:"text",color:"default",onClick:ge},{default:s(()=>[t(_,{icon:"tabler-arrow-left"})]),_:1}),a("div",null,[a("h2",It,n(i(p).branchName),1),a("p",Ut," Managed by "+n(i(p).franchiseeName)+" â€¢ "+n(i(p).city)+", "+n(i(p).state),1)])]),t(N,{color:ne(i(p).status),size:"large",label:"",class:"text-capitalize"},{default:s(()=>[c(n(i(p).status),1)]),_:1},8,["color"])])]),_:1})]),_:1}),t(ht,{modelValue:i(I),"onUpdate:modelValue":e[0]||(e[0]=l=>R(I)?I.value=l:null),class:"mb-6"},{default:s(()=>[t(G,{value:"overview"},{default:s(()=>[t(_,{icon:"tabler-info-circle",start:""}),e[18]||(e[18]=c(" Overview "))]),_:1,__:[18]}),t(G,{value:"tasks"},{default:s(()=>[t(_,{icon:"tabler-checklist",start:""}),e[19]||(e[19]=c(" Tasks "))]),_:1,__:[19]}),t(G,{value:"documents"},{default:s(()=>[t(_,{icon:"tabler-files",start:""}),e[20]||(e[20]=c(" Documents "))]),_:1,__:[20]}),t(G,{value:"staffs"},{default:s(()=>[t(_,{icon:"tabler-users",start:""}),e[21]||(e[21]=c(" Staffs "))]),_:1,__:[21]}),t(G,{value:"inventory"},{default:s(()=>[t(_,{icon:"tabler-package",start:""}),e[22]||(e[22]=c(" Inventory Management "))]),_:1,__:[22]}),t(G,{value:"reviews"},{default:s(()=>[t(_,{icon:"tabler-star",start:""}),e[23]||(e[23]=c(" Customer Reviews "))]),_:1,__:[23]})]),_:1},8,["modelValue"]),t(kt,{modelValue:i(I),"onUpdate:modelValue":e[7]||(e[7]=l=>R(I)?I.value=l:null),class:"disable-tab-transition"},{default:s(()=>[t(X,{value:"overview"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,null,{default:s(()=>[t($,null,{default:s(()=>[t(y,{cols:"12"},{default:s(()=>[e[29]||(e[29]=a("h4",{class:"text-h6 mb-4"}," Basic Information ",-1)),t(x,{variant:"outlined"},{default:s(()=>[t(b,null,{default:s(()=>[t($,null,{default:s(()=>[t(y,{cols:"12",md:"6"},{default:s(()=>[a("div",At,[e[24]||(e[24]=a("div",{class:"text-sm text-disabled mb-1"}," Branch Name ",-1)),a("div",Rt,n(i(p).branchName),1)])]),_:1}),t(y,{cols:"12",md:"6"},{default:s(()=>[a("div",Mt,[e[25]||(e[25]=a("div",{class:"text-sm text-disabled mb-1"}," Franchisee Name ",-1)),a("div",Bt,n(i(p).franchiseeName),1)])]),_:1}),t(y,{cols:"12",md:"6"},{default:s(()=>[a("div",Lt,[e[26]||(e[26]=a("div",{class:"text-sm text-disabled mb-1"}," Email Address ",-1)),a("div",Et,[a("a",{href:`mailto:${i(p).email}`,class:"text-primary"},n(i(p).email),9,jt)])])]),_:1}),t(y,{cols:"12",md:"6"},{default:s(()=>[a("div",Ot,[e[27]||(e[27]=a("div",{class:"text-sm text-disabled mb-1"}," Contact Number ",-1)),a("div",qt,n(i(p).contactNumber),1)])]),_:1}),t(y,{cols:"12"},{default:s(()=>[a("div",Ht,[e[28]||(e[28]=a("div",{class:"text-sm text-disabled mb-1"}," Address ",-1)),a("div",Gt,n(i(p).address)+", "+n(i(p).city)+", "+n(i(p).state)+", "+n(i(p).country),1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1,__:[29]}),t(y,{cols:"12"},{default:s(()=>[e[33]||(e[33]=a("h4",{class:"text-h6 mb-4"}," Franchisee Details ",-1)),t(x,{variant:"outlined"},{default:s(()=>[t(b,null,{default:s(()=>[t($,null,{default:s(()=>[t(y,{cols:"12",md:"4"},{default:s(()=>[a("div",Xt,[e[30]||(e[30]=a("div",{class:"text-sm text-disabled mb-1"}," Royalty Percentage ",-1)),a("div",Jt,n(i(p).royaltyPercentage)+"% ",1)])]),_:1}),t(y,{cols:"12",md:"4"},{default:s(()=>[a("div",Kt,[e[31]||(e[31]=a("div",{class:"text-sm text-disabled mb-1"}," Contract Start Date ",-1)),a("div",Wt,n(i(p).contractStartDate),1)])]),_:1}),t(y,{cols:"12",md:"4"},{default:s(()=>[a("div",Qt,[e[32]||(e[32]=a("div",{class:"text-sm text-disabled mb-1"}," Renewal Date ",-1)),a("div",Yt,n(i(p).renewalDate),1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1,__:[33]})]),_:1})]),_:1})]),_:1})]),_:1}),t(X,{value:"tasks"},{default:s(()=>[i(A)?(m(),h(te,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[1]||(e[1]=l=>A.value=null)},{default:s(()=>[c(n(i(A)),1)]),_:1})):P("",!0),i(K)?(m(),h(x,{key:1,class:"mb-6"},{default:s(()=>[t(b,{class:"py-8"},{default:s(()=>[a("div",Zt,[t(H,{indeterminate:"",size:"48",class:"mb-4"}),e[34]||(e[34]=a("h4",{class:"text-h4 mb-2"}," Loading Tasks... ",-1)),e[35]||(e[35]=a("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the task information. ",-1))])]),_:1})]),_:1})):(m(),F(Y,{key:2},[t($,{class:"mb-6"},{default:s(()=>[t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(V,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-checklist",size:"26"})]),_:1}),a("div",es,[e[36]||(e[36]=a("div",{class:"text-body-2 text-disabled"}," Total Tasks ",-1)),a("h4",ts,n(i(Ve)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(V,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-check",size:"26"})]),_:1}),a("div",ss,[e[37]||(e[37]=a("div",{class:"text-body-2 text-disabled"}," Completed ",-1)),a("h4",as,n(i(ze)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(V,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-clock",size:"26"})]),_:1}),a("div",ls,[e[38]||(e[38]=a("div",{class:"text-body-2 text-disabled"}," In Progress ",-1)),a("h4",is,n(i(Te)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(V,{size:"44",rounded:"",color:"error",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-alert-circle",size:"26"})]),_:1}),a("div",os,[e[39]||(e[39]=a("div",{class:"text-body-2 text-disabled"}," Due ",-1)),a("h4",ns,n(i(Se)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(x,null,{default:s(()=>[t(Z,{class:"pb-4"},{append:s(()=>[t(M,{color:"primary","prepend-icon":"tabler-plus",onClick:e[2]||(e[2]=l=>ae.value=!0)},{default:s(()=>e[42]||(e[42]=[c(" Create Task ")])),_:1,__:[42]})]),default:s(()=>[a("div",null,[t(J,null,{default:s(()=>e[40]||(e[40]=[c("Tasks")])),_:1,__:[40]}),t(ee,{class:"text-body-2 text-disabled"},{default:s(()=>e[41]||(e[41]=[c(" Create and manage tasks for this unit ")])),_:1,__:[41]})])]),_:1}),t(O),i(D).length>0?(m(),h(de,{key:0,items:i(D),headers:Ze,class:"text-no-wrap","item-value":"id"},{"item.taskInfo":s(({item:l})=>[a("div",null,[a("h6",ds,n(l.title),1),a("div",rs,n(l.description),1)])]),"item.priority":s(({item:l})=>[t(N,{color:Xe(l.priority),size:"small",label:"",class:"text-capitalize"},{default:s(()=>[c(n(l.priority),1)]),_:2},1032,["color"])]),"item.status":s(({item:l})=>[t(N,{color:ne(l.status),size:"small",label:"",class:"text-capitalize"},{default:s(()=>[c(n(l.status),1)]),_:2},1032,["color"])]),_:1},8,["items"])):(m(),h(b,{key:1,class:"py-8"},{default:s(()=>[a("div",us,[t(_,{icon:"tabler-checklist",size:"64",class:"text-disabled mb-4"}),e[43]||(e[43]=a("h4",{class:"text-h4 mb-2"}," No Tasks Found ",-1)),e[44]||(e[44]=a("p",{class:"text-body-1 text-medium-emphasis"}," There are no tasks assigned to this unit yet. The franchisee can create tasks to manage operations. ",-1))])]),_:1}))]),_:1})],64))]),_:1}),t(X,{value:"documents"},{default:s(()=>[i(B)?(m(),h(te,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[3]||(e[3]=l=>B.value=null)},{default:s(()=>[c(n(i(B)),1)]),_:1})):P("",!0),i(q)?(m(),h(x,{key:1},{default:s(()=>[t(b,{class:"py-8"},{default:s(()=>[a("div",cs,[t(H,{indeterminate:"",size:"48",class:"mb-4"}),e[45]||(e[45]=a("h4",{class:"text-h4 mb-2"}," Loading Documents... ",-1)),e[46]||(e[46]=a("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the document information. ",-1))])]),_:1})]),_:1})):(m(),h(x,{key:2},{default:s(()=>[t(Z,{class:"pb-4"},{default:s(()=>[t(J,null,{default:s(()=>e[47]||(e[47]=[c("Unit Documents")])),_:1,__:[47]}),t(ee,{class:"text-body-2 text-disabled"},{default:s(()=>e[48]||(e[48]=[c(" Review and approve documents uploaded by franchisees ")])),_:1,__:[48]})]),_:1}),t(O),i(z).length>0?(m(),h(b,{key:0},{default:s(()=>[t($,null,{default:s(()=>[(m(!0),F(Y,null,nt(i(z),l=>(m(),h(y,{key:l.id,cols:"12",md:"6",lg:"4"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,null,{default:s(()=>[a("div",ms,[t(_,{icon:"tabler-file-text",size:"24",color:"primary",class:"me-3"}),a("div",null,[a("h6",fs,n(l.title),1),a("p",vs,n(l.type),1)])]),a("p",ps,n(l.description),1),a("div",_s,[a("span",bs,n(l.fileName),1),t(N,{size:"small",color:"secondary"},{default:s(()=>[c(n(l.fileSize),1)]),_:2},1024)]),a("div",ys,[a("span",xs,n(l.uploadDate),1),t(N,{color:ne(l.status),size:"small",label:"",class:"text-capitalize"},{default:s(()=>[c(n(l.status),1)]),_:2},1032,["color"])])]),_:2},1024),t(we,null,{default:s(()=>[t(M,{size:"small",variant:"text",color:"primary","prepend-icon":"tabler-download"},{default:s(()=>e[49]||(e[49]=[c(" Download ")])),_:1,__:[49]}),t(De),l.status==="active"?(m(),h(M,{key:0,size:"small",variant:"text",color:"success",onClick:u=>he(l,"approve")},{default:s(()=>e[50]||(e[50]=[c(" Approve ")])),_:2,__:[50]},1032,["onClick"])):P("",!0),l.status==="active"?(m(),h(M,{key:1,size:"small",variant:"text",color:"error",onClick:u=>he(l,"reject")},{default:s(()=>e[51]||(e[51]=[c(" Reject ")])),_:2,__:[51]},1032,["onClick"])):P("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(m(),h(b,{key:1,class:"py-8"},{default:s(()=>[a("div",gs,[t(_,{icon:"tabler-files",size:"64",class:"text-disabled mb-4"}),e[52]||(e[52]=a("h4",{class:"text-h4 mb-2"}," No Documents Found ",-1)),e[53]||(e[53]=a("p",{class:"text-body-1 text-medium-emphasis"}," There are no documents uploaded for this unit yet. The franchisee can upload important documents and files. ",-1))])]),_:1}))]),_:1}))]),_:1}),t(X,{value:"staffs"},{default:s(()=>[i(k)?(m(),h(te,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[4]||(e[4]=l=>k.value=null)},{default:s(()=>[c(n(i(k)),1)]),_:1})):P("",!0),i(W)?(m(),h(x,{key:1,class:"mb-6"},{default:s(()=>[t(b,{class:"py-8"},{default:s(()=>[a("div",hs,[t(H,{indeterminate:"",size:"48",class:"mb-4"}),e[54]||(e[54]=a("h4",{class:"text-h4 mb-2"}," Loading Staff... ",-1)),e[55]||(e[55]=a("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the staff information. ",-1))])]),_:1})]),_:1})):(m(),F(Y,{key:2},[t($,{class:"mb-6"},{default:s(()=>[t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(V,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-users",size:"26"})]),_:1}),a("div",ks,[e[56]||(e[56]=a("div",{class:"text-body-2 text-disabled"}," Total Staff ",-1)),a("h4",ws,n(i(Ce)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(V,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-user-check",size:"26"})]),_:1}),a("div",Ds,[e[57]||(e[57]=a("div",{class:"text-body-2 text-disabled"}," Working ",-1)),a("h4",Vs,n(i(Ne)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(V,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-calendar-off",size:"26"})]),_:1}),a("div",zs,[e[58]||(e[58]=a("div",{class:"text-body-2 text-disabled"}," On Leave ",-1)),a("h4",Ts,n(i(Fe)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(V,{size:"44",rounded:"",color:"info",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-user-plus",size:"26"})]),_:1}),a("div",Ss,[e[59]||(e[59]=a("div",{class:"text-body-2 text-disabled"}," Active ",-1)),a("h4",Cs,n(i(C).filter(l=>l.status==="working").length),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(x,null,{default:s(()=>[t(Z,{class:"pb-4"},{default:s(()=>[t(J,null,{default:s(()=>e[60]||(e[60]=[c("Staff Members")])),_:1,__:[60]}),t(ee,{class:"text-body-2 text-disabled"},{default:s(()=>e[61]||(e[61]=[c(" View-only access - Staff management is handled by franchisees ")])),_:1,__:[61]})]),_:1}),t(O),i(C).length>0?(m(),h(de,{key:0,items:i(C),headers:et,class:"text-no-wrap","item-value":"id"},{"item.name":s(({item:l})=>[a("div",Ns,[t(V,{size:"32",image:l.avatar,class:"me-3"},{default:s(()=>[l.avatar?P("",!0):(m(),h(_,{key:0,icon:"tabler-user"}))]),_:2},1032,["image"]),a("div",null,[a("div",Fs,n(l.name),1),a("div",Ps,n(l.phone||"No phone"),1)])])]),"item.jobTitle":s(({item:l})=>[t(N,{size:"small",color:"primary",variant:"tonal",label:""},{default:s(()=>[c(n(l.jobTitle),1)]),_:2},1024)]),"item.status":s(({item:l})=>[t(N,{color:l.status==="working"?"success":"warning",size:"small",label:"",class:"text-capitalize"},{default:s(()=>[c(n(l.status),1)]),_:2},1032,["color"])]),_:1},8,["items"])):(m(),h(b,{key:1,class:"py-8"},{default:s(()=>[a("div",$s,[t(_,{icon:"tabler-users",size:"64",class:"text-disabled mb-4"}),e[62]||(e[62]=a("h4",{class:"text-h4 mb-2"}," No Staff Members Found ",-1)),e[63]||(e[63]=a("p",{class:"text-body-1 text-medium-emphasis"}," There are no staff members assigned to this franchise yet. The franchisee can manage staff assignments and roles. ",-1))])]),_:1}))]),_:1})],64))]),_:1}),t(X,{value:"inventory"},{default:s(()=>[i(L)?(m(),h(te,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[5]||(e[5]=l=>L.value=null)},{default:s(()=>[c(n(i(L)),1)]),_:1})):P("",!0),i(T)?(m(),h(x,{key:1,class:"mb-6"},{default:s(()=>[t(b,{class:"py-8"},{default:s(()=>[a("div",Is,[t(H,{indeterminate:"",size:"48",class:"mb-4"}),e[64]||(e[64]=a("h4",{class:"text-h4 mb-2"}," Loading Inventory... ",-1)),e[65]||(e[65]=a("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the inventory information. ",-1))])]),_:1})]),_:1})):(m(),F(Y,{key:2},[t($,{class:"mb-6"},{default:s(()=>[t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(V,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-package",size:"26"})]),_:1}),a("div",Us,[e[66]||(e[66]=a("div",{class:"text-body-2 text-disabled"}," Total Products ",-1)),a("h4",As,n(i(Pe)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(V,{size:"44",rounded:"",color:"info",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-stack",size:"26"})]),_:1}),a("div",Rs,[e[67]||(e[67]=a("div",{class:"text-body-2 text-disabled"}," Total Stock ",-1)),a("h4",Ms,n(i($e)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(V,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-alert-triangle",size:"26"})]),_:1}),a("div",Bs,[e[68]||(e[68]=a("div",{class:"text-body-2 text-disabled"}," Low Stock ",-1)),a("h4",Ls,n(i(Ie)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(V,{size:"44",rounded:"",color:"error",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-x",size:"26"})]),_:1}),a("div",Es,[e[69]||(e[69]=a("div",{class:"text-body-2 text-disabled"}," Out of Stock ",-1)),a("h4",js,n(i(Ue)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(x,null,{default:s(()=>[t(Z,{class:"pb-4"},{default:s(()=>[t(J,null,{default:s(()=>e[70]||(e[70]=[c("Inventory")])),_:1,__:[70]}),t(ee,{class:"text-body-2 text-disabled"},{default:s(()=>e[71]||(e[71]=[c(" View-only access - Product management is handled by franchisees ")])),_:1,__:[71]})]),_:1}),t(O),i(v).length>0?(m(),h(de,{key:0,items:i(v),headers:tt,class:"text-no-wrap","item-value":"id"},{"item.unitPrice":s(({item:l})=>[a("div",Os,n(i(gt)(l.unitPrice)),1)]),"item.stock":s(({item:l})=>[t(N,{color:l.stock===0?"error":l.stock<=10?"warning":"success",size:"small",label:""},{default:s(()=>[c(n(l.stock),1)]),_:2},1032,["color"])]),"item.status":s(({item:l})=>[t(N,{color:ne(l.status),size:"small",label:"",class:"text-capitalize"},{default:s(()=>[c(n(l.status),1)]),_:2},1032,["color"])]),_:1},8,["items"])):(m(),h(b,{key:1,class:"py-8"},{default:s(()=>[a("div",qs,[t(_,{icon:"tabler-package",size:"64",class:"text-disabled mb-4"}),e[72]||(e[72]=a("h4",{class:"text-h4 mb-2"}," No Products Found ",-1)),e[73]||(e[73]=a("p",{class:"text-body-1 text-medium-emphasis"}," There are no products in the inventory for this unit yet. The franchisee can manage products and stock levels. ",-1))])]),_:1}))]),_:1})],64))]),_:1}),t(X,{value:"reviews"},{default:s(()=>[i(Q)?(m(),h(te,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[6]||(e[6]=l=>Q.value=null)},{default:s(()=>[c(n(i(Q)),1)]),_:1})):P("",!0),i(ue)?(m(),h(x,{key:1,class:"mb-6"},{default:s(()=>[t(b,{class:"py-8"},{default:s(()=>[a("div",Hs,[t(H,{indeterminate:"",size:"48",class:"mb-4"}),e[74]||(e[74]=a("h4",{class:"text-h4 mb-2"}," Loading Reviews... ",-1)),e[75]||(e[75]=a("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the review information. ",-1))])]),_:1})]),_:1})):(m(),F(Y,{key:2},[t($,{class:"mb-6"},{default:s(()=>[t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(V,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-star",size:"26"})]),_:1}),a("div",Gs,[e[76]||(e[76]=a("div",{class:"text-body-2 text-disabled"}," Total Reviews ",-1)),a("h4",Xs,n(i(Re)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(V,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-star",size:"26"})]),_:1}),a("div",Js,[e[77]||(e[77]=a("div",{class:"text-body-2 text-disabled"}," Avg Rating ",-1)),a("h4",Ks,n(i(Ae)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(V,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-file-text",size:"26"})]),_:1}),a("div",Ws,[e[78]||(e[78]=a("div",{class:"text-body-2 text-disabled"}," Draft ",-1)),a("h4",Qs,n(i(Me)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(V,{size:"44",rounded:"",color:"info",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-check",size:"26"})]),_:1}),a("div",Ys,[e[79]||(e[79]=a("div",{class:"text-body-2 text-disabled"}," Verified ",-1)),a("h4",Zs,n(i(Be)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(x,null,{default:s(()=>[t(Z,{class:"pb-4"},{default:s(()=>[t(J,null,{default:s(()=>e[80]||(e[80]=[c("Customer Reviews")])),_:1,__:[80]}),t(ee,{class:"text-body-2 text-disabled"},{default:s(()=>e[81]||(e[81]=[c(" View-only access - Customer review management is handled by franchisees ")])),_:1,__:[81]})]),_:1}),t(O),i(S).length>0?(m(),h(de,{key:0,items:i(S),headers:st,class:"text-no-wrap","item-value":"id"},{"item.customerName":s(({item:l})=>[a("div",null,[a("div",ea,n(l.customerName),1),a("div",ta,n(l.customerEmail||"No email"),1),l.customerPhone?(m(),F("div",sa,n(l.customerPhone),1)):P("",!0)])]),"item.rating":s(({item:l})=>[a("div",aa,[t(wt,{"model-value":l.rating,density:"compact",size:"small",readonly:"",color:"warning"},null,8,["model-value"]),a("span",la,"("+n(l.rating)+")",1)])]),"item.comment":s(({item:l})=>[a("div",ia,[a("p",oa,n(l.comment||"No comment"),1)])]),"item.source":s(({item:l})=>[t(N,{size:"small",color:"secondary",variant:"tonal",label:"",class:"text-capitalize"},{default:s(()=>{var u;return[c(n((u=l.source)==null?void 0:u.replace("_"," ")),1)]}),_:2},1024)]),"item.status":s(({item:l})=>[t(N,{color:l.status==="published"?"success":l.status==="draft"?"warning":"secondary",size:"small",label:"",class:"text-capitalize"},{default:s(()=>[c(n(l.status),1)]),_:2},1032,["color"])]),"item.franchiseeName":s(({item:l})=>[a("div",null,[a("div",na,n(l.franchiseeName),1),a("div",da,n(l.addedDate),1)])]),_:1},8,["items"])):(m(),h(b,{key:1,class:"py-8"},{default:s(()=>[a("div",ra,[t(_,{icon:"tabler-star",size:"64",class:"text-disabled mb-4"}),e[82]||(e[82]=a("h4",{class:"text-h4 mb-2"}," No Customer Reviews Found ",-1)),e[83]||(e[83]=a("p",{class:"text-body-1 text-medium-emphasis"}," There are no customer reviews for this unit yet. The franchisee can add and manage customer feedback to build reputation. ",-1))])]),_:1}))]),_:1})],64))]),_:1})]),_:1},8,["modelValue"]),t(vt,{"is-dialog-visible":i(ae),"onUpdate:isDialogVisible":e[8]||(e[8]=l=>R(ae)?ae.value=l:null),"current-tab":"franchisee","default-assigned-to":(r=(d=i(p))==null?void 0:d.franchiseeId)==null?void 0:r.toString(),"unit-id":i(f),"disable-assigned-to":!0,onTaskCreated:Je},null,8,["is-dialog-visible","default-assigned-to","unit-id"]),t(Tt,{"is-dialog-visible":i(ce),"onUpdate:isDialogVisible":e[9]||(e[9]=l=>R(ce)?ce.value=l:null),onDocumentAdded:Ke},null,8,["is-dialog-visible"]),t(pt,{"is-dialog-visible":i(le),"onUpdate:isDialogVisible":e[10]||(e[10]=l=>R(le)?le.value=l:null),document:i(be),action:i(ye),onDocumentActionConfirmed:We},null,8,["is-dialog-visible","document","action"]),t(_t,{"is-dialog-visible":i(me),"onUpdate:isDialogVisible":e[11]||(e[11]=l=>R(me)?me.value=l:null),task:i(fe)},null,8,["is-dialog-visible","task"]),t(bt,{"is-dialog-visible":i(ie),"onUpdate:isDialogVisible":e[12]||(e[12]=l=>R(ie)?ie.value=l:null),task:i(fe),"user-options":[],"users-loading":!1,onTaskUpdated:Qe},null,8,["is-dialog-visible","task"]),t(yt,{"is-dialog-visible":i(oe),"onUpdate:isDialogVisible":e[13]||(e[13]=l=>R(oe)?oe.value=l:null),"task-id":i(xe),onTaskDeleted:Ye},null,8,["is-dialog-visible","task-id"])]))])}}});export{Wa as default};
