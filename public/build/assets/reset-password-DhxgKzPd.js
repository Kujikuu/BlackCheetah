import{_ as N}from"./AppTextField.vue_vue_type_script_setup_true_lang-wXh2aVbi.js";import{d as R,b9 as S,g as r,aQ as M,c as I,o as v,l as d,y as a,aR as h,i as e,k as o,G as P,t as _,b5 as L,a as g,h as C,q as V,a7 as j,av as A,s as F}from"./main-Ji38qWNq.js";import{a as U,b as $}from"./auth-v1-top-shape-gPxasD3d.js";import{V as b}from"./VNodeRenderer-d5ciiUKv.js";import{a as q,d as z,f as k,V as D}from"./VCard-CawK-7Mk.js";import{V as H}from"./VForm-DP38Bcc1.js";import{V as Y,a as p}from"./VRow-DmXcz54G.js";import{V as x}from"./VAlert-DjmlpEYh.js";import"./form-C8-wVyzB.js";import"./VTextField-Dd7MzrQd.js";import"./VField-DLyvN9w7.js";import"./forwardRefs-B931MWyl.js";import"./VInput-N-MuRR1n.js";/* empty css              */const E={class:"auth-wrapper d-flex align-center justify-center pa-4"},G={class:"position-relative my-sm-16"},Q={class:"app-logo"},J={class:"app-logo-title"},ue=R({__name:"reset-password",setup(K){const{smAndUp:T}=S(),t=r({newPassword:"",confirmPassword:""}),m=r(!1),f=r(!1),c=r(!1),i=r(null),l=r(null),B=async()=>{var w;if(l.value=null,i.value=null,!t.value.newPassword||t.value.newPassword.length<8){l.value="Password must be at least 8 characters.";return}if(t.value.newPassword!==t.value.confirmPassword){l.value="Passwords do not match.";return}c.value=!0;try{i.value="Your password has been updated if the request is valid.",setTimeout(()=>{i.value=null},3e3)}catch(s){const n=(s==null?void 0:s.data)||((w=s==null?void 0:s.response)==null?void 0:w._data)||null;l.value=(n==null?void 0:n.message)||"Failed to reset password."}finally{c.value=!1}};return(w,s)=>{const n=M("RouterLink"),y=N;return v(),I("div",E,[d("div",G,[a(e(b),{nodes:h("div",{innerHTML:e(U)}),class:"text-primary auth-v1-top-shape d-none d-sm-block"},null,8,["nodes"]),a(e(b),{nodes:h("div",{innerHTML:e($)}),class:"text-primary auth-v1-bottom-shape d-none d-sm-block"},null,8,["nodes"]),a(D,{class:F(["auth-card",e(T)?"pa-6":"pa-2"]),"max-width":"600"},{default:o(()=>[a(q,{class:"justify-center"},{default:o(()=>[a(z,null,{default:o(()=>[a(n,{to:"/"},{default:o(()=>[d("div",Q,[a(e(b),{nodes:e(P).app.logo},null,8,["nodes"]),d("h1",J,_(e(P).app.title),1)])]),_:1})]),_:1})]),_:1}),a(k,null,{default:o(()=>s[4]||(s[4]=[d("h4",{class:"text-h4 mb-1"}," Reset Password 🔒 ",-1),d("p",{class:"mb-0"}," Your new password must be different from previously used passwords ",-1)])),_:1,__:[4]}),a(k,null,{default:o(()=>[a(H,{onSubmit:L(B,["prevent"])},{default:o(()=>[a(Y,null,{default:o(()=>[a(p,{cols:"12"},{default:o(()=>[e(l)?(v(),g(x,{key:0,type:"error",variant:"tonal",class:"mb-4"},{default:o(()=>[V(_(e(l)),1)]),_:1})):C("",!0),e(i)?(v(),g(x,{key:1,type:"info",variant:"tonal",class:"mb-4"},{default:o(()=>[V(_(e(i)),1)]),_:1})):C("",!0)]),_:1}),a(p,{cols:"12"},{default:o(()=>[a(y,{modelValue:e(t).newPassword,"onUpdate:modelValue":s[0]||(s[0]=u=>e(t).newPassword=u),autofocus:"",label:"New Password",placeholder:"············",type:e(m)?"text":"password",autocomplete:"password","append-inner-icon":e(m)?"tabler-eye-off":"tabler-eye","onClick:appendInner":s[1]||(s[1]=u=>m.value=!e(m))},null,8,["modelValue","type","append-inner-icon"])]),_:1}),a(p,{cols:"12"},{default:o(()=>[a(y,{modelValue:e(t).confirmPassword,"onUpdate:modelValue":s[2]||(s[2]=u=>e(t).confirmPassword=u),label:"Confirm Password",autocomplete:"confirm-password",placeholder:"············",type:e(f)?"text":"password","append-inner-icon":e(f)?"tabler-eye-off":"tabler-eye","onClick:appendInner":s[3]||(s[3]=u=>f.value=!e(f))},null,8,["modelValue","type","append-inner-icon"])]),_:1}),a(p,{cols:"12"},{default:o(()=>[a(j,{block:"",type:"submit",loading:e(c),disabled:e(c)},{default:o(()=>s[5]||(s[5]=[V(" Set New Password ")])),_:1,__:[5]},8,["loading","disabled"])]),_:1}),a(p,{cols:"12"},{default:o(()=>[a(n,{class:"d-flex align-center justify-center",to:{name:"login"}},{default:o(()=>[a(A,{icon:"tabler-chevron-left",size:"20",class:"me-1 flip-in-rtl"}),s[6]||(s[6]=d("span",null,"Back to login",-1))]),_:1,__:[6]})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["class"])])])}}});export{ue as default};
