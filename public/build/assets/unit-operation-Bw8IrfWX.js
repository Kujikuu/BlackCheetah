import{_ as Qt}from"./AddDocumentDialog.vue_vue_type_script_setup_true_lang-CZF9FSaF.js";import{_ as Xt,a as Yt}from"./DocumentActionModal.vue_vue_type_script_setup_true_lang-Bba3cD7A.js";import{_ as Zt}from"./ViewTaskDialog.vue_vue_type_script_setup_true_lang-V8vqRxPU.js";import{_ as Kt}from"./EditTaskDialog.vue_vue_type_script_setup_true_lang-1jtovmT_.js";import{_ as el}from"./DeleteTaskDialog.vue_vue_type_script_setup_true_lang-Cz9XvIrk.js";import{_ as W,V as G}from"./VDialog-z6AiDkdm.js";import{V as D,f as T,g as O,b as I,a as oe,d as ie,h as tl}from"./VCard-CS_ziklW.js";import{V as $,a as m}from"./VRow-DYWQ7lCi.js";import{V as Pe}from"./VRating--qAnUjHe.js";import{V as M}from"./VChip-D2ZQ5d-y.js";import{V as L}from"./VDivider-BQAl4UcD.js";import{V as Q}from"./VSpacer-gpOajNGi.js";import{d as H,O as S,a as P,o as g,k as t,y as e,h as J,l as o,t as c,q as f,a7 as x,i as fe,g as _,w as Re,c as N,bF as ll,bG as al,av as y,u as sl,E as ol,be as de,F as ce,r as il,aZ as dl}from"./main-CaTcLKNL.js";import{f as pe}from"./formatters-aoHiJebZ.js";import{V as C}from"./VTextField-CvCFH6P5.js";import{V as _e}from"./VTextarea-B3zF-AXj.js";import{V as be}from"./VSelect-DxDkvyke.js";import{a as F,b as B,c as nl,V as Ue}from"./VList-BL4jYfIn.js";import{f as A}from"./franchisee-dashboard-BU0FK4Y9.js";import{V as ul}from"./VSkeletonLoader-BtjmnGJT.js";import{a as ne,V as rl}from"./VTabs-jXfL6dsq.js";import{a as ue,V as ml}from"./VWindowItem-BgVZEOpr.js";import{V as Se}from"./VDataTable-CaEYTJil.js";import{V as Te}from"./VMenu-BJQsmbKc.js";import"./franchise-CwZkgf9U.js";import"./api-router-D4PFvdUd.js";import"./VForm-C3QLM41t.js";import"./form-C-6-1AEV.js";import"./forwardRefs-B931MWyl.js";import"./VAlert-Bum3S62G.js";import"./VFileInput-DnCsnAow.js";import"./VField-D2C3fSHU.js";import"./VInput-DPlCwJR6.js";import"./users-cwrjjoYl.js";import"./VOverlay-c5fY-XMP.js";import"./scopeId-CbLIAOEw.js";/* empty css              */import"./VSlideGroup-D0UXYeax.js";import"./VCheckboxBtn-BXZWDiEB.js";import"./VSelectionControl-CpeLtBMS.js";import"./VPagination-CgdatAmX.js";import"./VTable-YhQJcHlQ.js";const vl={class:"text-body-1 font-weight-medium"},cl={class:"text-body-1 font-weight-medium"},fl={class:"d-flex align-center gap-1"},pl={class:"text-body-1 font-weight-medium"},bl={class:"text-body-1 font-weight-medium"},_l={class:"text-body-1"},yl=H({__name:"ViewReviewDialog",props:{isDialogVisible:{type:Boolean},selectedReview:{}},emits:["update:isDialogVisible"],setup(E,{emit:R}){const k=E,U=R,p=S({get:()=>k.isDialogVisible,set:b=>U("update:isDialogVisible",b)}),a=()=>{p.value=!1};return(b,n)=>{const r=W;return g(),P(G,{modelValue:p.value,"onUpdate:modelValue":n[0]||(n[0]=u=>p.value=u),"max-width":"600"},{default:t(()=>[e(r,{onClick:a}),e(D,{title:"Review Details"},{default:t(()=>[b.selectedReview?(g(),P(T,{key:0,class:"pa-6"},{default:t(()=>[e($,null,{default:t(()=>[e(m,{cols:"12",md:"6"},{default:t(()=>[n[1]||(n[1]=o("div",{class:"text-body-2 text-disabled mb-1"}," Customer Name ",-1)),o("div",vl,c(b.selectedReview.customerName),1)]),_:1,__:[1]}),e(m,{cols:"12",md:"6"},{default:t(()=>[n[2]||(n[2]=o("div",{class:"text-body-2 text-disabled mb-1"}," Customer Email ",-1)),o("div",cl,c(b.selectedReview.customerEmail||"N/A"),1)]),_:1,__:[2]}),e(m,{cols:"12",md:"6"},{default:t(()=>[n[3]||(n[3]=o("div",{class:"text-body-2 text-disabled mb-1"}," Rating ",-1)),o("div",fl,[e(Pe,{"model-value":b.selectedReview.rating,readonly:"",size:"small",density:"compact"},null,8,["model-value"]),o("span",pl,c(b.selectedReview.rating)+"/5",1)])]),_:1,__:[3]}),e(m,{cols:"12",md:"6"},{default:t(()=>[n[4]||(n[4]=o("div",{class:"text-body-2 text-disabled mb-1"}," Date ",-1)),o("div",bl,c(b.selectedReview.date),1)]),_:1,__:[4]}),e(m,{cols:"12",md:"6"},{default:t(()=>[n[5]||(n[5]=o("div",{class:"text-body-2 text-disabled mb-1"}," Sentiment ",-1)),e(M,{color:b.selectedReview.sentiment==="positive"?"success":b.selectedReview.sentiment==="neutral"?"warning":"error",size:"small",label:"",class:"text-capitalize"},{default:t(()=>[f(c(b.selectedReview.sentiment),1)]),_:1},8,["color"])]),_:1,__:[5]}),e(m,{cols:"12"},{default:t(()=>[n[6]||(n[6]=o("div",{class:"text-body-2 text-disabled mb-1"}," Comment ",-1)),o("div",_l,c(b.selectedReview.comment),1)]),_:1,__:[6]})]),_:1})]),_:1})):J("",!0),e(L),e(O,{class:"pa-6"},{default:t(()=>[e(Q),e(x,{color:"secondary",variant:"tonal",onClick:a},{default:t(()=>n[7]||(n[7]=[f(" Close ")])),_:1,__:[7]})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),gl={class:"text-body-1 font-weight-medium"},Vl={class:"text-body-1 font-weight-medium"},xl={class:"text-body-1"},kl={class:"text-body-1 font-weight-medium"},wl=H({__name:"ViewProductDialog",props:{isDialogVisible:{type:Boolean},selectedProduct:{}},emits:["update:isDialogVisible"],setup(E,{emit:R}){const k=E,U=R,p=S({get:()=>k.isDialogVisible,set:n=>U("update:isDialogVisible",n)}),a=n=>n==="active"||n==="completed"||n==="approved"||n==="working"?"success":n==="pending"||n==="in_progress"?"warning":n==="inactive"||n==="cancelled"||n==="rejected"?"error":"default",b=()=>{p.value=!1};return(n,r)=>{const u=W;return g(),P(G,{modelValue:p.value,"onUpdate:modelValue":r[0]||(r[0]=w=>p.value=w),"max-width":"600"},{default:t(()=>[e(u,{onClick:b}),e(D,{title:"Product Details"},{default:t(()=>[n.selectedProduct?(g(),P(T,{key:0,class:"pa-6"},{default:t(()=>[e($,null,{default:t(()=>[e(m,{cols:"12",md:"6"},{default:t(()=>[r[1]||(r[1]=o("div",{class:"text-body-2 text-disabled mb-1"}," Product Name ",-1)),o("div",gl,c(n.selectedProduct.name),1)]),_:1,__:[1]}),e(m,{cols:"12",md:"6"},{default:t(()=>[r[2]||(r[2]=o("div",{class:"text-body-2 text-disabled mb-1"}," Category ",-1)),o("div",Vl,c(n.selectedProduct.category),1)]),_:1,__:[2]}),e(m,{cols:"12"},{default:t(()=>[r[3]||(r[3]=o("div",{class:"text-body-2 text-disabled mb-1"}," Description ",-1)),o("div",xl,c(n.selectedProduct.description),1)]),_:1,__:[3]}),e(m,{cols:"12",md:"6"},{default:t(()=>[r[4]||(r[4]=o("div",{class:"text-body-2 text-disabled mb-1"}," Unit Price ",-1)),o("div",kl,c(fe(pe)(n.selectedProduct.unitPrice)),1)]),_:1,__:[4]}),e(m,{cols:"12",md:"6"},{default:t(()=>[r[5]||(r[5]=o("div",{class:"text-body-2 text-disabled mb-1"}," Stock ",-1)),e(M,{color:n.selectedProduct.stock===0?"error":n.selectedProduct.stock<=10?"warning":"success",size:"small",label:""},{default:t(()=>[f(c(n.selectedProduct.stock)+" units ",1)]),_:1},8,["color"])]),_:1,__:[5]}),e(m,{cols:"12",md:"6"},{default:t(()=>[r[6]||(r[6]=o("div",{class:"text-body-2 text-disabled mb-1"}," Status ",-1)),e(M,{color:a(n.selectedProduct.status),size:"small",label:"",class:"text-capitalize"},{default:t(()=>[f(c(n.selectedProduct.status),1)]),_:1},8,["color"])]),_:1,__:[6]})]),_:1})]),_:1})):J("",!0),e(L),e(O,{class:"pa-6"},{default:t(()=>[e(Q),e(x,{color:"secondary",variant:"tonal",onClick:b},{default:t(()=>r[7]||(r[7]=[f(" Close ")])),_:1,__:[7]})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Dl={class:"text-h4"},Cl={class:"text-body-1 font-weight-medium"},Ul={class:"text-body-1 font-weight-medium"},Sl={class:"text-body-1 font-weight-medium"},Tl={class:"text-body-1 font-weight-medium"},Pl={class:"text-body-1 font-weight-medium"},Rl=H({__name:"ViewStaffDialog",props:{isDialogVisible:{type:Boolean},selectedStaff:{}},emits:["update:isDialogVisible"],setup(E,{emit:R}){const k=E,U=R,p=S({get:()=>k.isDialogVisible,set:n=>U("update:isDialogVisible",n)}),a=n=>n==="active"||n==="completed"||n==="approved"||n==="working"?"success":n==="pending"||n==="in_progress"?"warning":n==="inactive"||n==="cancelled"||n==="rejected"?"error":"default",b=()=>{p.value=!1};return(n,r)=>{const u=W;return g(),P(G,{modelValue:p.value,"onUpdate:modelValue":r[0]||(r[0]=w=>p.value=w),"max-width":"600"},{default:t(()=>[e(u,{onClick:b}),e(D,{title:"Staff Details"},{default:t(()=>[n.selectedStaff?(g(),P(T,{key:0,class:"pa-6"},{default:t(()=>[e($,null,{default:t(()=>[e(m,{cols:"12",class:"text-center pb-6"},{default:t(()=>[e(I,{size:"80",color:"primary",variant:"tonal"},{default:t(()=>[o("span",Dl,c(n.selectedStaff.name.split(" ").map(w=>w[0]).join("")),1)]),_:1})]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[r[1]||(r[1]=o("div",{class:"text-body-2 text-disabled mb-1"}," Full Name ",-1)),o("div",Cl,c(n.selectedStaff.name),1)]),_:1,__:[1]}),e(m,{cols:"12",md:"6"},{default:t(()=>[r[2]||(r[2]=o("div",{class:"text-body-2 text-disabled mb-1"}," Email ",-1)),o("div",Ul,c(n.selectedStaff.email),1)]),_:1,__:[2]}),e(m,{cols:"12",md:"6"},{default:t(()=>[r[3]||(r[3]=o("div",{class:"text-body-2 text-disabled mb-1"}," Job Title ",-1)),o("div",Sl,c(n.selectedStaff.jobTitle),1)]),_:1,__:[3]}),e(m,{cols:"12",md:"6"},{default:t(()=>[r[4]||(r[4]=o("div",{class:"text-body-2 text-disabled mb-1"}," Shift Time ",-1)),o("div",Tl,c(n.selectedStaff.shiftTime||"N/A"),1)]),_:1,__:[4]}),e(m,{cols:"12",md:"6"},{default:t(()=>[r[5]||(r[5]=o("div",{class:"text-body-2 text-disabled mb-1"}," Shift Time ",-1)),o("div",Pl,c(n.selectedStaff.shiftTime),1)]),_:1,__:[5]}),e(m,{cols:"12",md:"6"},{default:t(()=>[r[6]||(r[6]=o("div",{class:"text-body-2 text-disabled mb-1"}," Status ",-1)),e(M,{color:a(n.selectedStaff.status),size:"small",label:"",class:"text-capitalize"},{default:t(()=>[f(c(n.selectedStaff.status),1)]),_:1},8,["color"])]),_:1,__:[6]})]),_:1})]),_:1})):J("",!0),e(L),e(O,{class:"pa-6"},{default:t(()=>[e(Q),e(x,{color:"secondary",variant:"tonal",onClick:b},{default:t(()=>r[7]||(r[7]=[f(" Close ")])),_:1,__:[7]})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),zl=H({__name:"AddReviewDialog",props:{isDialogVisible:{type:Boolean}},emits:["update:isDialogVisible","reviewAdded"],setup(E,{emit:R}){const k=E,U=R,p=S({get:()=>k.isDialogVisible,set:r=>U("update:isDialogVisible",r)}),a=_({customerName:"",customerEmail:"",rating:0,comment:"",date:""}),b=()=>{!a.value.customerName||!a.value.comment||!a.value.date||(U("reviewAdded",{...a.value}),a.value={customerName:"",customerEmail:"",rating:0,comment:"",date:""},p.value=!1)},n=()=>{p.value=!1,a.value={customerName:"",customerEmail:"",rating:0,comment:"",date:""}};return(r,u)=>{const w=W;return g(),P(G,{modelValue:p.value,"onUpdate:modelValue":u[5]||(u[5]=d=>p.value=d),"max-width":"600"},{default:t(()=>[e(w,{onClick:n}),e(D,{title:"Add Customer Review"},{default:t(()=>[e(T,{class:"pa-6"},{default:t(()=>[e($,null,{default:t(()=>[e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.customerName,"onUpdate:modelValue":u[0]||(u[0]=d=>a.value.customerName=d),label:"Customer Name",required:""},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.customerEmail,"onUpdate:modelValue":u[1]||(u[1]=d=>a.value.customerEmail=d),label:"Customer Email",type:"email"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[u[6]||(u[6]=o("div",{class:"text-body-2 text-disabled mb-2"}," Rating ",-1)),e(Pe,{modelValue:a.value.rating,"onUpdate:modelValue":u[2]||(u[2]=d=>a.value.rating=d),size:"large"},null,8,["modelValue"])]),_:1,__:[6]}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.date,"onUpdate:modelValue":u[3]||(u[3]=d=>a.value.date=d),label:"Date",type:"date",required:""},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:t(()=>[e(_e,{modelValue:a.value.comment,"onUpdate:modelValue":u[4]||(u[4]=d=>a.value.comment=d),label:"Review Comment",rows:"4",required:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(L),e(O,{class:"pa-6"},{default:t(()=>[e(Q),e(x,{color:"secondary",variant:"tonal",onClick:n},{default:t(()=>u[7]||(u[7]=[f(" Cancel ")])),_:1,__:[7]}),e(x,{color:"primary",disabled:!a.value.customerName||!a.value.comment||!a.value.date,onClick:b},{default:t(()=>u[8]||(u[8]=[f(" Add Review ")])),_:1,__:[8]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),El=H({__name:"EditReviewDialog",props:{isDialogVisible:{type:Boolean},selectedReview:{}},emits:["update:isDialogVisible","reviewUpdated"],setup(E,{emit:R}){const k=E,U=R,p=S({get:()=>k.isDialogVisible,set:r=>U("update:isDialogVisible",r)}),a=_(null);Re(()=>k.selectedReview,r=>{r&&(a.value={...r})},{immediate:!0});const b=()=>{a.value&&(U("reviewUpdated",a.value),p.value=!1)},n=()=>{p.value=!1};return(r,u)=>{const w=W;return g(),P(G,{modelValue:p.value,"onUpdate:modelValue":u[5]||(u[5]=d=>p.value=d),"max-width":"600"},{default:t(()=>[e(w,{onClick:n}),e(D,{title:"Edit Customer Review"},{default:t(()=>[a.value?(g(),P(T,{key:0,class:"pa-6"},{default:t(()=>[e($,null,{default:t(()=>[e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.customerName,"onUpdate:modelValue":u[0]||(u[0]=d=>a.value.customerName=d),label:"Customer Name",required:""},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.customerEmail,"onUpdate:modelValue":u[1]||(u[1]=d=>a.value.customerEmail=d),label:"Customer Email",type:"email"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[u[6]||(u[6]=o("div",{class:"text-body-2 text-disabled mb-2"}," Rating ",-1)),e(Pe,{modelValue:a.value.rating,"onUpdate:modelValue":u[2]||(u[2]=d=>a.value.rating=d),size:"large"},null,8,["modelValue"])]),_:1,__:[6]}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.date,"onUpdate:modelValue":u[3]||(u[3]=d=>a.value.date=d),label:"Date",type:"date",required:""},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:t(()=>[e(_e,{modelValue:a.value.comment,"onUpdate:modelValue":u[4]||(u[4]=d=>a.value.comment=d),label:"Review Comment",rows:"4",required:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})):J("",!0),e(L),e(O,{class:"pa-6"},{default:t(()=>{var d,z,v;return[e(Q),e(x,{color:"secondary",variant:"tonal",onClick:n},{default:t(()=>u[7]||(u[7]=[f(" Cancel ")])),_:1,__:[7]}),e(x,{color:"primary",disabled:!((d=a.value)!=null&&d.customerName)||!((z=a.value)!=null&&z.comment)||!((v=a.value)!=null&&v.date),onClick:b},{default:t(()=>u[8]||(u[8]=[f(" Save Changes ")])),_:1,__:[8]},8,["disabled"])]}),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Nl={class:"text-body-2 text-disabled mb-3"},$l={class:"font-weight-medium text-high-emphasis"},Al={class:"text-h6"},Il=H({__name:"EditProductDialog",props:{isDialogVisible:{type:Boolean},selectedProduct:{}},emits:["update:isDialogVisible","productUpdated"],setup(E,{emit:R}){const k=E,U=R,p=S({get:()=>k.isDialogVisible,set:r=>U("update:isDialogVisible",r)}),a=_(null);Re(()=>k.selectedProduct,r=>{r&&(a.value={...r})},{immediate:!0});const b=()=>{a.value&&(U("productUpdated",a.value),p.value=!1)},n=()=>{p.value=!1};return(r,u)=>{const w=W;return g(),P(G,{modelValue:p.value,"onUpdate:modelValue":u[1]||(u[1]=d=>p.value=d),"max-width":"600"},{default:t(()=>[e(w,{onClick:n}),e(D,{title:"Edit Product Inventory"},{default:t(()=>[a.value?(g(),P(T,{key:0,class:"pa-6"},{default:t(()=>[e($,null,{default:t(()=>[e(m,{cols:"12"},{default:t(()=>[o("div",Nl,[u[2]||(u[2]=f(" Product: ")),o("span",$l,c(a.value.name),1)])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.stock,"onUpdate:modelValue":u[0]||(u[0]=d=>a.value.stock=d),modelModifiers:{number:!0},label:"Stock Quantity",type:"number",min:"0",required:""},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[u[3]||(u[3]=o("div",{class:"text-body-2 text-disabled mb-1"}," Unit Price ",-1)),o("div",Al,c(fe(pe)(a.value.unitPrice)),1)]),_:1,__:[3]}),e(m,{cols:"12"},{default:t(()=>u[4]||(u[4]=[o("div",{class:"text-caption text-disabled"}," Note: You can only update the stock quantity. Product details like name, price, and category are managed at the franchise level. ",-1)])),_:1,__:[4]})]),_:1})]),_:1})):J("",!0),e(L),e(O,{class:"pa-6"},{default:t(()=>{var d,z;return[e(Q),e(x,{color:"secondary",variant:"tonal",onClick:n},{default:t(()=>u[5]||(u[5]=[f(" Cancel ")])),_:1,__:[5]}),e(x,{color:"primary",disabled:((d=a.value)==null?void 0:d.stock)===void 0||((z=a.value)==null?void 0:z.stock)<0,onClick:b},{default:t(()=>u[6]||(u[6]=[f(" Save Changes ")])),_:1,__:[6]},8,["disabled"])]}),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),ql=H({__name:"EditStaffDialog",props:{isDialogVisible:{type:Boolean},selectedStaff:{}},emits:["update:isDialogVisible","staffUpdated"],setup(E,{emit:R}){const k=E,U=R,p=S({get:()=>k.isDialogVisible,set:w=>U("update:isDialogVisible",w)}),a=_(null);Re(()=>k.selectedStaff,w=>{w&&(a.value={...w})},{immediate:!0});const b=()=>{a.value&&(U("staffUpdated",a.value),p.value=!1)},n=()=>{p.value=!1},r=["working","leave","terminated","inactive"],u=[{title:"Full Time",value:"full_time"},{title:"Part Time",value:"part_time"},{title:"Contract",value:"contract"},{title:"Temporary",value:"temporary"}];return(w,d)=>{const z=W;return g(),P(G,{modelValue:p.value,"onUpdate:modelValue":d[12]||(d[12]=v=>p.value=v),"max-width":"600"},{default:t(()=>[e(z,{onClick:n}),e(D,{title:"Edit Staff Member"},{default:t(()=>[a.value?(g(),P(T,{key:0,class:"pa-6"},{default:t(()=>[e($,null,{default:t(()=>[e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.name,"onUpdate:modelValue":d[0]||(d[0]=v=>a.value.name=v),label:"Full Name",required:""},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.email,"onUpdate:modelValue":d[1]||(d[1]=v=>a.value.email=v),label:"Email",type:"email",required:""},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.phone,"onUpdate:modelValue":d[2]||(d[2]=v=>a.value.phone=v),label:"Phone"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.jobTitle,"onUpdate:modelValue":d[3]||(d[3]=v=>a.value.jobTitle=v),label:"Job Title",required:""},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.department,"onUpdate:modelValue":d[4]||(d[4]=v=>a.value.department=v),label:"Department"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.salary,"onUpdate:modelValue":d[5]||(d[5]=v=>a.value.salary=v),label:"Salary",type:"number",prefix:"SAR"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.hireDate,"onUpdate:modelValue":d[6]||(d[6]=v=>a.value.hireDate=v),label:"Hire Date",type:"date"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.shiftStart,"onUpdate:modelValue":d[7]||(d[7]=v=>a.value.shiftStart=v),label:"Shift Start",type:"time"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.shiftEnd,"onUpdate:modelValue":d[8]||(d[8]=v=>a.value.shiftEnd=v),label:"Shift End",type:"time"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(be,{modelValue:a.value.status,"onUpdate:modelValue":d[9]||(d[9]=v=>a.value.status=v),label:"Status",items:r,required:""},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(be,{modelValue:a.value.employmentType,"onUpdate:modelValue":d[10]||(d[10]=v=>a.value.employmentType=v),label:"Employment Type",items:u},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:t(()=>[e(_e,{modelValue:a.value.notes,"onUpdate:modelValue":d[11]||(d[11]=v=>a.value.notes=v),label:"Notes",rows:"2"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})):J("",!0),e(L),e(O,{class:"pa-6"},{default:t(()=>{var v,j,X,te;return[e(Q),e(x,{color:"secondary",variant:"tonal",onClick:n},{default:t(()=>d[13]||(d[13]=[f(" Cancel ")])),_:1,__:[13]}),e(x,{color:"primary",disabled:!((v=a.value)!=null&&v.name)||!((j=a.value)!=null&&j.email)||!((X=a.value)!=null&&X.jobTitle)||!((te=a.value)!=null&&te.status),onClick:b},{default:t(()=>d[14]||(d[14]=[f(" Save Changes ")])),_:1,__:[14]},8,["disabled"])]}),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Ll=H({__name:"AddStaffDialog",props:{isDialogVisible:{type:Boolean}},emits:["update:isDialogVisible","staffAdded"],setup(E,{emit:R}){const k=E,U=R,p=S({get:()=>k.isDialogVisible,set:w=>U("update:isDialogVisible",w)}),a=_({name:"",email:"",phone:"",jobTitle:"",department:"",salary:0,hireDate:"",shiftStart:"",shiftEnd:"",status:"Active",employmentType:"full_time",notes:""}),b=()=>{!a.value.name||!a.value.email||!a.value.jobTitle||!a.value.hireDate||!a.value.status||(U("staffAdded",{...a.value}),a.value={name:"",email:"",phone:"",jobTitle:"",department:"",salary:0,hireDate:"",shiftStart:"",shiftEnd:"",status:"Active",employmentType:"full_time",notes:""},p.value=!1)},n=()=>{p.value=!1,a.value={name:"",email:"",phone:"",jobTitle:"",department:"",salary:0,hireDate:"",shiftStart:"",shiftEnd:"",status:"Active",employmentType:"full_time",notes:""}},r=["Active","On Leave","Terminated","Inactive"],u=[{title:"Full Time",value:"full_time"},{title:"Part Time",value:"part_time"},{title:"Contract",value:"contract"},{title:"Temporary",value:"temporary"}];return(w,d)=>{const z=W;return g(),P(G,{modelValue:p.value,"onUpdate:modelValue":d[12]||(d[12]=v=>p.value=v),"max-width":"600"},{default:t(()=>[e(z,{onClick:n}),e(D,{title:"Add New Staff Member"},{default:t(()=>[e(T,{class:"pa-6"},{default:t(()=>[e($,null,{default:t(()=>[e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.name,"onUpdate:modelValue":d[0]||(d[0]=v=>a.value.name=v),label:"Full Name",required:""},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.email,"onUpdate:modelValue":d[1]||(d[1]=v=>a.value.email=v),label:"Email",type:"email",required:""},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.phone,"onUpdate:modelValue":d[2]||(d[2]=v=>a.value.phone=v),label:"Phone"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.jobTitle,"onUpdate:modelValue":d[3]||(d[3]=v=>a.value.jobTitle=v),label:"Job Title",required:""},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.department,"onUpdate:modelValue":d[4]||(d[4]=v=>a.value.department=v),label:"Department"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.salary,"onUpdate:modelValue":d[5]||(d[5]=v=>a.value.salary=v),label:"Salary",type:"number",prefix:"SAR"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.hireDate,"onUpdate:modelValue":d[6]||(d[6]=v=>a.value.hireDate=v),label:"Hire Date",type:"date",required:""},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.shiftStart,"onUpdate:modelValue":d[7]||(d[7]=v=>a.value.shiftStart=v),label:"Shift Start",type:"time"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.shiftEnd,"onUpdate:modelValue":d[8]||(d[8]=v=>a.value.shiftEnd=v),label:"Shift End",type:"time"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(be,{modelValue:a.value.status,"onUpdate:modelValue":d[9]||(d[9]=v=>a.value.status=v),label:"Status",items:r,required:""},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(be,{modelValue:a.value.employmentType,"onUpdate:modelValue":d[10]||(d[10]=v=>a.value.employmentType=v),label:"Employment Type",items:u,required:""},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:t(()=>[e(_e,{modelValue:a.value.notes,"onUpdate:modelValue":d[11]||(d[11]=v=>a.value.notes=v),label:"Notes",rows:"2"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(L),e(O,{class:"pa-6"},{default:t(()=>[e(Q),e(x,{color:"secondary",variant:"tonal",onClick:n},{default:t(()=>d[13]||(d[13]=[f(" Cancel ")])),_:1,__:[13]}),e(x,{color:"primary",disabled:!a.value.name||!a.value.email||!a.value.jobTitle||!a.value.hireDate||!a.value.status,onClick:b},{default:t(()=>d[14]||(d[14]=[f(" Add Staff ")])),_:1,__:[14]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Fl=H({__name:"EditUnitDialog",props:{isDialogVisible:{type:Boolean},unitData:{}},emits:["update:isDialogVisible","unitUpdated"],setup(E,{emit:R}){const k=E,U=R,p=S({get:()=>k.isDialogVisible,set:r=>U("update:isDialogVisible",r)}),a=_({});Re(()=>k.unitData,r=>{r&&(a.value={...r})},{immediate:!0});const b=()=>{a.value&&k.unitData&&(U("unitUpdated",a.value),p.value=!1)},n=()=>{p.value=!1};return(r,u)=>{const w=W;return g(),P(G,{modelValue:p.value,"onUpdate:modelValue":u[5]||(u[5]=d=>p.value=d),"max-width":"600"},{default:t(()=>[e(w,{onClick:n}),e(D,{title:"Edit Unit Details"},{default:t(()=>[e(T,{class:"pa-6"},{default:t(()=>[e($,null,{default:t(()=>[e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.branchName,"onUpdate:modelValue":u[0]||(u[0]=d=>a.value.branchName=d),label:"Branch Name",required:""},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.city,"onUpdate:modelValue":u[1]||(u[1]=d=>a.value.city=d),label:"City",required:""},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.franchiseeName,"onUpdate:modelValue":u[2]||(u[2]=d=>a.value.franchiseeName=d),label:"Franchisee",disabled:""},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:a.value.contactNumber,"onUpdate:modelValue":u[3]||(u[3]=d=>a.value.contactNumber=d),label:"Contact Number",required:""},null,8,["modelValue"])]),_:1}),e(m,{cols:"12"},{default:t(()=>[e(_e,{modelValue:a.value.address,"onUpdate:modelValue":u[4]||(u[4]=d=>a.value.address=d),label:"Address",rows:"3"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(L),e(O,{class:"pa-6"},{default:t(()=>[e(Q),e(x,{color:"secondary",variant:"tonal",onClick:n},{default:t(()=>u[6]||(u[6]=[f(" Cancel ")])),_:1,__:[6]}),e(x,{color:"primary",disabled:!a.value.branchName||!a.value.city||!a.value.contactNumber,onClick:b},{default:t(()=>u[7]||(u[7]=[f(" Save Changes ")])),_:1,__:[7]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Bl={key:0,class:"text-center py-4"},Ml={class:"d-flex align-center gap-3"},jl={class:"text-h6"},hl={class:"text-body-2 mb-0"},Ol={class:"text-body-2 text-medium-emphasis"},Hl=H({__name:"AddProductToInventoryDialog",props:{isDialogVisible:{type:Boolean},availableFranchiseProducts:{}},emits:["update:isDialogVisible","productAdded"],setup(E,{emit:R}){const k=E,U=R,p=S({get:()=>k.isDialogVisible,set:w=>U("update:isDialogVisible",w)}),a=_(null),b=_({quantity:0,reorderLevel:5}),n=S(()=>a.value?k.availableFranchiseProducts.find(w=>w.id===a.value):null),r=()=>{a.value&&(U("productAdded",{productId:a.value,quantity:Number.parseInt(b.value.quantity.toString()),reorderLevel:Number.parseInt(b.value.reorderLevel.toString())}),a.value=null,b.value={quantity:0,reorderLevel:5},p.value=!1)},u=()=>{p.value=!1,a.value=null,b.value={quantity:0,reorderLevel:5}};return(w,d)=>{const z=W;return g(),P(G,{modelValue:p.value,"onUpdate:modelValue":d[3]||(d[3]=v=>p.value=v),"max-width":"600"},{default:t(()=>[e(z,{onClick:u}),e(D,{title:"Add Product to Inventory"},{default:t(()=>[e(T,{class:"pa-6"},{default:t(()=>[e($,null,{default:t(()=>[e(m,{cols:"12"},{default:t(()=>[e(be,{modelValue:a.value,"onUpdate:modelValue":d[0]||(d[0]=v=>a.value=v),label:"Select Product",items:k.availableFranchiseProducts,"item-title":"name","item-value":"id",required:"",placeholder:"Choose a product from franchise catalog","no-data-text":k.availableFranchiseProducts.length===0?"No available franchise products to add":"No products match your search"},{item:t(({item:v,props:j})=>[e(F,ll(al(j)),{default:t(()=>[e(B,null,{default:t(()=>[f(c(v.raw.name),1)]),_:2},1024),e(nl,null,{default:t(()=>[f(c(v.raw.category)+" • "+c(fe(pe)(v.raw.unitPrice)),1)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","items","no-data-text"]),k.availableFranchiseProducts.length===0?(g(),N("div",Bl,[e(y,{icon:"tabler-package-off",size:"48",class:"text-disabled mb-2"}),d[4]||(d[4]=o("div",{class:"text-body-2 text-disabled"}," All franchise products are already in this unit's inventory ",-1))])):J("",!0)]),_:1}),n.value?(g(),P(m,{key:0,cols:"12"},{default:t(()=>[e(D,{variant:"tonal",color:"primary"},{default:t(()=>[e(T,null,{default:t(()=>[o("div",Ml,[e(y,{icon:"tabler-package",size:"24"}),o("div",null,[o("h6",jl,c(n.value.name),1),o("p",hl,c(n.value.description),1),o("div",Ol," Category: "+c(n.value.category)+" • Price: "+c(fe(pe)(n.value.unitPrice)),1)])])]),_:1})]),_:1})]),_:1})):J("",!0),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:b.value.quantity,"onUpdate:modelValue":d[1]||(d[1]=v=>b.value.quantity=v),label:"Initial Stock Quantity",type:"number",min:"0",required:"",placeholder:"Enter quantity to add"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[e(C,{modelValue:b.value.reorderLevel,"onUpdate:modelValue":d[2]||(d[2]=v=>b.value.reorderLevel=v),label:"Reorder Level",type:"number",min:"0",required:"",placeholder:"Minimum stock alert level"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(L),e(O,{class:"pa-6"},{default:t(()=>[e(Q),e(x,{color:"secondary",variant:"tonal",onClick:u},{default:t(()=>d[5]||(d[5]=[f(" Cancel ")])),_:1,__:[5]}),e(x,{color:"primary",disabled:!a.value||!b.value.quantity,onClick:r},{default:t(()=>d[6]||(d[6]=[f(" Add to Inventory ")])),_:1,__:[6]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Jl={class:"d-flex align-center justify-space-between"},Wl={class:"d-flex align-center gap-3"},Gl={class:"text-h2 mb-1"},Ql={class:"text-body-1 text-medium-emphasis"},Xl={key:0,class:"text-center py-8"},Yl={key:1,class:"text-center py-8"},Zl={class:"text-body-1 text-error"},Kl={class:"mb-4"},ea={class:"text-body-1 font-weight-medium"},ta={class:"mb-4"},la={class:"text-body-1"},aa={class:"mb-4"},sa={class:"text-body-1"},oa=["href"],ia={class:"mb-4"},da={class:"text-body-1"},na={class:"mb-4"},ua={class:"text-body-1"},ra={key:0,class:"text-center py-8"},ma={key:1,class:"text-center py-8"},va={class:"text-body-1 text-error"},ca={class:"ms-4"},fa={class:"text-h4"},pa={class:"ms-4"},ba={class:"text-h4"},_a={class:"ms-4"},ya={class:"text-h4"},ga={class:"ms-4"},Va={class:"text-h4"},xa={class:"text-base font-weight-medium"},ka={class:"text-body-2 text-disabled"},wa={key:0,class:"text-center py-8"},Da={key:1,class:"text-center py-8"},Ca={class:"text-body-1 text-error"},Ua={key:2,class:"text-center py-8"},Sa={class:"d-flex align-center mb-3"},Ta={class:"text-h6"},Pa={class:"text-body-2 text-disabled mb-0"},Ra={class:"text-body-2 mb-3"},za={class:"d-flex align-center justify-space-between mb-3"},Ea={class:"text-body-2 text-disabled"},Na={class:"d-flex align-center justify-space-between mb-3"},$a={class:"text-body-2 text-disabled"},Aa={key:0,class:"text-center py-8"},Ia={key:1,class:"text-center py-8"},qa={class:"text-body-1 text-error"},La={class:"ms-4"},Fa={class:"text-h4"},Ba={class:"ms-4"},Ma={class:"text-h4"},ja={class:"ms-4"},ha={class:"text-h4"},Oa={class:"d-flex align-center gap-x-3"},Ha={class:"text-base font-weight-medium"},Ja={class:"text-body-2 text-disabled"},Wa={key:0,class:"text-center py-8"},Ga={key:1,class:"text-center py-8"},Qa={class:"text-body-1 text-error"},Xa={class:"ms-4"},Ya={class:"text-h4"},Za={class:"ms-4"},Ka={class:"text-h4"},es={class:"ms-4"},ts={class:"text-h4"},ls={class:"ms-4"},as={class:"text-h4"},ss={class:"text-body-1 font-weight-medium"},os={key:0,class:"text-center py-8"},is={key:1,class:"text-center py-8"},ds={class:"text-body-1 text-error"},ns={class:"ms-4"},us={class:"text-h4"},rs={class:"ms-4"},ms={class:"text-h4"},vs={class:"ms-4"},cs={class:"text-h4"},fs={class:"d-flex align-center gap-1"},ps={class:"text-body-2"},bs={class:"text-body-2",style:{"max-width":"300px"}},oo=H({__name:"unit-operation",setup(E){const R=sl(),k=_("overview"),U=S(()=>{const i=R.params.id;return typeof i=="string"?i:""}),p=S(()=>{if(U.value){const i=Number.parseInt(U.value);if(!Number.isNaN(i)&&i>0)return i}return null}),a=S(()=>{var i;return((i=r.value)==null?void 0:i.id)||p.value}),b=_(!1),n=_(null),r=_(null),u=_([]),w=_([]),d=_([]),z=_([]),v=_([]),j=_([]),X=_(null),te=_({quantity:0,reorderLevel:5}),h=()=>{var l;const i=((l=r.value)==null?void 0:l.id)||p.value;if(!i)throw new Error("Unit ID is not available");return i};S(()=>X.value?j.value.find(i=>i.id===X.value):null);const Y=async()=>{try{b.value=!0,n.value=null;const i=p.value||void 0,l=await A.getUnitDetails(i);l.success&&(r.value=l.data);const s=await A.getUnitTasks(i);s.success&&(u.value=s.data);const V=await A.getUnitStaff(i);V.success&&(d.value=V.data);const q=await A.getUnitProducts(i);q.success&&(z.value=q.data);const K=await A.getUnitReviews(i);K.success&&(v.value=K.data);const ee=await A.getUnitDocuments(i);ee.success&&(w.value=ee.data)}catch(i){console.error("Error loading unit data:",i),n.value="Failed to load unit data. Please try again."}finally{b.value=!1}};ol(()=>{Y()});const ze=_(!1),Ee=_(!1),ye=_(!1),ge=_(!1),Ve=_(!1),xe=_(!1),Ne=_(!1),ke=_(!1),Z=_(!1),re=_(null),$e=_(null),Ae=_(!1),we=_(!1),le=_(null),Oe=_(null),Ie=_(!1),De=_(!1),ae=_(null),He=_(null),qe=_(!1),Ce=_(!1),se=_(null),Je=_(null),Le=_(!1),Be=_(null),Fe=_(null),Me=_({name:"",email:"",phone:"",jobTitle:"",department:"",salary:0,hireDate:"",shiftStart:"",shiftEnd:"",status:"Active",employmentType:"full_time",notes:""}),je=_({customerName:"",customerEmail:"",rating:0,comment:"",date:""}),he=_({...r.value}),We=S(()=>u.value.length),Ge=S(()=>u.value.filter(i=>i.status==="completed").length),Qe=S(()=>u.value.filter(i=>i.status==="in_progress").length),Xe=S(()=>{const i=new Date;return u.value.filter(l=>new Date(l.dueDate)<=i&&l.status!=="completed").length}),Ye=S(()=>d.value.length),Ze=S(()=>d.value.filter(i=>i.status==="working").length),Ke=S(()=>d.value.filter(i=>i.status==="leave").length),et=S(()=>z.value.length),tt=S(()=>z.value.reduce((i,l)=>i+l.stock,0)),lt=S(()=>z.value.filter(i=>i.stock>0&&i.stock<=10).length),at=S(()=>z.value.filter(i=>i.stock===0).length),st=S(()=>v.value.length===0?0:(v.value.reduce((l,s)=>l+s.rating,0)/v.value.length).toFixed(1)),ot=S(()=>v.value.filter(i=>i.sentiment==="positive").length),it=S(()=>v.value.filter(i=>i.sentiment==="negative").length),me=i=>i==="active"||i==="completed"||i==="approved"||i==="working"?"success":i==="pending"||i==="in_progress"||i==="leave"?"warning":i==="inactive"||i==="rejected"||i==="terminated"?"error":"secondary",dt=i=>i==="high"?"error":i==="medium"?"warning":i==="low"?"info":"secondary",nt=()=>{he.value={...r.value},ye.value=!0},ut=async i=>{const l=i||he.value;try{const s=await A.updateUnitDetails(h(),l);s.success&&(r.value=s.data,ye.value=!1)}catch(s){console.error("Error updating unit details:",s)}},rt=async i=>{await ut(i)},mt=async i=>{try{const l=await A.createTask(h(),i);l.success&&u.value.push(l.data)}catch(l){console.error("Error creating task:",l)}},vt=async i=>{try{const l=new FormData;l.append("title",i.title),l.append("description",i.description),l.append("type",i.type),l.append("status",i.status||"pending"),l.append("comment",i.comment||""),i.file&&l.append("file",i.file);const s=await A.createDocument(h(),l);s.success&&w.value.push(s.data)}catch(l){console.error("Error creating document:",l)}},ct=async i=>{try{i.action==="approve"?console.log("Approving document:",i.document,"with comment:",i.comment):i.action==="reject"&&console.log("Rejecting document:",i.document,"with comment:",i.comment)}catch(l){console.error("Error performing document action:",l)}finally{Le.value=!1,Be.value=null,Fe.value=null}},ft=async i=>{var l;try{const s=((l=r.value)==null?void 0:l.id)||h(),V=dl("accessToken").value;if(!V){console.error("No access token found");return}const q=await fetch(`/api/v1/unit-manager/units/documents/${s}/${i.id}/download`,{method:"GET",headers:{Authorization:`Bearer ${V}`,Accept:"application/octet-stream","X-Requested-With":"XMLHttpRequest"},credentials:"include"});if(!q.ok){const Gt=await q.text();throw console.error("Download failed:",q.status,Gt),new Error(`Failed to download document: ${q.status}`)}const K=await q.blob(),ee=window.URL.createObjectURL(K),ve=window.document.createElement("a");ve.href=ee,ve.download=i.fileName,window.document.body.appendChild(ve),ve.click(),window.document.body.removeChild(ve),window.URL.revokeObjectURL(ee)}catch(s){console.error("Error downloading document:",s)}},pt=i=>{le.value=i,Ae.value=!0},bt=i=>{le.value={...i},we.value=!0},_t=i=>{Oe.value=i,Z.value=!0},yt=async i=>{const l=i||le.value;if(l)try{const s=await A.updateStaff(h(),l.id,l);if(s.success){const V=d.value.findIndex(q=>q.id===l.id);V!==-1&&(d.value[V]=s.data)}}catch(s){console.error("Error updating staff:",s)}finally{we.value=!1,le.value=null}},gt=async i=>{await yt(i)},Vt=async i=>{const l=i||Me.value;try{const s=await A.createStaff(h(),l);s.success&&(d.value.push(s.data),ge.value=!1,Me.value={name:"",email:"",phone:"",jobTitle:"",department:"",salary:0,hireDate:"",shiftStart:"",shiftEnd:"",status:"Active",employmentType:"full_time",notes:""})}catch(s){console.error("Error adding staff:",s)}},xt=async i=>{await Vt(i)},kt=i=>{ae.value=i,Ie.value=!0},wt=i=>{ae.value={...i},De.value=!0},Dt=i=>{He.value=i,Z.value=!0},Ct=async i=>{const l=i||ae.value;if(l)try{const s=await A.updateProduct(h(),l.id,l);if(s.success){const V=z.value.findIndex(q=>q.id===l.id);V!==-1&&(z.value[V]=s.data)}}catch(s){console.error("Error updating product:",s)}finally{De.value=!1,ae.value=null}},Ut=async i=>{await Ct(i)},St=async()=>{var i;try{const l=((i=r.value)==null?void 0:i.id)||h();if(!l){console.error("Unit ID not available yet. Please wait for unit data to load."),j.value=[];return}const s=await A.getAvailableFranchiseProducts(l);s.success&&(j.value=s.data)}catch(l){console.error("Error loading franchise products:",l),j.value=[]}},Tt=async i=>{var s;const l=i||{productId:X.value,quantity:Number.parseInt(te.value.quantity.toString()),reorderLevel:Number.parseInt(te.value.reorderLevel.toString())};try{const V=((s=r.value)==null?void 0:s.id)||h();if(!V){console.error("Unit ID not available for adding product");return}if((await A.addProductToInventory(V,l)).success){const K=j.value.find(ee=>ee.id===l.productId);K&&z.value.push({...K,stock:l.quantity}),Rt()}}catch(V){console.error("Error adding product to inventory:",V)}},Pt=async i=>{await Tt(i)},Rt=()=>{Ve.value=!1,X.value=null,te.value={quantity:0,reorderLevel:5}},zt=()=>{St(),Ve.value=!0},Et=i=>{se.value=i,qe.value=!0},Nt=i=>{se.value={...i},Ce.value=!0},$t=i=>{Je.value=i,Z.value=!0},At=async i=>{const l=i||se.value;if(l)try{const s=await A.updateReview(h(),l.id,l);if(s.success){const V=v.value.findIndex(q=>q.id===l.id);V!==-1&&(v.value[V]=s.data)}}catch(s){console.error("Error updating review:",s)}finally{Ce.value=!1,se.value=null}},It=async i=>{await At(i)},qt=async i=>{const l=i||je.value;try{const s=await A.createReview(h(),l);s.success&&(v.value.push(s.data),xe.value=!1,je.value={customerName:"",customerEmail:"",rating:0,comment:"",date:""})}catch(s){console.error("Error adding review:",s)}},Lt=async i=>{await qt(i)},Ft=i=>{re.value=i,Ne.value=!0},Bt=i=>{re.value={...i},ke.value=!0},Mt=i=>{$e.value=i,Z.value=!0},jt=i=>{const l=u.value.findIndex(s=>s.id===i.id);l!==-1&&(u.value[l]=i),ke.value=!1,re.value=null},ht=i=>{const l=u.value.findIndex(s=>s.id===i);l!==-1&&u.value.splice(l,1),Z.value=!1,$e.value=null},Ot=[{title:"Task Info",key:"taskInfo"},{title:"Category",key:"category"},{title:"Start Date",key:"startDate"},{title:"Due Date",key:"dueDate"},{title:"Priority",key:"priority"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],Ht=[{title:"Name",key:"name"},{title:"Job Title",key:"jobTitle"},{title:"Email",key:"email"},{title:"Shift Time",key:"shiftTime"},{title:"Status",key:"status"}],Jt=[{title:"Product Name",key:"name"},{title:"Description",key:"description"},{title:"Category",key:"category"},{title:"Unit Price",key:"unitPrice"},{title:"Stock",key:"stock"},{title:"Status",key:"status"}],Wt=[{title:"Customer",key:"customerName"},{title:"Rating",key:"rating"},{title:"Comment",key:"comment"},{title:"Date",key:"date"},{title:"Sentiment",key:"sentiment"}];return(i,l)=>(g(),N("section",null,[e($,{class:"mb-6"},{default:t(()=>[e(m,{cols:"12"},{default:t(()=>{var s;return[o("div",Jl,[o("div",Wl,[o("div",null,[o("h2",Gl,c(((s=r.value)==null?void 0:s.branchName)||"Loading..."),1),o("p",Ql,c(r.value?`Managed by ${r.value.franchiseeName} • ${r.value.city}, ${r.value.state}`:"Loading unit information..."),1)])]),r.value?(g(),P(M,{key:0,color:me(r.value.status),size:"large",label:"",class:"text-capitalize"},{default:t(()=>[f(c(r.value.status),1)]),_:1},8,["color"])):(g(),P(ul,{key:1,type:"chip",width:"80",height:"32"}))])]}),_:1})]),_:1}),e(rl,{modelValue:k.value,"onUpdate:modelValue":l[0]||(l[0]=s=>k.value=s),class:"mb-6"},{default:t(()=>[e(ne,{value:"overview"},{default:t(()=>[e(y,{icon:"tabler-info-circle",start:""}),l[22]||(l[22]=f(" Overview "))]),_:1,__:[22]}),e(ne,{value:"tasks",hidden:""},{default:t(()=>[e(y,{icon:"tabler-checklist",start:""}),l[23]||(l[23]=f(" Tasks "))]),_:1,__:[23]}),e(ne,{value:"documents"},{default:t(()=>[e(y,{icon:"tabler-files",start:""}),l[24]||(l[24]=f(" Documents "))]),_:1,__:[24]}),e(ne,{value:"staffs"},{default:t(()=>[e(y,{icon:"tabler-users",start:""}),l[25]||(l[25]=f(" Staffs "))]),_:1,__:[25]}),e(ne,{value:"inventory"},{default:t(()=>[e(y,{icon:"tabler-package",start:""}),l[26]||(l[26]=f(" Inventory Management "))]),_:1,__:[26]}),e(ne,{value:"reviews"},{default:t(()=>[e(y,{icon:"tabler-star",start:""}),l[27]||(l[27]=f(" Customer Reviews "))]),_:1,__:[27]})]),_:1},8,["modelValue"]),e(ml,{modelValue:k.value,"onUpdate:modelValue":l[5]||(l[5]=s=>k.value=s),class:"disable-tab-transition"},{default:t(()=>[e(ue,{value:"overview"},{default:t(()=>[e(D,null,{default:t(()=>[e(oe,{class:"pb-4"},{append:t(()=>[e(x,{color:"primary","prepend-icon":"tabler-edit",disabled:!r.value,onClick:nt},{default:t(()=>l[29]||(l[29]=[f(" Edit Details ")])),_:1,__:[29]},8,["disabled"])]),default:t(()=>[e(ie,null,{default:t(()=>l[28]||(l[28]=[f("Unit Information")])),_:1,__:[28]})]),_:1}),e(L),e(T,null,{default:t(()=>[b.value?(g(),N("div",Xl,[e(de,{indeterminate:"",color:"primary"}),l[30]||(l[30]=o("div",{class:"mt-3 text-body-1"}," Loading unit information... ",-1))])):n.value?(g(),N("div",Yl,[e(y,{icon:"tabler-alert-circle",color:"error",size:"48",class:"mb-3"}),o("div",Zl,c(n.value),1),e(x,{color:"primary",variant:"tonal",class:"mt-3",onClick:Y},{default:t(()=>l[31]||(l[31]=[f(" Retry ")])),_:1,__:[31]})])):r.value?(g(),P($,{key:2},{default:t(()=>[e(m,{cols:"12"},{default:t(()=>[l[37]||(l[37]=o("h4",{class:"text-h6 mb-4"}," Basic Information ",-1)),e($,null,{default:t(()=>[e(m,{cols:"12",md:"6"},{default:t(()=>[o("div",Kl,[l[32]||(l[32]=o("div",{class:"text-sm text-disabled mb-1"}," Branch Name ",-1)),o("div",ea,c(r.value.branchName),1)])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[o("div",ta,[l[33]||(l[33]=o("div",{class:"text-sm text-disabled mb-1"}," Franchisee Name ",-1)),o("div",la,c(r.value.franchiseeName),1)])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[o("div",aa,[l[34]||(l[34]=o("div",{class:"text-sm text-disabled mb-1"}," Email Address ",-1)),o("div",sa,[o("a",{href:`mailto:${r.value.email}`,class:"text-primary"},c(r.value.email),9,oa)])])]),_:1}),e(m,{cols:"12",md:"6"},{default:t(()=>[o("div",ia,[l[35]||(l[35]=o("div",{class:"text-sm text-disabled mb-1"}," Contact Number ",-1)),o("div",da,c(r.value.contactNumber),1)])]),_:1}),e(m,{cols:"12"},{default:t(()=>[o("div",na,[l[36]||(l[36]=o("div",{class:"text-sm text-disabled mb-1"}," Address ",-1)),o("div",ua,c(r.value.address)+", "+c(r.value.city)+", "+c(r.value.state)+", "+c(r.value.country),1)])]),_:1})]),_:1})]),_:1,__:[37]})]),_:1})):J("",!0)]),_:1})]),_:1})]),_:1}),e(ue,{value:"tasks"},{default:t(()=>[b.value?(g(),N("div",ra,[e(de,{indeterminate:"",color:"primary"}),l[38]||(l[38]=o("div",{class:"mt-3 text-body-1"}," Loading tasks data... ",-1))])):n.value?(g(),N("div",ma,[e(y,{icon:"tabler-alert-circle",color:"error",size:"48",class:"mb-3"}),o("div",va,c(n.value),1),e(x,{color:"primary",variant:"tonal",class:"mt-3",onClick:Y},{default:t(()=>l[39]||(l[39]=[f(" Retry ")])),_:1,__:[39]})])):(g(),N(ce,{key:2},[e($,{class:"mb-6"},{default:t(()=>[e(m,{cols:"12",md:"3"},{default:t(()=>[e(D,null,{default:t(()=>[e(T,{class:"d-flex align-center"},{default:t(()=>[e(I,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:t(()=>[e(y,{icon:"tabler-checklist",size:"26"})]),_:1}),o("div",ca,[l[40]||(l[40]=o("div",{class:"text-body-2 text-disabled"}," Total Tasks ",-1)),o("h4",fa,c(We.value),1)])]),_:1})]),_:1})]),_:1}),e(m,{cols:"12",md:"3"},{default:t(()=>[e(D,null,{default:t(()=>[e(T,{class:"d-flex align-center"},{default:t(()=>[e(I,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:t(()=>[e(y,{icon:"tabler-check",size:"26"})]),_:1}),o("div",pa,[l[41]||(l[41]=o("div",{class:"text-body-2 text-disabled"}," Completed ",-1)),o("h4",ba,c(Ge.value),1)])]),_:1})]),_:1})]),_:1}),e(m,{cols:"12",md:"3"},{default:t(()=>[e(D,null,{default:t(()=>[e(T,{class:"d-flex align-center"},{default:t(()=>[e(I,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:t(()=>[e(y,{icon:"tabler-clock",size:"26"})]),_:1}),o("div",_a,[l[42]||(l[42]=o("div",{class:"text-body-2 text-disabled"}," In Progress ",-1)),o("h4",ya,c(Qe.value),1)])]),_:1})]),_:1})]),_:1}),e(m,{cols:"12",md:"3"},{default:t(()=>[e(D,null,{default:t(()=>[e(T,{class:"d-flex align-center"},{default:t(()=>[e(I,{size:"44",rounded:"",color:"error",variant:"tonal"},{default:t(()=>[e(y,{icon:"tabler-alert-circle",size:"26"})]),_:1}),o("div",ga,[l[43]||(l[43]=o("div",{class:"text-body-2 text-disabled"}," Due ",-1)),o("h4",Va,c(Xe.value),1)])]),_:1})]),_:1})]),_:1})]),_:1}),e(D,null,{default:t(()=>[e(oe,{class:"pb-4"},{append:t(()=>[e(x,{color:"primary","prepend-icon":"tabler-plus",onClick:l[1]||(l[1]=s=>ze.value=!0)},{default:t(()=>l[45]||(l[45]=[f(" Create Task ")])),_:1,__:[45]})]),default:t(()=>[e(ie,null,{default:t(()=>l[44]||(l[44]=[f("Tasks")])),_:1,__:[44]})]),_:1}),e(L),e(Se,{items:u.value,headers:Ot,class:"text-no-wrap","item-value":"id"},{"item.taskInfo":t(({item:s})=>[o("div",null,[o("h6",xa,c(s.title),1),o("div",ka,c(s.description),1)])]),"item.priority":t(({item:s})=>[e(M,{color:dt(s.priority),size:"small",label:"",class:"text-capitalize"},{default:t(()=>[f(c(s.priority),1)]),_:2},1032,["color"])]),"item.status":t(({item:s})=>[e(M,{color:me(s.status),size:"small",label:"",class:"text-capitalize"},{default:t(()=>[f(c(s.status),1)]),_:2},1032,["color"])]),"item.actions":t(({item:s})=>[e(x,{icon:"",variant:"text",color:"medium-emphasis",size:"small"},{default:t(()=>[e(y,{icon:"tabler-dots-vertical"}),e(Te,{activator:"parent"},{default:t(()=>[e(Ue,null,{default:t(()=>[e(F,{onClick:V=>Ft(s)},{prepend:t(()=>[e(y,{icon:"tabler-eye"})]),default:t(()=>[e(B,null,{default:t(()=>l[46]||(l[46]=[f("View")])),_:1,__:[46]})]),_:2},1032,["onClick"]),e(F,{onClick:V=>Bt(s)},{prepend:t(()=>[e(y,{icon:"tabler-edit"})]),default:t(()=>[e(B,null,{default:t(()=>l[47]||(l[47]=[f("Edit")])),_:1,__:[47]})]),_:2},1032,["onClick"]),e(F,{onClick:V=>Mt(s.id)},{prepend:t(()=>[e(y,{icon:"tabler-trash"})]),default:t(()=>[e(B,null,{default:t(()=>l[48]||(l[48]=[f("Delete")])),_:1,__:[48]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["items"])]),_:1})],64))]),_:1}),e(ue,{value:"documents"},{default:t(()=>[e(D,null,{default:t(()=>[e(oe,{class:"pb-4"},{append:t(()=>[e(x,{color:"primary","prepend-icon":"tabler-plus",disabled:b.value,onClick:l[2]||(l[2]=s=>Ee.value=!0)},{default:t(()=>l[50]||(l[50]=[f(" Add Document ")])),_:1,__:[50]},8,["disabled"])]),default:t(()=>[e(ie,null,{default:t(()=>l[49]||(l[49]=[f("Unit Documents")])),_:1,__:[49]})]),_:1}),e(T,null,{default:t(()=>[b.value?(g(),N("div",wa,[e(de,{indeterminate:"",color:"primary"}),l[51]||(l[51]=o("div",{class:"mt-3 text-body-1"}," Loading documents... ",-1))])):n.value?(g(),N("div",Da,[e(y,{icon:"tabler-alert-circle",color:"error",size:"48",class:"mb-3"}),o("div",Ca,c(n.value),1),e(x,{color:"primary",variant:"tonal",class:"mt-3",onClick:Y},{default:t(()=>l[52]||(l[52]=[f(" Retry ")])),_:1,__:[52]})])):w.value.length===0?(g(),N("div",Ua,[e(y,{icon:"tabler-folder-open",size:"48",class:"text-disabled mb-3"}),l[53]||(l[53]=o("div",{class:"text-body-1 text-disabled"}," No documents found for this unit ",-1))])):(g(),P($,{key:3},{default:t(()=>[(g(!0),N(ce,null,il(w.value,s=>(g(),P(m,{key:s.id,cols:"12",md:"6",lg:"4"},{default:t(()=>[e(D,null,{default:t(()=>[e(T,null,{default:t(()=>[o("div",Sa,[e(y,{icon:"tabler-file-text",size:"24",color:"primary",class:"me-3"}),o("div",null,[o("h6",Ta,c(s.title),1),o("p",Pa,c(s.type),1)])]),o("p",Ra,c(s.description),1),o("div",za,[o("span",Ea,c(s.fileName),1),e(M,{size:"small",color:"secondary"},{default:t(()=>[f(c(s.fileSize),1)]),_:2},1024)]),o("div",Na,[o("span",$a,c(s.uploadDate),1),e(M,{color:me(s.status),size:"small",label:"",class:"text-capitalize"},{default:t(()=>[f(c(s.status),1)]),_:2},1032,["color"])])]),_:2},1024),e(O,null,{default:t(()=>[e(x,{size:"small",variant:"text",color:"primary","prepend-icon":"tabler-download",onClick:V=>ft(s)},{default:t(()=>l[54]||(l[54]=[f(" Download ")])),_:2,__:[54]},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}))]),_:1})]),_:1})]),_:1}),e(ue,{value:"staffs"},{default:t(()=>[b.value?(g(),N("div",Aa,[e(de,{indeterminate:"",color:"primary"}),l[55]||(l[55]=o("div",{class:"mt-3 text-body-1"}," Loading staff data... ",-1))])):n.value?(g(),N("div",Ia,[e(y,{icon:"tabler-alert-circle",color:"error",size:"48",class:"mb-3"}),o("div",qa,c(n.value),1),e(x,{color:"primary",variant:"tonal",class:"mt-3",onClick:Y},{default:t(()=>l[56]||(l[56]=[f(" Retry ")])),_:1,__:[56]})])):(g(),N(ce,{key:2},[e($,{class:"mb-6"},{default:t(()=>[e(m,{cols:"12",md:"4"},{default:t(()=>[e(D,null,{default:t(()=>[e(T,{class:"d-flex align-center"},{default:t(()=>[e(I,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:t(()=>[e(y,{icon:"tabler-users",size:"26"})]),_:1}),o("div",La,[l[57]||(l[57]=o("div",{class:"text-body-2 text-disabled"}," Total Employees ",-1)),o("h4",Fa,c(Ye.value),1)])]),_:1})]),_:1})]),_:1}),e(m,{cols:"12",md:"4"},{default:t(()=>[e(D,null,{default:t(()=>[e(T,{class:"d-flex align-center"},{default:t(()=>[e(I,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:t(()=>[e(y,{icon:"tabler-user-check",size:"26"})]),_:1}),o("div",Ba,[l[58]||(l[58]=o("div",{class:"text-body-2 text-disabled"}," Working ",-1)),o("h4",Ma,c(Ze.value),1)])]),_:1})]),_:1})]),_:1}),e(m,{cols:"12",md:"4"},{default:t(()=>[e(D,null,{default:t(()=>[e(T,{class:"d-flex align-center"},{default:t(()=>[e(I,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:t(()=>[e(y,{icon:"tabler-user-minus",size:"26"})]),_:1}),o("div",ja,[l[59]||(l[59]=o("div",{class:"text-body-2 text-disabled"}," On Leave ",-1)),o("h4",ha,c(Ke.value),1)])]),_:1})]),_:1})]),_:1})]),_:1}),e(D,null,{default:t(()=>[e(oe,{class:"pb-4"},{append:t(()=>[e(x,{color:"primary","prepend-icon":"tabler-plus",onClick:l[3]||(l[3]=s=>ge.value=!0)},{default:t(()=>l[61]||(l[61]=[f(" Add Staff ")])),_:1,__:[61]})]),default:t(()=>[e(ie,null,{default:t(()=>l[60]||(l[60]=[f("Staff Members")])),_:1,__:[60]})]),_:1}),e(L),e(Se,{items:d.value,headers:[...Ht,{title:"Actions",key:"actions",sortable:!1}],class:"text-no-wrap","item-value":"id"},{"item.name":t(({item:s})=>[o("div",Oa,[e(I,{size:"34",color:"primary",variant:"tonal"},{default:t(()=>[o("span",null,c(s.name.split(" ").map(V=>V[0]).join("")),1)]),_:2},1024),o("div",null,[o("h6",Ha,c(s.name),1),o("div",Ja,c(s.email),1)])])]),"item.status":t(({item:s})=>[e(M,{color:me(s.status),size:"small",label:"",class:"text-capitalize"},{default:t(()=>[f(c(s.status),1)]),_:2},1032,["color"])]),"item.actions":t(({item:s})=>[e(x,{icon:"",variant:"text",color:"medium-emphasis",size:"small"},{default:t(()=>[e(y,{icon:"tabler-dots-vertical"}),e(Te,{activator:"parent"},{default:t(()=>[e(Ue,null,{default:t(()=>[e(F,{onClick:V=>pt(s)},{prepend:t(()=>[e(y,{icon:"tabler-eye"})]),default:t(()=>[e(B,null,{default:t(()=>l[62]||(l[62]=[f("View")])),_:1,__:[62]})]),_:2},1032,["onClick"]),e(F,{onClick:V=>bt(s)},{prepend:t(()=>[e(y,{icon:"tabler-edit"})]),default:t(()=>[e(B,null,{default:t(()=>l[63]||(l[63]=[f("Edit")])),_:1,__:[63]})]),_:2},1032,["onClick"]),e(F,{onClick:V=>_t(s.id)},{prepend:t(()=>[e(y,{icon:"tabler-trash"})]),default:t(()=>[e(B,null,{default:t(()=>l[64]||(l[64]=[f("Remove")])),_:1,__:[64]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["items","headers"])]),_:1})],64))]),_:1}),e(ue,{value:"inventory"},{default:t(()=>[b.value?(g(),N("div",Wa,[e(de,{indeterminate:"",color:"primary"}),l[65]||(l[65]=o("div",{class:"mt-3 text-body-1"}," Loading inventory data... ",-1))])):n.value?(g(),N("div",Ga,[e(y,{icon:"tabler-alert-circle",color:"error",size:"48",class:"mb-3"}),o("div",Qa,c(n.value),1),e(x,{color:"primary",variant:"tonal",class:"mt-3",onClick:Y},{default:t(()=>l[66]||(l[66]=[f(" Retry ")])),_:1,__:[66]})])):(g(),N(ce,{key:2},[e($,{class:"mb-6"},{default:t(()=>[e(m,{cols:"12",md:"3"},{default:t(()=>[e(D,null,{default:t(()=>[e(T,{class:"d-flex align-center"},{default:t(()=>[e(I,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:t(()=>[e(y,{icon:"tabler-package",size:"26"})]),_:1}),o("div",Xa,[l[67]||(l[67]=o("div",{class:"text-body-2 text-disabled"}," Total Products ",-1)),o("h4",Ya,c(et.value),1)])]),_:1})]),_:1})]),_:1}),e(m,{cols:"12",md:"3"},{default:t(()=>[e(D,null,{default:t(()=>[e(T,{class:"d-flex align-center"},{default:t(()=>[e(I,{size:"44",rounded:"",color:"info",variant:"tonal"},{default:t(()=>[e(y,{icon:"tabler-stack",size:"26"})]),_:1}),o("div",Za,[l[68]||(l[68]=o("div",{class:"text-body-2 text-disabled"}," Total Stock ",-1)),o("h4",Ka,c(tt.value),1)])]),_:1})]),_:1})]),_:1}),e(m,{cols:"12",md:"3"},{default:t(()=>[e(D,null,{default:t(()=>[e(T,{class:"d-flex align-center"},{default:t(()=>[e(I,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:t(()=>[e(y,{icon:"tabler-alert-triangle",size:"26"})]),_:1}),o("div",es,[l[69]||(l[69]=o("div",{class:"text-body-2 text-disabled"}," Low Stock ",-1)),o("h4",ts,c(lt.value),1)])]),_:1})]),_:1})]),_:1}),e(m,{cols:"12",md:"3"},{default:t(()=>[e(D,null,{default:t(()=>[e(T,{class:"d-flex align-center"},{default:t(()=>[e(I,{size:"44",rounded:"",color:"error",variant:"tonal"},{default:t(()=>[e(y,{icon:"tabler-x",size:"26"})]),_:1}),o("div",ls,[l[70]||(l[70]=o("div",{class:"text-body-2 text-disabled"}," Out of Stock ",-1)),o("h4",as,c(at.value),1)])]),_:1})]),_:1})]),_:1})]),_:1}),e(D,null,{default:t(()=>[e(oe,{class:"pb-4"},{append:t(()=>[e(x,{color:"primary","prepend-icon":"tabler-plus",onClick:zt},{default:t(()=>l[73]||(l[73]=[f(" Add to Inventory ")])),_:1,__:[73]})]),default:t(()=>[e(ie,null,{default:t(()=>l[71]||(l[71]=[f("Inventory")])),_:1,__:[71]}),e(tl,null,{default:t(()=>l[72]||(l[72]=[f("Manage stock levels for franchise products")])),_:1,__:[72]})]),_:1}),e(L),e(Se,{items:z.value,headers:[...Jt,{title:"Actions",key:"actions",sortable:!1}],class:"text-no-wrap","item-value":"id"},{"item.unitPrice":t(({item:s})=>[o("div",ss,c(fe(pe)(s.unitPrice)),1)]),"item.stock":t(({item:s})=>[e(M,{color:s.stock===0?"error":s.stock<=10?"warning":"success",size:"small",label:""},{default:t(()=>[f(c(s.stock),1)]),_:2},1032,["color"])]),"item.status":t(({item:s})=>[e(M,{color:me(s.status),size:"small",label:"",class:"text-capitalize"},{default:t(()=>[f(c(s.status),1)]),_:2},1032,["color"])]),"item.actions":t(({item:s})=>[e(x,{icon:"",variant:"text",color:"medium-emphasis",size:"small"},{default:t(()=>[e(y,{icon:"tabler-dots-vertical"}),e(Te,{activator:"parent"},{default:t(()=>[e(Ue,null,{default:t(()=>[e(F,{onClick:V=>kt(s)},{prepend:t(()=>[e(y,{icon:"tabler-eye"})]),default:t(()=>[e(B,null,{default:t(()=>l[74]||(l[74]=[f("View")])),_:1,__:[74]})]),_:2},1032,["onClick"]),e(F,{onClick:V=>wt(s)},{prepend:t(()=>[e(y,{icon:"tabler-edit"})]),default:t(()=>[e(B,null,{default:t(()=>l[75]||(l[75]=[f("Edit")])),_:1,__:[75]})]),_:2},1032,["onClick"]),e(F,{onClick:V=>Dt(s.id)},{prepend:t(()=>[e(y,{icon:"tabler-trash"})]),default:t(()=>[e(B,null,{default:t(()=>l[76]||(l[76]=[f("Remove from Inventory")])),_:1,__:[76]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["items","headers"])]),_:1})],64))]),_:1}),e(ue,{value:"reviews"},{default:t(()=>[b.value?(g(),N("div",os,[e(de,{indeterminate:"",color:"primary"}),l[77]||(l[77]=o("div",{class:"mt-3 text-body-1"}," Loading reviews data... ",-1))])):n.value?(g(),N("div",is,[e(y,{icon:"tabler-alert-circle",color:"error",size:"48",class:"mb-3"}),o("div",ds,c(n.value),1),e(x,{color:"primary",variant:"tonal",class:"mt-3",onClick:Y},{default:t(()=>l[78]||(l[78]=[f(" Retry ")])),_:1,__:[78]})])):(g(),N(ce,{key:2},[e($,{class:"mb-6"},{default:t(()=>[e(m,{cols:"12",md:"4"},{default:t(()=>[e(D,null,{default:t(()=>[e(T,{class:"d-flex align-center"},{default:t(()=>[e(I,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:t(()=>[e(y,{icon:"tabler-star",size:"26"})]),_:1}),o("div",ns,[l[79]||(l[79]=o("div",{class:"text-body-2 text-disabled"}," Average Rating ",-1)),o("h4",us,c(st.value),1)])]),_:1})]),_:1})]),_:1}),e(m,{cols:"12",md:"4"},{default:t(()=>[e(D,null,{default:t(()=>[e(T,{class:"d-flex align-center"},{default:t(()=>[e(I,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:t(()=>[e(y,{icon:"tabler-thumb-up",size:"26"})]),_:1}),o("div",rs,[l[80]||(l[80]=o("div",{class:"text-body-2 text-disabled"}," Positive Reviews ",-1)),o("h4",ms,c(ot.value),1)])]),_:1})]),_:1})]),_:1}),e(m,{cols:"12",md:"4"},{default:t(()=>[e(D,null,{default:t(()=>[e(T,{class:"d-flex align-center"},{default:t(()=>[e(I,{size:"44",rounded:"",color:"error",variant:"tonal"},{default:t(()=>[e(y,{icon:"tabler-thumb-down",size:"26"})]),_:1}),o("div",vs,[l[81]||(l[81]=o("div",{class:"text-body-2 text-disabled"}," Negative Reviews ",-1)),o("h4",cs,c(it.value),1)])]),_:1})]),_:1})]),_:1})]),_:1}),e(D,null,{default:t(()=>[e(oe,{class:"pb-4"},{append:t(()=>[e(x,{color:"primary","prepend-icon":"tabler-plus",onClick:l[4]||(l[4]=s=>xe.value=!0)},{default:t(()=>l[83]||(l[83]=[f(" Add Review ")])),_:1,__:[83]})]),default:t(()=>[e(ie,null,{default:t(()=>l[82]||(l[82]=[f("Customer Reviews")])),_:1,__:[82]})]),_:1}),e(L),e(Se,{items:v.value,headers:[...Wt,{title:"Actions",key:"actions",sortable:!1}],class:"text-no-wrap","item-value":"id"},{"item.rating":t(({item:s})=>[o("div",fs,[e(Pe,{"model-value":s.rating,readonly:"",size:"small",color:"warning"},null,8,["model-value"]),o("span",ps,"("+c(s.rating)+")",1)])]),"item.comment":t(({item:s})=>[o("div",bs,c(s.comment),1)]),"item.sentiment":t(({item:s})=>[e(M,{color:s.sentiment==="positive"?"success":"error",size:"small",label:"",class:"text-capitalize"},{default:t(()=>[f(c(s.sentiment),1)]),_:2},1032,["color"])]),"item.actions":t(({item:s})=>[e(x,{icon:"",variant:"text",color:"medium-emphasis",size:"small"},{default:t(()=>[e(y,{icon:"tabler-dots-vertical"}),e(Te,{activator:"parent"},{default:t(()=>[e(Ue,null,{default:t(()=>[e(F,{onClick:V=>Et(s)},{prepend:t(()=>[e(y,{icon:"tabler-eye"})]),default:t(()=>[e(B,null,{default:t(()=>l[84]||(l[84]=[f("View")])),_:1,__:[84]})]),_:2},1032,["onClick"]),e(F,{onClick:V=>Nt(s)},{prepend:t(()=>[e(y,{icon:"tabler-edit"})]),default:t(()=>[e(B,null,{default:t(()=>l[85]||(l[85]=[f("Edit")])),_:1,__:[85]})]),_:2},1032,["onClick"]),e(F,{onClick:V=>$t(s.id)},{prepend:t(()=>[e(y,{icon:"tabler-trash"})]),default:t(()=>[e(B,null,{default:t(()=>l[86]||(l[86]=[f("Remove")])),_:1,__:[86]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["items","headers"])]),_:1})],64))]),_:1})]),_:1},8,["modelValue"]),e(Xt,{"is-dialog-visible":ze.value,"onUpdate:isDialogVisible":l[6]||(l[6]=s=>ze.value=s),onTaskCreated:mt},null,8,["is-dialog-visible"]),e(Qt,{"is-dialog-visible":Ee.value,"onUpdate:isDialogVisible":l[7]||(l[7]=s=>Ee.value=s),"unit-id":a.value,mode:"unit",onDocumentAdded:vt},null,8,["is-dialog-visible","unit-id"]),Fe.value?(g(),P(Yt,{key:0,"is-dialog-visible":Le.value,"onUpdate:isDialogVisible":l[8]||(l[8]=s=>Le.value=s),document:Be.value,action:Fe.value,onDocumentActionConfirmed:ct},null,8,["is-dialog-visible","document","action"])):J("",!0),e(Zt,{"is-dialog-visible":Ne.value,"onUpdate:isDialogVisible":l[9]||(l[9]=s=>Ne.value=s),task:re.value},null,8,["is-dialog-visible","task"]),e(Kt,{"is-dialog-visible":ke.value,"onUpdate:isDialogVisible":l[10]||(l[10]=s=>ke.value=s),task:re.value,"user-options":[],"users-loading":!1,onTaskUpdated:jt},null,8,["is-dialog-visible","task"]),e(el,{"is-dialog-visible":Z.value,"onUpdate:isDialogVisible":l[11]||(l[11]=s=>Z.value=s),"task-id":$e.value,onTaskDeleted:ht},null,8,["is-dialog-visible","task-id"]),e(Fl,{"is-dialog-visible":ye.value,"onUpdate:isDialogVisible":l[12]||(l[12]=s=>ye.value=s),"unit-data":r.value,onUnitUpdated:rt},null,8,["is-dialog-visible","unit-data"]),e(Ll,{"is-dialog-visible":ge.value,"onUpdate:isDialogVisible":l[13]||(l[13]=s=>ge.value=s),onStaffAdded:xt},null,8,["is-dialog-visible"]),e(Rl,{"is-dialog-visible":Ae.value,"onUpdate:isDialogVisible":l[14]||(l[14]=s=>Ae.value=s),"selected-staff":le.value},null,8,["is-dialog-visible","selected-staff"]),e(ql,{"is-dialog-visible":we.value,"onUpdate:isDialogVisible":l[15]||(l[15]=s=>we.value=s),"selected-staff":le.value,onStaffUpdated:gt},null,8,["is-dialog-visible","selected-staff"]),e(Hl,{"is-dialog-visible":Ve.value,"onUpdate:isDialogVisible":l[16]||(l[16]=s=>Ve.value=s),"available-franchise-products":j.value,onProductAdded:Pt},null,8,["is-dialog-visible","available-franchise-products"]),e(zl,{"is-dialog-visible":xe.value,"onUpdate:isDialogVisible":l[17]||(l[17]=s=>xe.value=s),onReviewAdded:Lt},null,8,["is-dialog-visible"]),e(wl,{"is-dialog-visible":Ie.value,"onUpdate:isDialogVisible":l[18]||(l[18]=s=>Ie.value=s),"selected-product":ae.value},null,8,["is-dialog-visible","selected-product"]),e(Il,{"is-dialog-visible":De.value,"onUpdate:isDialogVisible":l[19]||(l[19]=s=>De.value=s),"selected-product":ae.value,onProductUpdated:Ut},null,8,["is-dialog-visible","selected-product"]),e(yl,{"is-dialog-visible":qe.value,"onUpdate:isDialogVisible":l[20]||(l[20]=s=>qe.value=s),"selected-review":se.value},null,8,["is-dialog-visible","selected-review"]),e(El,{"is-dialog-visible":Ce.value,"onUpdate:isDialogVisible":l[21]||(l[21]=s=>Ce.value=s),"selected-review":se.value,onReviewUpdated:It},null,8,["is-dialog-visible","selected-review"])]))}});export{oo as default};
