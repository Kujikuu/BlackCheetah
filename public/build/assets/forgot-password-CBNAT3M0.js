import{_ as R}from"./AppTextField.vue_vue_type_script_setup_true_lang-C488kBmF.js";import{d as S,bb as L,g as i,aQ as N,c as A,o as f,l as r,y as e,aR as y,i as s,k as t,G as h,t as _,b7 as E,a as b,h as k,q as v,a7 as F,av as P,s as j}from"./main-BhQQEtPK.js";import{a as I,b as q}from"./auth-v1-top-shape-gPxasD3d.js";import{V as g}from"./VNodeRenderer-Bfu6bGHl.js";import{a as z}from"./auth-BlL3HDud.js";import{a as D,d as H,f as w,V as U}from"./VCard-Ba8KRL8r.js";import{V as G}from"./VForm-jdZ3ETEx.js";import{V as Q,a as m}from"./VRow-eXEJlD_Q.js";import{V as x}from"./VAlert-ms9A9st5.js";import"./form-xX7HsKo6.js";import"./VTextField-DZpI-VzR.js";import"./VField-ov2Ztti3.js";import"./VInput-DG2UyoyO.js";const $={class:"auth-wrapper d-flex align-center justify-center pa-4"},J={class:"position-relative my-sm-16"},K={class:"app-logo"},O={class:"app-logo-title"},de=S({__name:"forgot-password",setup(W){const{smAndUp:C}=L(),n=i({email:""}),u=i(!1),d=i(null),o=i(null),p=i(null),B=async()=>{var c;if(!n.value.email){o.value="Please enter your email address.";return}u.value=!0,d.value=null,o.value=null,p.value=null;try{const a=await z.forgotPassword({email:n.value.email});a.success&&(d.value=a.message||"If that email address exists in our system, we have sent a password reset link to it.",n.value.email="")}catch(a){const l=(a==null?void 0:a.data)||((c=a==null?void 0:a.response)==null?void 0:c._data)||null;l!=null&&l.errors?(p.value={email:l.errors.email},o.value=l.message):o.value=(l==null?void 0:l.message)||"Failed to request password reset. Please try again."}finally{u.value=!1}};return(c,a)=>{const l=N("RouterLink"),T=R;return f(),A("div",$,[r("div",J,[e(s(g),{nodes:y("div",{innerHTML:s(I)}),class:"text-primary auth-v1-top-shape d-none d-sm-block"},null,8,["nodes"]),e(s(g),{nodes:y("div",{innerHTML:s(q)}),class:"text-primary auth-v1-bottom-shape d-none d-sm-block"},null,8,["nodes"]),e(U,{class:j(["auth-card",s(C)?"pa-6":"pa-0"]),"max-width":"600"},{default:t(()=>[e(D,{class:"justify-center"},{default:t(()=>[e(H,null,{default:t(()=>[e(l,{to:"/"},{default:t(()=>[r("div",K,[e(s(g),{nodes:s(h).app.logo},null,8,["nodes"]),r("h1",O,_(s(h).app.title),1)])]),_:1})]),_:1})]),_:1}),e(w,null,{default:t(()=>a[1]||(a[1]=[r("h4",{class:"text-h4 mb-1"}," Forgot Password? ðŸ”’ ",-1),r("p",{class:"mb-0"}," Enter your email and we'll send you instructions to reset your password ",-1)])),_:1,__:[1]}),e(w,null,{default:t(()=>[e(G,{onSubmit:E(B,["prevent"])},{default:t(()=>[e(Q,null,{default:t(()=>[e(m,{cols:"12"},{default:t(()=>[s(o)?(f(),b(x,{key:0,type:"error",variant:"tonal",class:"mb-4"},{default:t(()=>[v(_(s(o)),1)]),_:1})):k("",!0),s(d)?(f(),b(x,{key:1,type:"info",variant:"tonal",class:"mb-4"},{default:t(()=>[v(_(s(d)),1)]),_:1})):k("",!0)]),_:1}),e(m,{cols:"12"},{default:t(()=>{var V;return[e(T,{modelValue:s(n).email,"onUpdate:modelValue":a[0]||(a[0]=M=>s(n).email=M),autofocus:"",label:"Email",type:"email",placeholder:"Email","error-messages":(V=s(p))==null?void 0:V.email},null,8,["modelValue","error-messages"])]}),_:1}),e(m,{cols:"12"},{default:t(()=>[e(F,{block:"",type:"submit",loading:s(u),disabled:s(u)},{default:t(()=>a[2]||(a[2]=[v(" Send Reset Link ")])),_:1,__:[2]},8,["loading","disabled"])]),_:1}),e(m,{cols:"12"},{default:t(()=>[e(l,{class:"d-flex align-center justify-center",to:{name:"login"}},{default:t(()=>[e(P,{icon:"tabler-chevron-left",size:"20",class:"me-1 flip-in-rtl"}),a[3]||(a[3]=r("span",null,"Back to login",-1))]),_:1,__:[3]})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["class"])])])}}});export{de as default};
