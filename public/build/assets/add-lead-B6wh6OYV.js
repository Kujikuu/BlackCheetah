import{_ as w}from"./AppStepper.vue_vue_type_style_index_0_lang-BUFnIm5r.js";import{_ as C,a as S}from"./BasicInfo.vue_vue_type_script_setup_true_lang-Bs2hMQHG.js";import{d as k,bb as x,g as d,e as B,a as m,o as u,k as o,y as e,s as L,i as l,aI as b,l as T,a7 as p,q as f,av as v}from"./main-5DrSmzmz.js";import{l as U}from"./lead-BFRHaNwf.js";import{V as $,a as _}from"./VRow-CVtl2tku.js";import{f as y,V as j}from"./VCard-opPv-9ln.js";import{V as A,a as I}from"./VWindowItem-TIS22OIx.js";import"./VSlideGroup-8-bpGeqw.js";import"./AppTextarea.vue_vue_type_script_setup_true_lang-ChzN34NJ.js";import"./form-18EFXHyZ.js";import"./VTextarea-D7HYXsQ7.js";import"./VTextField-DBQKsxHk.js";import"./VField-CrGemTnE.js";import"./forwardRefs-B931MWyl.js";import"./VInput-DdfrLYJv.js";import"./AppDateTimePicker.vue_vue_type_style_index_0_lang-Ck_CDzHl.js";import"./AppSelect.vue_vue_type_script_setup_true_lang-CCODswBO.js";import"./VSelect-DUfemuKo.js";import"./VList-B3tldTtO.js";import"./VDivider-D0eTowY_.js";import"./VMenu-CRPm4xEV.js";import"./VOverlay-b5ykhm0e.js";import"./scopeId-Daw7cnK3.js";import"./VCheckboxBtn-du9D0l-V.js";import"./VSelectionControl-fz2BXcHA.js";import"./VChip-DCvUjgS6.js";import"./VFileInput-C1UvkJsA.js";import"./AppTextField.vue_vue_type_script_setup_true_lang-BSvdblwX.js";import"./useSaudiProvinces-DFJEYXrZ.js";import"./api-router-Biy3fPQb.js";/* empty css              */const R={class:"d-flex flex-wrap gap-4 justify-space-between mt-6"},ba=k({__name:"add-lead",setup(z){const{mdAndUp:V}=x(),c=[{title:"Basic Information",subtitle:"Personal & Contact Details",icon:"tabler-user"},{title:"Additional Details",subtitle:"Lead Management Info",icon:"tabler-file-info"}],i=d(0),g=B(),t=d({basicInfo:{firstName:"",lastName:"",email:"",contactNumber:"",nationality:"",state:"",city:"",companyName:"",jobTitle:""},additionalDetails:{leadSource:null,leadStatus:null,leadOwner:null,lastContactedDate:"",scheduledMeetingDate:"",note:"",attachments:[]}}),n=d(!1),D=async()=>{try{n.value=!0;const r={firstName:t.value.basicInfo.firstName,lastName:t.value.basicInfo.lastName,email:t.value.basicInfo.email,phone:t.value.basicInfo.contactNumber,company:t.value.basicInfo.companyName||void 0,jobTitle:t.value.basicInfo.jobTitle||void 0,nationality:t.value.basicInfo.nationality||void 0,state:t.value.basicInfo.state||void 0,city:t.value.basicInfo.city||void 0,source:t.value.additionalDetails.leadSource||"website",status:t.value.additionalDetails.leadStatus||"new",priority:"medium",note:t.value.additionalDetails.note||void 0};(await U.createLead(r)).success&&g.push({name:"franchisor-lead-management"})}catch(r){console.error("Error adding lead:",r)}finally{n.value=!1}};return(r,a)=>{const N=w;return u(),m(j,null,{default:o(()=>[e($,{"no-gutters":""},{default:o(()=>[e(_,{cols:"12",md:"4",lg:"3",class:L(l(V)?"border-e":"border-b")},{default:o(()=>[e(y,null,{default:o(()=>[e(N,{"current-step":l(i),"onUpdate:currentStep":a[0]||(a[0]=s=>b(i)?i.value=s:null),direction:"vertical",items:c,"icon-size":"22",class:"stepper-icon-step-bg"},null,8,["current-step"])]),_:1})]),_:1},8,["class"]),e(_,{cols:"12",md:"8",lg:"9"},{default:o(()=>[e(y,null,{default:o(()=>[e(A,{modelValue:l(i),"onUpdate:modelValue":a[3]||(a[3]=s=>b(i)?i.value=s:null),class:"disable-tab-transition"},{default:o(()=>[e(I,null,{default:o(()=>[e(C,{"form-data":l(t).basicInfo,"onUpdate:formData":a[1]||(a[1]=s=>l(t).basicInfo=s)},null,8,["form-data"])]),_:1}),e(I,null,{default:o(()=>[e(S,{"form-data":l(t).additionalDetails,"onUpdate:formData":a[2]||(a[2]=s=>l(t).additionalDetails=s)},null,8,["form-data"])]),_:1})]),_:1},8,["modelValue"]),T("div",R,[e(p,{color:"secondary",variant:"tonal",disabled:l(i)===0,onClick:a[4]||(a[4]=s=>i.value--)},{default:o(()=>[e(v,{icon:"tabler-arrow-left",start:"",class:"flip-in-rtl"}),a[6]||(a[6]=f(" Previous "))]),_:1,__:[6]},8,["disabled"]),c.length-1===l(i)?(u(),m(p,{key:0,color:"success",loading:l(n),disabled:l(n),onClick:D},{default:o(()=>a[7]||(a[7]=[f(" Submit ")])),_:1,__:[7]},8,["loading","disabled"])):(u(),m(p,{key:1,onClick:a[5]||(a[5]=s=>i.value++)},{default:o(()=>[a[8]||(a[8]=f(" Next ")),e(v,{icon:"tabler-arrow-right",end:"",class:"flip-in-rtl"})]),_:1,__:[8]}))])]),_:1})]),_:1})]),_:1})]),_:1})}}});export{ba as default};
