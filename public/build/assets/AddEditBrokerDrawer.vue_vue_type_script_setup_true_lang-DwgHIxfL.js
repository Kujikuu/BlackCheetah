import{_ as w}from"./AppSelect.vue_vue_type_script_setup_true_lang-L-hkrY4H.js";import{_ as C}from"./AppTextField.vue_vue_type_script_setup_true_lang-CITBO-Sq.js";import{b as F}from"./ViewUserDialog.vue_vue_type_script_setup_true_lang-HHitnudU.js";import{d as B,g as V,w as S,a as q,o as x,k as r,y as a,b7 as A,aI as M,i,a7 as b,q as k,t as O}from"./main-BW7ujPgi.js";import{V as g}from"./VDivider-DiD0yh14.js";import{V as T,f as $}from"./VCard-Du_dUEXW.js";import{V as E}from"./VForm-BRNKvuLX.js";import{V as R,a as s}from"./VRow-DOJYQ3f-.js";import{V as P}from"./VNavigationDrawer-CpneAOtL.js";const W=B({__name:"AddEditBrokerDrawer",props:{isDrawerOpen:{type:Boolean},brokerUser:{default:void 0}},emits:["update:isDrawerOpen","brokerUserData"],setup(_,{emit:y}){const u=_,d=y,m=V(!1),n=V(),t=V({id:null,fullName:"",email:"",phone:"",city:"",status:"active",avatar:""}),U=[{title:"Active",value:"active"},{title:"Pending",value:"pending"},{title:"Inactive",value:"inactive"}],D=[{title:"Riyadh",value:"Riyadh"},{title:"Jeddah",value:"Jeddah"},{title:"Makkah",value:"Makkah"},{title:"Madinah",value:"Madinah"},{title:"Dammam",value:"Dammam"},{title:"Khobar",value:"Khobar"},{title:"Tabuk",value:"Tabuk"}],p=()=>{var l;t.value={id:null,fullName:"",email:"",phone:"",city:"",status:"active",avatar:""},(l=n.value)==null||l.reset()};S(()=>u.brokerUser,l=>{l?t.value={id:l.id,fullName:l.fullName,email:l.email,phone:l.phone,city:l.city,status:l.status,avatar:l.avatar||""}:p()},{immediate:!0});const N=()=>{var l;(l=n.value)==null||l.validate().then(({valid:e})=>{e&&(d("brokerUserData",{...t.value}),d("update:isDrawerOpen",!1),p())})},f=l=>{d("update:isDrawerOpen",l),l||p()};return(l,e)=>{const h=F,v=C,c=w;return x(),q(P,{temporary:"",location:"end","model-value":u.isDrawerOpen,width:"400","onUpdate:modelValue":f},{default:r(()=>[a(h,{title:u.brokerUser?"Edit Broker User":"Add New Broker User",onCancel:e[0]||(e[0]=o=>f(!1))},null,8,["title"]),a(g),a(T,{flat:""},{default:r(()=>[a($,null,{default:r(()=>[a(E,{ref_key:"refForm",ref:n,modelValue:i(m),"onUpdate:modelValue":e[7]||(e[7]=o=>M(m)?m.value=o:null),onSubmit:A(N,["prevent"])},{default:r(()=>[a(R,null,{default:r(()=>[a(s,{cols:"12"},{default:r(()=>[a(v,{modelValue:i(t).fullName,"onUpdate:modelValue":e[1]||(e[1]=o=>i(t).fullName=o),label:"Full Name",placeholder:"Full Name",rules:["requiredValidator"]},null,8,["modelValue"])]),_:1}),a(s,{cols:"12"},{default:r(()=>[a(v,{modelValue:i(t).email,"onUpdate:modelValue":e[2]||(e[2]=o=>i(t).email=o),label:"Email",type:"email",placeholder:"Email",rules:["requiredValidator","emailValidator"]},null,8,["modelValue"])]),_:1}),a(s,{cols:"12"},{default:r(()=>[a(v,{modelValue:i(t).phone,"onUpdate:modelValue":e[3]||(e[3]=o=>i(t).phone=o),label:"Phone",placeholder:"Phone",rules:["requiredValidator"]},null,8,["modelValue"])]),_:1}),a(s,{cols:"12"},{default:r(()=>[a(c,{modelValue:i(t).city,"onUpdate:modelValue":e[4]||(e[4]=o=>i(t).city=o),label:"City",items:D,rules:["requiredValidator"]},null,8,["modelValue"])]),_:1}),a(s,{cols:"12"},{default:r(()=>[a(c,{modelValue:i(t).status,"onUpdate:modelValue":e[5]||(e[5]=o=>i(t).status=o),label:"Status",items:U,rules:["requiredValidator"]},null,8,["modelValue"])]),_:1}),a(s,{cols:"12"},{default:r(()=>[a(b,{type:"submit",class:"me-3"},{default:r(()=>[k(O(u.brokerUser?"Update":"Submit"),1)]),_:1}),a(b,{variant:"outlined",color:"secondary",onClick:e[6]||(e[6]=o=>f(!1))},{default:r(()=>e[8]||(e[8]=[k(" Cancel ")])),_:1,__:[8]})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model-value"])}}});export{W as _};
