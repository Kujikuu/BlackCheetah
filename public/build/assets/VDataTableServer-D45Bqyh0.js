import{V as F}from"./VDivider-D0eTowY_.js";import{a as ee,c as ae,b as te,d as oe,e as se,u as le,p as re,f as ne,g as ie,h as de,i as ue,j as me,k as ge,l as V,m as w,n as B,o as ce,q as pe,r as ve}from"./VDataTable-D62Nortz.js";import{d as Pe,c as be,o as fe,y as o,l as I,t as he,i as ye,K as De,L as Se,bK as Te,O as p,aa as r,az as Ve,M as we,n as k,F as x,af as Be}from"./main-5DrSmzmz.js";import{V as M}from"./VTable-BcMnywrK.js";const Ie=(e,l)=>{const i=(e.page-1)*e.itemsPerPage+1,a=Math.min(e.page*e.itemsPerPage,l);return`Showing ${l===0?0:i} to ${a} of ${l} entries`},ke={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 px-6 py-3"},xe={class:"text-disabled mb-0"},He=Pe({__name:"TablePagination",props:{page:{},itemsPerPage:{},totalItems:{}},emits:["update:page"],setup(e,{emit:l}){const i=l,a=t=>{i("update:page",t)};return(t,n)=>(fe(),be("div",null,[o(F),I("div",ke,[I("p",xe,he(("paginationMeta"in t?t.paginationMeta:ye(Ie))({page:t.page,itemsPerPage:t.itemsPerPage},t.totalItems)),1),o(ee,{"model-value":t.page,"active-color":"primary",length:Math.ceil(t.totalItems/t.itemsPerPage),"total-visible":t.$vuetify.display.xs?1:Math.min(Math.ceil(t.totalItems/t.itemsPerPage),5),"onUpdate:modelValue":a},null,8,["model-value","length","total-visible"])])]))}}),Me=Se({itemsLength:{type:[Number,String],required:!0},...ve(),...pe(),...ce()},"VDataTableServer"),_e=De()({name:"VDataTableServer",props:Me(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,l){let{attrs:i,slots:a}=l;const{groupBy:t}=ae(e),{sortBy:n,multiSort:R,mustSort:E}=te(e),{page:u,itemsPerPage:g}=oe(e),{disableSort:G}=Te(e),H=p(()=>parseInt(e.itemsLength,10)),{columns:v,headers:_}=se(e,{groupBy:t,showSelect:r(()=>e.showSelect),showExpand:r(()=>e.showExpand)}),{items:m}=le(e,v),{toggleSort:P}=ge({sortBy:n,multiSort:R,mustSort:E,page:u}),{opened:N,isGroupOpen:C,toggleGroup:L,extractRows:$}=re({groupBy:t,sortBy:n,disableSort:G}),{pageCount:j,setItemsPerPage:O}=ne({page:u,itemsPerPage:g,itemsLength:H}),{flatItems:b}=ie(m,t,N),{isSelected:q,select:K,selectAll:z,toggleSelect:A,someSelected:U,allSelected:W}=de(e,{allItems:m,currentPage:m}),{isExpanded:J,toggleExpand:Q}=ue(e),f=p(()=>$(m.value));me({page:u,itemsPerPage:g,sortBy:n,groupBy:t,search:r(()=>e.search)}),Be("v-data-table",{toggleSort:P,sortBy:n}),Ve({VDataTableRows:{hideNoData:r(()=>e.hideNoData),noDataText:r(()=>e.noDataText),loading:r(()=>e.loading),loadingText:r(()=>e.loadingText)}});const s=p(()=>({page:u.value,itemsPerPage:g.value,sortBy:n.value,pageCount:j.value,toggleSort:P,setItemsPerPage:O,someSelected:U.value,allSelected:W.value,isSelected:q,select:K,selectAll:z,toggleSelect:A,isExpanded:J,toggleExpand:Q,isGroupOpen:C,toggleGroup:L,items:f.value.map(c=>c.raw),internalItems:f.value,groupedItems:b.value,columns:v.value,headers:_.value}));we(()=>{const c=V.filterProps(e),X=w.filterProps(e),Y=B.filterProps(e),Z=M.filterProps(e);return o(M,k({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},Z,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var d;return(d=a.top)==null?void 0:d.call(a,s.value)},default:()=>{var d,h,y,D,S,T;return a.default?a.default(s.value):o(x,null,[(d=a.colgroup)==null?void 0:d.call(a,s.value),!e.hideDefaultHeader&&o("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[o(w,X,a)]),(h=a.thead)==null?void 0:h.call(a,s.value),!e.hideDefaultBody&&o("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(y=a["body.prepend"])==null?void 0:y.call(a,s.value),a.body?a.body(s.value):o(B,k(i,Y,{items:b.value}),a),(D=a["body.append"])==null?void 0:D.call(a,s.value)]),(S=a.tbody)==null?void 0:S.call(a,s.value),(T=a.tfoot)==null?void 0:T.call(a,s.value)])},bottom:()=>a.bottom?a.bottom(s.value):!e.hideDefaultFooter&&o(x,null,[o(F,null,null),o(V,c,{prepend:a["footer.prepend"]})])})})}});export{_e as V,He as _};
