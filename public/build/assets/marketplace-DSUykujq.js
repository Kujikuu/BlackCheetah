import{d as S,a as b,o as m,k as r,y as a,q as c,t as y,l as d,i as n,a7 as X,h as R,c as F,F as M,aA as ae,g as f,w as D,E as le,aI as v,bl as re,r as W}from"./main-p_64Ajbw.js";import{m as H}from"./marketplace-C0xX18Nz.js";import{N as se,V as K,F as ne}from"./front-page-navbar-Bz5p6svG.js";import{f as Y}from"./formatters-aoHiJebZ.js";import{e as Z,d as q,f as z,g as ee,V as O}from"./VCard-C0Tw-4W6.js";import{V as te}from"./VChip-BUM4slpR.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as Q}from"./VSelect-D6w66G-Y.js";import{V as U}from"./VTextField-dDEcwhzX.js";import{V as A,a as N}from"./VRow-CqkF75pY.js";import{V as oe,a as G}from"./VTabs-Dw4MdHVw.js";import{V as ie,a as J}from"./VWindowItem-C3R8WYL7.js";import{V as ue}from"./VPagination-BTSJYuhD.js";import"./VNodeRenderer-5KdF8hCk.js";import"./useGenerateImageVariant-njXlLf-2.js";/* empty css              */import"./NavbarThemeSwitcher.vue_vue_type_script_setup_true_lang-DhtPd1gF.js";import"./VTooltip-CWo86BGD.js";import"./VOverlay-kbU4_qk-.js";import"./forwardRefs-B931MWyl.js";import"./scopeId-D-uFaV4P.js";import"./VMenu-B6Kw1s4z.js";import"./VList-8BgSZxyl.js";import"./VDivider-Bijs2L80.js";import"./VNavigationDrawer-Cp0y_VL1.js";import"./VSpacer-B-bSxhzs.js";import"./VSlideGroup-7Py50_j-.js";import"./form-BhenlLYk.js";import"./VCheckboxBtn-BFEu_OAw.js";import"./VSelectionControl-o0RER-mO.js";import"./VField-i3dJdciE.js";import"./VInput-Dn9GKPUx.js";const de={class:"text-sm mb-2"},pe={class:"d-flex justify-space-between text-sm"},me={class:"text-sm mt-2"},fe=S({__name:"franchise-card",props:{franchise:{}},setup(B){return(i,t)=>(m(),b(O,{class:"franchise-card h-100"},{default:r(()=>[a(Z,{src:i.franchise.logo||"/images/placeholder.png",height:"200",cover:""},null,8,["src"]),a(q,null,{default:r(()=>[c(y(i.franchise.brand_name),1)]),_:1}),a(z,null,{default:r(()=>{var s;return[a(te,{size:"small",color:"primary",class:"mb-2"},{default:r(()=>[c(y(i.franchise.industry),1)]),_:1}),d("p",de,y((s=i.franchise.description)==null?void 0:s.substring(0,100))+"... ",1),d("div",pe,[d("span",null,[t[0]||(t[0]=d("strong",null,"Fee:",-1)),c(" "+y(n(Y)(i.franchise.franchise_fee||0)),1)]),d("span",null,[t[1]||(t[1]=d("strong",null,"Units:",-1)),c(" "+y(i.franchise.total_units),1)])]),d("div",me,[t[2]||(t[2]=d("strong",null,"Location:",-1)),c(" "+y(i.franchise.headquarters_city)+", "+y(i.franchise.headquarters_country),1)])]}),_:1}),a(ee,null,{default:r(()=>[a(X,{color:"primary",variant:"tonal",block:"",to:{name:"marketplace-franchise-details",params:{id:i.franchise.id}}},{default:r(()=>t[3]||(t[3]=[c(" Learn More ")])),_:1,__:[3]},8,["to"])]),_:1})]),_:1}))}}),ce=j(fe,[["__scopeId","data-v-aedf476a"]]),ye={class:"text-sm mb-2"},ve={class:"d-flex justify-space-between text-sm mb-2"},be={class:"text-sm"},Ve=S({__name:"property-card",props:{property:{}},setup(B){return(i,t)=>(m(),b(O,{class:"property-card h-100"},{default:r(()=>{var s;return[a(Z,{src:((s=i.property.images)==null?void 0:s[0])||"/images/placeholder.png",height:"200",cover:""},null,8,["src"]),a(q,null,{default:r(()=>[c(y(i.property.title),1)]),_:1}),a(z,null,{default:r(()=>[a(te,{size:"small",color:"success",class:"mb-2"},{default:r(()=>[c(y(i.property.property_type),1)]),_:1}),d("p",ye,y(i.property.description.substring(0,100))+"... ",1),d("div",ve,[d("span",null,[t[0]||(t[0]=d("strong",null,"Rent:",-1)),c(" "+y(n(Y)(i.property.monthly_rent))+"/mo",1)]),d("span",null,[t[1]||(t[1]=d("strong",null,"Size:",-1)),c(" "+y(i.property.size_sqm)+" mÂ²",1)])]),d("div",be,[t[2]||(t[2]=d("strong",null,"Location:",-1)),c(" "+y(i.property.city)+", Saudi Arabia ",1)])]),_:1}),a(ee,null,{default:r(()=>[a(X,{color:"primary",variant:"tonal",block:"",to:{name:"marketplace-property-details",params:{id:i.property.id}}},{default:r(()=>t[3]||(t[3]=[c(" View Details ")])),_:1,__:[3]},8,["to"])]),_:1})]}),_:1}))}}),he=j(Ve,[["__scopeId","data-v-f651a544"]]),Fe=S({__name:"marketplace-filters",props:{activeTab:{},selectedIndustry:{},selectedPropertyType:{},selectedCountry:{},selectedCity:{},minFranchiseFee:{},maxFranchiseFee:{},minRent:{},maxRent:{}},emits:["update:selectedIndustry","update:selectedPropertyType","update:selectedCountry","update:selectedCity","update:minFranchiseFee","update:maxFranchiseFee","update:minRent","update:maxRent"],setup(B,{emit:i}){const t=i;return(s,p)=>(m(),b(O,null,{default:r(()=>[a(q,null,{default:r(()=>p[6]||(p[6]=[c("Filters")])),_:1,__:[6]}),a(z,null,{default:r(()=>[s.activeTab==="franchises"?(m(),b(Q,{key:0,"model-value":s.selectedIndustry,label:"Industry",items:[{title:"Food & Beverage",value:"food_beverage"},{title:"Retail",value:"retail"},{title:"Services",value:"services"},{title:"Healthcare",value:"healthcare"},{title:"Education",value:"education"}],clearable:"",class:"mb-4","onUpdate:modelValue":p[0]||(p[0]=o=>t("update:selectedIndustry",o))},null,8,["model-value"])):R("",!0),s.activeTab==="properties"?(m(),b(Q,{key:1,"model-value":s.selectedPropertyType,label:"Property Type",items:[{title:"Retail",value:"retail"},{title:"Office",value:"office"},{title:"Kiosk",value:"kiosk"},{title:"Food Court",value:"food_court"},{title:"Standalone",value:"standalone"}],clearable:"",class:"mb-4","onUpdate:modelValue":p[1]||(p[1]=o=>t("update:selectedPropertyType",o))},null,8,["model-value"])):R("",!0),s.activeTab==="franchises"?(m(),F(M,{key:2},[a(U,{"model-value":s.minFranchiseFee,label:"Min Franchise Fee",type:"number",clearable:"",class:"mb-4","onUpdate:modelValue":p[2]||(p[2]=o=>t("update:minFranchiseFee",o?Number(o):void 0))},null,8,["model-value"]),a(U,{"model-value":s.maxFranchiseFee,label:"Max Franchise Fee",type:"number",clearable:"",class:"mb-4","onUpdate:modelValue":p[3]||(p[3]=o=>t("update:maxFranchiseFee",o?Number(o):void 0))},null,8,["model-value"])],64)):R("",!0),s.activeTab==="properties"?(m(),F(M,{key:3},[a(U,{"model-value":s.minRent,label:"Min Monthly Rent",type:"number",clearable:"",class:"mb-4","onUpdate:modelValue":p[4]||(p[4]=o=>t("update:minRent",o?Number(o):void 0))},null,8,["model-value"]),a(U,{"model-value":s.maxRent,label:"Max Monthly Rent",type:"number",clearable:"",class:"mb-4","onUpdate:modelValue":p[5]||(p[5]=o=>t("update:maxRent",o?Number(o):void 0))},null,8,["model-value"])],64)):R("",!0)]),_:1})]),_:1}))}}),ge={class:"marketplace-page"},ke={class:"marketplace-hero"},_e={class:"text-center py-16"},xe={key:1,class:"text-center py-8"},Ce={key:1,class:"text-center py-8"},Re=S({__name:"marketplace",setup(B){const i=ae();i.skin="default";const t=f("franchises"),s=f(""),p=f(""),o=f(""),V=f(""),g=f(""),k=f(),_=f(),x=f(),C=f(),E=f([]),L=f([]),T=f(!1),h=f(1),P=f(12),w=f(0),I=async()=>{try{T.value=!0;const u={page:h.value,per_page:P.value};s.value&&(u.search=s.value),p.value&&(u.industry=p.value),o.value&&(u.country=o.value),V.value&&(u.city=V.value),k.value&&(u.min_franchise_fee=k.value),_.value&&(u.max_franchise_fee=_.value);const e=await H.getFranchises(u);e.success&&e.data&&(E.value=e.data.data,w.value=e.data.total)}catch(u){console.error("Error fetching franchises:",u)}finally{T.value=!1}},$=async()=>{try{T.value=!0;const u={page:h.value,per_page:P.value};s.value&&(u.search=s.value),g.value&&(u.property_type=g.value),o.value&&(u.country=o.value),V.value&&(u.city=V.value),x.value&&(u.min_rent=x.value),C.value&&(u.max_rent=C.value);const e=await H.getProperties(u);e.success&&e.data&&(L.value=e.data.data,w.value=e.data.total)}catch(u){console.error("Error fetching properties:",u)}finally{T.value=!1}};return D(t,u=>{h.value=1,u==="franchises"?I():$()}),D([s,p,o,V,g,k,_,x,C],()=>{h.value=1,t.value==="franchises"?I():$()}),le(()=>{I()}),(u,e)=>(m(),F("div",ge,[a(se),d("section",ke,[a(K,null,{default:r(()=>[d("div",_e,[e[13]||(e[13]=d("h1",{class:"text-h2 text-white mb-4"}," Explore Franchise Opportunities ",-1)),e[14]||(e[14]=d("p",{class:"text-h6 text-white mb-8"}," Find the perfect franchise opportunity or commercial property for your business ",-1)),a(U,{modelValue:n(s),"onUpdate:modelValue":e[0]||(e[0]=l=>v(s)?s.value=l:null),variant:"outlined",placeholder:"Search franchises or properties...","prepend-inner-icon":"tabler-search",class:"marketplace-search mx-auto",density:"comfortable",style:{"max-width":"600px"}},null,8,["modelValue"])])]),_:1})]),a(K,{class:"py-8"},{default:r(()=>[a(A,null,{default:r(()=>[a(N,{cols:"12",md:"3"},{default:r(()=>[a(Fe,{"active-tab":n(t),"selected-industry":n(p),"onUpdate:selectedIndustry":e[1]||(e[1]=l=>v(p)?p.value=l:null),"selected-property-type":n(g),"onUpdate:selectedPropertyType":e[2]||(e[2]=l=>v(g)?g.value=l:null),"selected-country":n(o),"onUpdate:selectedCountry":e[3]||(e[3]=l=>v(o)?o.value=l:null),"selected-city":n(V),"onUpdate:selectedCity":e[4]||(e[4]=l=>v(V)?V.value=l:null),"min-franchise-fee":n(k),"onUpdate:minFranchiseFee":e[5]||(e[5]=l=>v(k)?k.value=l:null),"max-franchise-fee":n(_),"onUpdate:maxFranchiseFee":e[6]||(e[6]=l=>v(_)?_.value=l:null),"min-rent":n(x),"onUpdate:minRent":e[7]||(e[7]=l=>v(x)?x.value=l:null),"max-rent":n(C),"onUpdate:maxRent":e[8]||(e[8]=l=>v(C)?C.value=l:null)},null,8,["active-tab","selected-industry","selected-property-type","selected-country","selected-city","min-franchise-fee","max-franchise-fee","min-rent","max-rent"])]),_:1}),a(N,{cols:"12",md:"9"},{default:r(()=>[a(oe,{modelValue:n(t),"onUpdate:modelValue":e[9]||(e[9]=l=>v(t)?t.value=l:null),class:"mb-6"},{default:r(()=>[a(G,{value:"franchises"},{default:r(()=>e[15]||(e[15]=[c(" Franchise Opportunities ")])),_:1,__:[15]}),a(G,{value:"properties"},{default:r(()=>e[16]||(e[16]=[c(" Available Properties ")])),_:1,__:[16]})]),_:1},8,["modelValue"]),n(T)?(m(),b(re,{key:0,indeterminate:"",color:"primary",class:"mb-4"})):R("",!0),a(ie,{modelValue:n(t),"onUpdate:modelValue":e[10]||(e[10]=l=>v(t)?t.value=l:null)},{default:r(()=>[a(J,{value:"franchises"},{default:r(()=>[n(E).length>0?(m(),b(A,{key:0},{default:r(()=>[(m(!0),F(M,null,W(n(E),l=>(m(),b(N,{key:l.id,cols:"12",sm:"6",md:"4"},{default:r(()=>[a(ce,{franchise:l},null,8,["franchise"])]),_:2},1024))),128))]),_:1})):(m(),F("div",xe,e[17]||(e[17]=[d("p",{class:"text-h6"}," No franchises found ",-1)])))]),_:1}),a(J,{value:"properties"},{default:r(()=>[n(L).length>0?(m(),b(A,{key:0},{default:r(()=>[(m(!0),F(M,null,W(n(L),l=>(m(),b(N,{key:l.id,cols:"12",sm:"6",md:"4"},{default:r(()=>[a(he,{property:l},null,8,["property"])]),_:2},1024))),128))]),_:1})):(m(),F("div",Ce,e[18]||(e[18]=[d("p",{class:"text-h6"}," No properties found ",-1)])))]),_:1})]),_:1},8,["modelValue"]),n(w)>n(P)?(m(),b(ue,{key:1,modelValue:n(h),"onUpdate:modelValue":[e[11]||(e[11]=l=>v(h)?h.value=l:null),e[12]||(e[12]=l=>n(t)==="franchises"?I():$())],length:Math.ceil(n(w)/n(P)),class:"mt-6"},null,8,["modelValue","length"])):R("",!0)]),_:1})]),_:1})]),_:1}),a(ne)]))}}),st=j(Re,[["__scopeId","data-v-b56dbd16"]]);export{st as default};
