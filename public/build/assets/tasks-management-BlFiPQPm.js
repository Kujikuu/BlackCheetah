import{_ as He,V as Ne}from"./VDialog-CglQm1es.js";import{d as Se,g as T,O as y,w as j,a as H,o as k,k as t,y as e,b5 as Ee,aI as N,i as l,a7 as B,q as p,e as Oe,E as Pe,c as L,l as o,av as b,h as be,t as _,br as _e,F as ge}from"./main-5DrSmzmz.js";import{u as ze,T as $e,P as Le,S as qe,a as Be,_ as Me}from"./EditTaskDialog.vue_vue_type_script_setup_true_lang-CQOhGu54.js";import{V as h,f as C,h as Re,b as U,a as Ve,d as ye,g as Te}from"./VCard-opPv-9ln.js";import{V as Ke}from"./VForm-T1Pv9-ZJ.js";import{V as W,a as V}from"./VRow-CVtl2tku.js";import{V as q}from"./VTextField-DBQKsxHk.js";import{V as We}from"./VTextarea-D7HYXsQ7.js";import{V as R}from"./VSelect-DUfemuKo.js";import{V as Q}from"./VDivider-D0eTowY_.js";import{V as je}from"./VSpacer-DHZyj02A.js";import{_ as Ge}from"./ViewTaskDialog.vue_vue_type_script_setup_true_lang-CSiik5Uk.js";import{_ as Ye}from"./DeleteTaskDialog.vue_vue_type_script_setup_true_lang-CTYTcDjf.js";import{t as J}from"./task-Ut3ypcME.js";import{V as xe,a as Je}from"./VTabs-vhGS7YpU.js";import{a as ke,V as Qe}from"./VWindowItem-TIS22OIx.js";import{V as De}from"./VAlert-BkXl8kTI.js";import{V as we}from"./VDataTable-D62Nortz.js";import{V as he}from"./VMenu-CRPm4xEV.js";import{V as Ce,a as O,b as P}from"./VList-B3tldTtO.js";import{V as K}from"./VChip-DCvUjgS6.js";import"./VOverlay-b5ykhm0e.js";import"./forwardRefs-B931MWyl.js";import"./scopeId-Daw7cnK3.js";import"./franchise-crsJ8h-6.js";import"./api-router-Biy3fPQb.js";import"./users-7o5RgpZs.js";import"./form-18EFXHyZ.js";/* empty css              */import"./VField-CrGemTnE.js";import"./VInput-DdfrLYJv.js";import"./VCheckboxBtn-du9D0l-V.js";import"./VSelectionControl-fz2BXcHA.js";import"./VSlideGroup-8-bpGeqw.js";import"./VTable-BcMnywrK.js";const Xe=Se({__name:"CreateTaskDialog",props:{isDialogVisible:{type:Boolean},currentTab:{},defaultAssignedTo:{},unitId:{},disableAssignedTo:{type:Boolean}},emits:["update:isDialogVisible","taskCreated"],setup(X,{emit:G}){const x=X,M=G,{getUsersForSelect:f,initializeUsers:I,loading:z}=ze(),d=T({title:"",description:"",category:"",assignedTo:"",startDate:"",dueDate:"",priority:"medium",status:"pending",estimatedHours:0,actualHours:0,completionPercentage:0}),D=T(!1),$=y(()=>{const g=x.currentTab||"franchisee";return f(g)}),m=g=>!!g||"This field is required",v=g=>{M("update:isDialogVisible",g)},A=()=>{d.value={title:"",description:"",category:"",assignedTo:"",startDate:"",dueDate:"",priority:"medium",status:"pending",estimatedHours:0,actualHours:0,completionPercentage:0}},E=()=>{if(D.value){const g={id:Date.now(),...d.value};M("taskCreated",g),A(),v(!1)}},F=()=>{A(),v(!1)};return j(()=>x.isDialogVisible,async g=>{if(g){const n=x.currentTab||"franchisee";await I(n),x.defaultAssignedTo&&(d.value.assignedTo=x.defaultAssignedTo)}else A()}),j(()=>x.currentTab,async g=>{x.isDialogVisible&&g&&(await I(g),d.value.assignedTo="")}),(g,n)=>{const Y=He;return k(),H(Ne,{"model-value":x.isDialogVisible,"max-width":"600",persistent:"","onUpdate:modelValue":v},{default:t(()=>[e(Y,{onClick:n[0]||(n[0]=c=>v(!1))}),e(h,{title:"Create New Task"},{default:t(()=>[e(C,{class:"pa-6"},{default:t(()=>[e(Ke,{modelValue:l(D),"onUpdate:modelValue":n[11]||(n[11]=c=>N(D)?D.value=c:null),onSubmit:Ee(E,["prevent"])},{default:t(()=>[e(W,null,{default:t(()=>[e(V,{cols:"12"},{default:t(()=>[e(q,{modelValue:l(d).title,"onUpdate:modelValue":n[1]||(n[1]=c=>l(d).title=c),label:"Task Title",placeholder:"Enter task title",rules:[m],required:""},null,8,["modelValue","rules"])]),_:1}),e(V,{cols:"12"},{default:t(()=>[e(We,{modelValue:l(d).description,"onUpdate:modelValue":n[2]||(n[2]=c=>l(d).description=c),label:"Description",placeholder:"Enter task description",rows:"3",rules:[m],required:""},null,8,["modelValue","rules"])]),_:1}),e(V,{cols:"12",md:"6"},{default:t(()=>[e(R,{modelValue:l(d).category,"onUpdate:modelValue":n[3]||(n[3]=c=>l(d).category=c),label:"Category",placeholder:"Select category",items:l($e),rules:[m],required:""},null,8,["modelValue","items","rules"])]),_:1}),e(V,{cols:"12",md:"6"},{default:t(()=>[e(R,{modelValue:l(d).assignedTo,"onUpdate:modelValue":n[4]||(n[4]=c=>l(d).assignedTo=c),label:"Assigned To",placeholder:"Select user",items:l($),loading:l(z),rules:[m],"item-title":"title","item-value":"value",disabled:x.disableAssignedTo,required:""},null,8,["modelValue","items","loading","rules","disabled"])]),_:1}),e(V,{cols:"12",md:"6"},{default:t(()=>[e(q,{modelValue:l(d).startDate,"onUpdate:modelValue":n[5]||(n[5]=c=>l(d).startDate=c),label:"Start Date",type:"date",rules:[m],required:""},null,8,["modelValue","rules"])]),_:1}),e(V,{cols:"12",md:"6"},{default:t(()=>[e(q,{modelValue:l(d).dueDate,"onUpdate:modelValue":n[6]||(n[6]=c=>l(d).dueDate=c),label:"Due Date",type:"date",rules:[m],required:""},null,8,["modelValue","rules"])]),_:1}),e(V,{cols:"12",md:"6"},{default:t(()=>[e(R,{modelValue:l(d).priority,"onUpdate:modelValue":n[7]||(n[7]=c=>l(d).priority=c),label:"Priority",placeholder:"Select priority",items:l(Le),rules:[m],required:""},null,8,["modelValue","items","rules"])]),_:1}),e(V,{cols:"12",md:"6"},{default:t(()=>[e(R,{modelValue:l(d).status,"onUpdate:modelValue":n[8]||(n[8]=c=>l(d).status=c),label:"Status",placeholder:"Select status",items:l(qe),rules:[m],required:""},null,8,["modelValue","items","rules"])]),_:1}),e(V,{cols:"12",md:"6"},{default:t(()=>[e(q,{modelValue:l(d).estimatedHours,"onUpdate:modelValue":n[9]||(n[9]=c=>l(d).estimatedHours=c),label:"Estimated Hours",type:"number",min:"0"},null,8,["modelValue"])]),_:1}),e(V,{cols:"12",md:"6"},{default:t(()=>[e(q,{modelValue:l(d).actualHours,"onUpdate:modelValue":n[10]||(n[10]=c=>l(d).actualHours=c),label:"Actual Hours",type:"number",min:"0"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(Q),e(Re,{class:"pa-6"},{default:t(()=>[e(je),e(B,{color:"error",variant:"text",onClick:F},{default:t(()=>n[12]||(n[12]=[p(" Cancel ")])),_:1,__:[12]}),e(B,{color:"primary",disabled:!l(D),onClick:E},{default:t(()=>n[13]||(n[13]=[p(" Create Task ")])),_:1,__:[13]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["model-value"])}}}),Ze={class:"d-flex align-center justify-space-between"},et={key:1,class:"text-center py-12"},tt={class:"ms-4"},at={class:"text-h4"},st={class:"ms-4"},lt={class:"text-h4"},it={class:"ms-4"},ot={class:"text-h4"},rt={class:"ms-4"},nt={class:"text-h4"},dt={class:"text-base font-weight-medium"},ut={class:"text-body-2 text-disabled"},mt={class:"text-body-1"},ct={class:"text-center"},ft={key:1,class:"text-center py-12"},pt={class:"ms-4"},vt={class:"text-h4"},bt={class:"ms-4"},_t={class:"text-h4"},gt={class:"ms-4"},Vt={class:"text-h4"},yt={class:"ms-4"},Tt={class:"text-h4"},xt={class:"text-base font-weight-medium"},kt={class:"text-body-2 text-disabled"},Dt={class:"text-body-1"},wt={class:"text-center"},ra=Se({__name:"tasks-management",setup(X){Oe();const{getUsersForSelect:G,initializeUsers:x,loading:M}=ze(),f=T("franchisee"),I=T(!1),z=T(!1),d=T(!1),D=T(null),$=T(null),m=T([]),v=T([]),A=T(!1),E=T(!1),F=T(null),g=T(null),n=T(!1),Y=async()=>{var i,a;A.value=!0,F.value=null;try{const s=await J.getFranchisorTasks();if(s.success&&((i=s.data)!=null&&i.data)){const u=s.data.data.filter(r=>{var S,w;return((S=r.assigned_to)==null?void 0:S.role)==="franchisee"||((w=r.assigned_to)==null?void 0:w.role)==="unit_manager"});m.value=u.map(r=>{var S,w;return{id:r.id,title:r.title,description:r.description,category:r.type||"other",assignedTo:((S=r.assigned_to)==null?void 0:S.name)||"Unassigned",unitName:((w=r.unit)==null?void 0:w.unit_name)||"N/A",startDate:r.started_at?new Date(r.started_at).toISOString().split("T")[0]:null,dueDate:r.due_date?new Date(r.due_date).toISOString().split("T")[0]:null,priority:r.priority||"medium",status:r.status||"pending",estimatedHours:r.estimated_hours||0,actualHours:r.actual_hours||0,createdAt:r.created_at,updatedAt:r.updated_at}})}else m.value=[]}catch(s){console.error("Failed to load franchisee tasks:",s),F.value=((a=s==null?void 0:s.data)==null?void 0:a.message)||"Failed to load franchisee tasks",m.value=[]}finally{A.value=!1}},c=async()=>{var i,a;E.value=!0,g.value=null;try{const s=await J.getFranchisorTasks();if(s.success&&((i=s.data)!=null&&i.data)){const u=s.data.data.filter(r=>{var w,fe,pe,ve;return["Marketing","Customer Service"].includes(r.type)||((w=r.assigned_to)==null?void 0:w.role)==="broker"||((fe=r.title)==null?void 0:fe.toLowerCase().includes("broker"))||((pe=r.title)==null?void 0:pe.toLowerCase().includes("lead"))||((ve=r.title)==null?void 0:ve.toLowerCase().includes("client"))});v.value=u.map(r=>{var S,w;return{id:r.id,title:r.title,description:r.description,category:r.type||"other",assignedTo:((S=r.assigned_to)==null?void 0:S.name)||"Unassigned",unitName:((w=r.unit)==null?void 0:w.unit_name)||"N/A",startDate:r.started_at?new Date(r.started_at).toISOString().split("T")[0]:null,dueDate:r.due_date?new Date(r.due_date).toISOString().split("T")[0]:null,priority:r.priority||"medium",status:r.status||"pending",estimatedHours:r.estimated_hours||0,actualHours:r.actual_hours||0,createdAt:r.created_at,updatedAt:r.updated_at}})}else v.value=[]}catch(s){console.error("Failed to load broker tasks:",s),g.value=((a=s==null?void 0:s.data)==null?void 0:a.message)||"Failed to load broker tasks",v.value=[]}finally{E.value=!1}},Z=y(()=>m.value.length),ee=y(()=>m.value.filter(i=>i.status==="completed").length),te=y(()=>m.value.filter(i=>i.status==="in_progress").length),ae=y(()=>{const i=new Date;return m.value.filter(a=>a.dueDate?new Date(a.dueDate)<=i&&a.status!=="completed":!1).length}),se=y(()=>v.value.length),le=y(()=>v.value.filter(i=>i.status==="completed").length),ie=y(()=>v.value.filter(i=>i.status==="in_progress").length),oe=y(()=>{const i=new Date;return v.value.filter(a=>a.dueDate?new Date(a.dueDate)<=i&&a.status!=="completed":!1).length});y(()=>f.value==="franchisee"?m.value:v.value),y(()=>f.value==="franchisee"?Z.value:se.value),y(()=>f.value==="franchisee"?ee.value:le.value),y(()=>f.value==="franchisee"?te.value:ie.value),y(()=>f.value==="franchisee"?ae.value:oe.value);const Ue=y(()=>G(f.value)),re=i=>i==="completed"?"success":i==="in_progress"?"warning":i==="pending"?"info":"secondary",ne=i=>i==="high"?"error":i==="medium"?"warning":i==="low"?"info":"secondary",Ie=async i=>{var a,s;try{const u=await J.createFranchisorTask({title:i.title,description:i.description,category:i.category,priority:i.priority,status:i.status||"pending",due_date:i.dueDate,estimated_hours:i.estimatedHours});if(u.success){const r={id:u.data.id,title:u.data.title,description:u.data.description,category:u.data.type||"other",assignedTo:((a=u.data.assigned_to)==null?void 0:a.name)||"Unassigned",unitName:((s=u.data.unit)==null?void 0:s.unit_name)||"N/A",startDate:u.data.started_at?new Date(u.data.started_at).toISOString().split("T")[0]:null,dueDate:u.data.due_date?new Date(u.data.due_date).toISOString().split("T")[0]:null,priority:u.data.priority||"medium",status:u.data.status||"pending",estimatedHours:u.data.estimated_hours||0,actualHours:u.data.actual_hours||0,createdAt:u.data.created_at,updatedAt:u.data.updated_at};f.value==="franchisee"?m.value.unshift(r):v.value.unshift(r)}else console.error("Failed to create task:",u)}catch(u){console.error("Error creating task:",u)}},de=[...Be],ue=i=>{D.value=i,I.value=!0},me=i=>{D.value={...i},z.value=!0},ce=i=>{$.value=i,d.value=!0},Ae=i=>{if(f.value==="franchisee"){const a=m.value.findIndex(s=>s.id===i.id);a!==-1&&(m.value[a]=i)}else{const a=v.value.findIndex(s=>s.id===i.id);a!==-1&&(v.value[a]=i)}z.value=!1,D.value=null},Fe=i=>{if(f.value==="franchisee"){const a=m.value.findIndex(s=>s.id===i);a!==-1&&m.value.splice(a,1)}else{const a=v.value.findIndex(s=>s.id===i);a!==-1&&v.value.splice(a,1)}d.value=!1,$.value=null};return j(f,async i=>{await x(i)}),j(z,async i=>{i&&await x(f.value)}),Pe(async()=>{Y(),c(),await x(f.value)}),(i,a)=>(k(),L("section",null,[e(W,{class:"mb-6"},{default:t(()=>[e(V,{cols:"12"},{default:t(()=>[o("div",Ze,[a[10]||(a[10]=o("div",null,[o("h2",{class:"text-h2 mb-1"}," Tasks Management "),o("p",{class:"text-body-1 text-medium-emphasis"}," Manage and track tasks across franchisees and sales teams ")],-1)),e(B,{color:"primary","prepend-icon":"tabler-plus",onClick:a[0]||(a[0]=s=>n.value=!0)},{default:t(()=>a[9]||(a[9]=[p(" Create Task ")])),_:1,__:[9]})])]),_:1})]),_:1}),e(Je,{modelValue:l(f),"onUpdate:modelValue":a[1]||(a[1]=s=>N(f)?f.value=s:null),class:"mb-6"},{default:t(()=>[e(xe,{value:"franchisee"},{default:t(()=>[e(b,{icon:"tabler-building-store",start:""}),a[11]||(a[11]=p(" Franchisee Tasks "))]),_:1,__:[11]}),e(xe,{value:"broker"},{default:t(()=>[e(b,{icon:"tabler-user-star",start:""}),a[12]||(a[12]=p(" Broker Tasks "))]),_:1,__:[12]})]),_:1},8,["modelValue"]),e(Qe,{modelValue:l(f),"onUpdate:modelValue":a[4]||(a[4]=s=>N(f)?f.value=s:null),class:"disable-tab-transition"},{default:t(()=>[e(ke,{value:"franchisee"},{default:t(()=>[l(F)?(k(),H(De,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":a[2]||(a[2]=s=>F.value=null)},{default:t(()=>[p(_(l(F)),1)]),_:1})):be("",!0),l(A)?(k(),L("div",et,[e(_e,{indeterminate:"",size:"64",class:"mb-4"}),a[13]||(a[13]=o("h3",{class:"text-h3 mb-2"}," Loading Franchisee Tasks... ",-1)),a[14]||(a[14]=o("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the task information. ",-1))])):(k(),L(ge,{key:2},[e(W,{class:"mb-6"},{default:t(()=>[e(V,{cols:"12",md:"3"},{default:t(()=>[e(h,null,{default:t(()=>[e(C,{class:"d-flex align-center"},{default:t(()=>[e(U,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:t(()=>[e(b,{icon:"tabler-checklist",size:"26"})]),_:1}),o("div",tt,[a[15]||(a[15]=o("div",{class:"text-body-2 text-disabled"}," Total Tasks ",-1)),o("h4",at,_(l(Z)),1)])]),_:1})]),_:1})]),_:1}),e(V,{cols:"12",md:"3"},{default:t(()=>[e(h,null,{default:t(()=>[e(C,{class:"d-flex align-center"},{default:t(()=>[e(U,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:t(()=>[e(b,{icon:"tabler-check",size:"26"})]),_:1}),o("div",st,[a[16]||(a[16]=o("div",{class:"text-body-2 text-disabled"}," Completed ",-1)),o("h4",lt,_(l(ee)),1)])]),_:1})]),_:1})]),_:1}),e(V,{cols:"12",md:"3"},{default:t(()=>[e(h,null,{default:t(()=>[e(C,{class:"d-flex align-center"},{default:t(()=>[e(U,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:t(()=>[e(b,{icon:"tabler-clock",size:"26"})]),_:1}),o("div",it,[a[17]||(a[17]=o("div",{class:"text-body-2 text-disabled"}," In Progress ",-1)),o("h4",ot,_(l(te)),1)])]),_:1})]),_:1})]),_:1}),e(V,{cols:"12",md:"3"},{default:t(()=>[e(h,null,{default:t(()=>[e(C,{class:"d-flex align-center"},{default:t(()=>[e(U,{size:"44",rounded:"",color:"error",variant:"tonal"},{default:t(()=>[e(b,{icon:"tabler-alert-circle",size:"26"})]),_:1}),o("div",rt,[a[18]||(a[18]=o("div",{class:"text-body-2 text-disabled"}," Due ",-1)),o("h4",nt,_(l(ae)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),e(h,null,{default:t(()=>[e(Ve,{class:"pb-4"},{default:t(()=>[e(ye,null,{default:t(()=>a[19]||(a[19]=[p("Franchisee Tasks")])),_:1,__:[19]}),e(Te,{class:"text-body-2 text-disabled"},{default:t(()=>a[20]||(a[20]=[p(" View and manage tasks assigned to your franchisees ")])),_:1,__:[20]})]),_:1}),e(Q),l(m).length>0?(k(),H(we,{key:0,items:l(m),headers:de,class:"text-no-wrap","item-value":"id"},{"item.taskInfo":t(({item:s})=>[o("div",null,[o("h6",dt,_(s.title),1),o("div",ut,_(s.description),1)])]),"item.unitName":t(({item:s})=>[o("div",mt,_(s.unitName),1)]),"item.priority":t(({item:s})=>[e(K,{color:ne(s.priority),size:"small",label:"",class:"text-capitalize"},{default:t(()=>[p(_(s.priority),1)]),_:2},1032,["color"])]),"item.status":t(({item:s})=>[e(K,{color:re(s.status),size:"small",label:"",class:"text-capitalize"},{default:t(()=>[p(_(s.status),1)]),_:2},1032,["color"])]),"item.actions":t(({item:s})=>[e(B,{icon:"",variant:"text",color:"medium-emphasis",size:"small"},{default:t(()=>[e(b,{icon:"tabler-dots-vertical"}),e(he,{activator:"parent"},{default:t(()=>[e(Ce,null,{default:t(()=>[e(O,{onClick:u=>ue(s)},{prepend:t(()=>[e(b,{icon:"tabler-eye"})]),default:t(()=>[e(P,null,{default:t(()=>a[21]||(a[21]=[p("View")])),_:1,__:[21]})]),_:2},1032,["onClick"]),e(O,{onClick:u=>me(s)},{prepend:t(()=>[e(b,{icon:"tabler-edit"})]),default:t(()=>[e(P,null,{default:t(()=>a[22]||(a[22]=[p("Edit")])),_:1,__:[22]})]),_:2},1032,["onClick"]),e(O,{onClick:u=>ce(s.id)},{prepend:t(()=>[e(b,{icon:"tabler-trash"})]),default:t(()=>[e(P,null,{default:t(()=>a[23]||(a[23]=[p("Delete")])),_:1,__:[23]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["items"])):(k(),H(C,{key:1,class:"py-8"},{default:t(()=>[o("div",ct,[e(b,{icon:"tabler-checklist",size:"64",class:"text-disabled mb-4"}),a[24]||(a[24]=o("h4",{class:"text-h4 mb-2"}," No Franchisee Tasks Found ",-1)),a[25]||(a[25]=o("p",{class:"text-body-1 text-medium-emphasis"}," There are no tasks assigned to franchisees yet. Create tasks to manage operations across your franchise network. ",-1))])]),_:1}))]),_:1})],64))]),_:1}),e(ke,{value:"broker"},{default:t(()=>[l(g)?(k(),H(De,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":a[3]||(a[3]=s=>g.value=null)},{default:t(()=>[p(_(l(g)),1)]),_:1})):be("",!0),l(E)?(k(),L("div",ft,[e(_e,{indeterminate:"",size:"64",class:"mb-4"}),a[26]||(a[26]=o("h3",{class:"text-h3 mb-2"}," Loading Sales Tasks... ",-1)),a[27]||(a[27]=o("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the sales team task information. ",-1))])):(k(),L(ge,{key:2},[e(W,{class:"mb-6"},{default:t(()=>[e(V,{cols:"12",md:"3"},{default:t(()=>[e(h,null,{default:t(()=>[e(C,{class:"d-flex align-center"},{default:t(()=>[e(U,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:t(()=>[e(b,{icon:"tabler-checklist",size:"26"})]),_:1}),o("div",pt,[a[28]||(a[28]=o("div",{class:"text-body-2 text-disabled"}," Total Tasks ",-1)),o("h4",vt,_(l(se)),1)])]),_:1})]),_:1})]),_:1}),e(V,{cols:"12",md:"3"},{default:t(()=>[e(h,null,{default:t(()=>[e(C,{class:"d-flex align-center"},{default:t(()=>[e(U,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:t(()=>[e(b,{icon:"tabler-check",size:"26"})]),_:1}),o("div",bt,[a[29]||(a[29]=o("div",{class:"text-body-2 text-disabled"}," Completed ",-1)),o("h4",_t,_(l(le)),1)])]),_:1})]),_:1})]),_:1}),e(V,{cols:"12",md:"3"},{default:t(()=>[e(h,null,{default:t(()=>[e(C,{class:"d-flex align-center"},{default:t(()=>[e(U,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:t(()=>[e(b,{icon:"tabler-clock",size:"26"})]),_:1}),o("div",gt,[a[30]||(a[30]=o("div",{class:"text-body-2 text-disabled"}," In Progress ",-1)),o("h4",Vt,_(l(ie)),1)])]),_:1})]),_:1})]),_:1}),e(V,{cols:"12",md:"3"},{default:t(()=>[e(h,null,{default:t(()=>[e(C,{class:"d-flex align-center"},{default:t(()=>[e(U,{size:"44",rounded:"",color:"error",variant:"tonal"},{default:t(()=>[e(b,{icon:"tabler-alert-circle",size:"26"})]),_:1}),o("div",yt,[a[31]||(a[31]=o("div",{class:"text-body-2 text-disabled"}," Due ",-1)),o("h4",Tt,_(l(oe)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),e(h,null,{default:t(()=>[e(Ve,{class:"pb-4"},{default:t(()=>[e(ye,null,{default:t(()=>a[32]||(a[32]=[p("Sales Team Tasks")])),_:1,__:[32]}),e(Te,{class:"text-body-2 text-disabled"},{default:t(()=>a[33]||(a[33]=[p(" View and manage tasks assigned to your sales team ")])),_:1,__:[33]})]),_:1}),e(Q),l(v).length>0?(k(),H(we,{key:0,items:l(v),headers:de,class:"text-no-wrap","item-value":"id"},{"item.taskInfo":t(({item:s})=>[o("div",null,[o("h6",xt,_(s.title),1),o("div",kt,_(s.description),1)])]),"item.unitName":t(({item:s})=>[o("div",Dt,_(s.unitName),1)]),"item.priority":t(({item:s})=>[e(K,{color:ne(s.priority),size:"small",label:"",class:"text-capitalize"},{default:t(()=>[p(_(s.priority),1)]),_:2},1032,["color"])]),"item.status":t(({item:s})=>[e(K,{color:re(s.status),size:"small",label:"",class:"text-capitalize"},{default:t(()=>[p(_(s.status),1)]),_:2},1032,["color"])]),"item.actions":t(({item:s})=>[e(B,{icon:"",variant:"text",color:"medium-emphasis",size:"small"},{default:t(()=>[e(b,{icon:"tabler-dots-vertical"}),e(he,{activator:"parent"},{default:t(()=>[e(Ce,null,{default:t(()=>[e(O,{onClick:u=>ue(s)},{prepend:t(()=>[e(b,{icon:"tabler-eye"})]),default:t(()=>[e(P,null,{default:t(()=>a[34]||(a[34]=[p("View")])),_:1,__:[34]})]),_:2},1032,["onClick"]),e(O,{onClick:u=>me(s)},{prepend:t(()=>[e(b,{icon:"tabler-edit"})]),default:t(()=>[e(P,null,{default:t(()=>a[35]||(a[35]=[p("Edit")])),_:1,__:[35]})]),_:2},1032,["onClick"]),e(O,{onClick:u=>ce(s.id)},{prepend:t(()=>[e(b,{icon:"tabler-trash"})]),default:t(()=>[e(P,null,{default:t(()=>a[36]||(a[36]=[p("Delete")])),_:1,__:[36]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["items"])):(k(),H(C,{key:1,class:"py-8"},{default:t(()=>[o("div",wt,[e(b,{icon:"tabler-user-star",size:"64",class:"text-disabled mb-4"}),a[37]||(a[37]=o("h4",{class:"text-h4 mb-2"}," No Sales Tasks Found ",-1)),a[38]||(a[38]=o("p",{class:"text-body-1 text-medium-emphasis"}," There are no tasks assigned to the sales team yet. Create tasks to track sales activities and goals. ",-1))])]),_:1}))]),_:1})],64))]),_:1})]),_:1},8,["modelValue"]),e(Xe,{"is-dialog-visible":l(n),"onUpdate:isDialogVisible":a[5]||(a[5]=s=>N(n)?n.value=s:null),"current-tab":l(f),onTaskCreated:Ie},null,8,["is-dialog-visible","current-tab"]),e(Me,{"is-dialog-visible":l(z),"onUpdate:isDialogVisible":a[6]||(a[6]=s=>N(z)?z.value=s:null),task:l(D),"user-options":l(Ue),"users-loading":l(M),onTaskUpdated:Ae},null,8,["is-dialog-visible","task","user-options","users-loading"]),e(Ye,{"is-dialog-visible":l(d),"onUpdate:isDialogVisible":a[7]||(a[7]=s=>N(d)?d.value=s:null),"task-id":l($),onTaskDeleted:Fe},null,8,["is-dialog-visible","task-id"]),e(Ge,{"is-dialog-visible":l(I),"onUpdate:isDialogVisible":a[8]||(a[8]=s=>N(I)?I.value=s:null),task:l(D)},null,8,["is-dialog-visible","task"])]))}});export{ra as default};
