import{_ as k}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-BvECCC8O.js";import{d as V,g as _,a as g,o as D,k as t,y as a,q as n,a7 as d,i as C,a_ as y}from"./main-BW7ujPgi.js";import{V as b,f as v,g as T}from"./VCard-Du_dUEXW.js";import{V as x}from"./VSpacer-VLAELZOw.js";import{V as B}from"./VDialog-CoRSGWsb.js";const L=V({__name:"DeleteTaskDialog",props:{isDialogVisible:{type:Boolean},taskId:{}},emits:["update:isDialogVisible","task-deleted"],setup(u,{emit:f}){const l=u,s=f,i=_(!1),m=async()=>{if(l.taskId!==null)try{i.value=!0;const o=await y(`/v1/franchisor/tasks/${l.taskId}`,{method:"DELETE"});o.success?s("task-deleted",l.taskId):console.error("Failed to delete task:",o)}catch(o){console.error("Error deleting task:",o)}finally{i.value=!1,s("update:isDialogVisible",!1)}},r=()=>{s("update:isDialogVisible",!1)};return(o,e)=>{const p=k;return D(),g(B,{"model-value":o.isDialogVisible,"max-width":"600","onUpdate:modelValue":e[0]||(e[0]=c=>s("update:isDialogVisible",c))},{default:t(()=>[a(p,{onClick:r}),a(b,{title:"Confirm Delete"},{default:t(()=>[a(v,null,{default:t(()=>e[1]||(e[1]=[n(" Are you sure you want to delete this task? This action cannot be undone. ")])),_:1,__:[1]}),a(T,null,{default:t(()=>[a(x),a(d,{color:"secondary",variant:"tonal",onClick:r},{default:t(()=>e[2]||(e[2]=[n(" Cancel ")])),_:1,__:[2]}),a(d,{color:"error",loading:C(i),onClick:m},{default:t(()=>e[3]||(e[3]=[n(" Delete ")])),_:1,__:[3]},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model-value"])}}});export{L as _};
