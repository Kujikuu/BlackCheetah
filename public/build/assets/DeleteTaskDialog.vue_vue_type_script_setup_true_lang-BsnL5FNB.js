import{_ as k,V}from"./VDialog-BzrmTsGT.js";import{d as _,g,a as D,o as C,k as o,y as a,q as n,a7 as d,i as y,a_ as b}from"./main-BhQQEtPK.js";import{V as v,f as T,g as x}from"./VCard-Ba8KRL8r.js";import{V as B}from"./VSpacer-WCr5FxLL.js";const A=_({__name:"DeleteTaskDialog",props:{isDialogVisible:{type:Boolean},taskId:{}},emits:["update:isDialogVisible","task-deleted"],setup(u,{emit:f}){const l=u,s=f,i=g(!1),c=async()=>{if(l.taskId!==null)try{i.value=!0;const t=await b(`/v1/franchisor/tasks/${l.taskId}`,{method:"DELETE"});t.success?s("task-deleted",l.taskId):console.error("Failed to delete task:",t)}catch(t){console.error("Error deleting task:",t)}finally{i.value=!1,s("update:isDialogVisible",!1)}},r=()=>{s("update:isDialogVisible",!1)};return(t,e)=>{const m=k;return C(),D(V,{"model-value":t.isDialogVisible,"max-width":"600","onUpdate:modelValue":e[0]||(e[0]=p=>s("update:isDialogVisible",p))},{default:o(()=>[a(m,{onClick:r}),a(v,{title:"Confirm Delete"},{default:o(()=>[a(T,null,{default:o(()=>e[1]||(e[1]=[n(" Are you sure you want to delete this task? This action cannot be undone. ")])),_:1,__:[1]}),a(x,null,{default:o(()=>[a(B),a(d,{color:"secondary",variant:"tonal",onClick:r},{default:o(()=>e[2]||(e[2]=[n(" Cancel ")])),_:1,__:[2]}),a(d,{color:"error",loading:y(i),onClick:c},{default:o(()=>e[3]||(e[3]=[n(" Delete ")])),_:1,__:[3]},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model-value"])}}});export{A as _};
