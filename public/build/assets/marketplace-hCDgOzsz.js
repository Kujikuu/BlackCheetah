import{d as L,a as V,o as d,k as s,y as l,i as n,q as c,t as y,l as p,a7 as Z,O as D,h as R,c as g,F as A,aA as re,g as f,w as K,E as se,aI as v,bl as oe,r as H}from"./main-BW7ujPgi.js";import{m as J}from"./marketplace-BkSSOZ_q.js";import{N as ne,V as Q,F as ie}from"./front-page-navbar-DEvgLuWb.js";import{f as ee}from"./formatters-aoHiJebZ.js";import{s as ue}from"./sidebar-pic-1-DHiKuvcc.js";import{e as te,d as q,f as z,g as ae,V as j}from"./VCard-Du_dUEXW.js";import{V as le}from"./VChip-Ca2pKUug.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{p as M}from"./placholder-dqqvaU69.js";import{V as G}from"./VSelect-BQyjcUCB.js";import{V as U}from"./VTextField-Br1BPWXu.js";import{V as $,a as S}from"./VRow-DOJYQ3f-.js";import{V as pe,a as X}from"./VTabs-BNG3Tjzv.js";import{V as de,a as Y}from"./VWindowItem-CJljm8QK.js";import{V as me}from"./VPagination-N4YDO54B.js";import"./VNodeRenderer-CkAOWHkf.js";import"./useGenerateImageVariant-Doc1-qg8.js";import"./NavbarThemeSwitcher.vue_vue_type_script_setup_true_lang-BIcpZhjm.js";import"./VTooltip-WZuU2L6r.js";import"./VMenu-D6xrVprv.js";import"./VList-Br0R7qP9.js";import"./VDivider-DiD0yh14.js";import"./VNavigationDrawer-CpneAOtL.js";import"./VSpacer-VLAELZOw.js";import"./VSlideGroup-Dd0a3dCz.js";import"./form-x0YzGAFX.js";import"./VCheckboxBtn-DILMF5fr.js";import"./VSelectionControl-DxRLKyI6.js";import"./VField-Bajrcpo6.js";import"./VInput-CyTVKGU1.js";const fe={class:"text-sm mb-2"},ce={class:"d-flex justify-space-between text-sm"},ye={class:"text-sm mt-2"},ve=L({__name:"franchise-card",props:{franchise:{}},setup(P){return(m,o)=>(d(),V(j,{class:"franchise-card h-100"},{default:s(()=>[l(te,{src:m.franchise.logo||n(ue),height:200,contain:""},null,8,["src"]),l(q,null,{default:s(()=>[c(y(m.franchise.brand_name),1)]),_:1}),l(z,null,{default:s(()=>{var i;return[l(le,{size:"small",color:"primary",class:"mb-2"},{default:s(()=>[c(y(m.franchise.industry),1)]),_:1}),p("p",fe,y((i=m.franchise.description)==null?void 0:i.substring(0,100))+"... ",1),p("div",ce,[p("span",null,[o[0]||(o[0]=p("strong",null,"Fee:",-1)),c(" "+y(n(ee)(m.franchise.franchise_fee||0)),1)]),p("span",null,[o[1]||(o[1]=p("strong",null,"Units:",-1)),c(" "+y(m.franchise.total_units),1)])]),p("div",ye,[o[2]||(o[2]=p("strong",null,"Location:",-1)),c(" "+y(m.franchise.headquarters_city)+", "+y(m.franchise.headquarters_country),1)])]}),_:1}),l(ae,null,{default:s(()=>[l(Z,{color:"primary",variant:"tonal",block:"",to:{name:"marketplace-franchise-details",params:{id:m.franchise.id}}},{default:s(()=>o[3]||(o[3]=[c(" Learn More ")])),_:1,__:[3]},8,["to"])]),_:1})]),_:1}))}}),be=W(ve,[["__scopeId","data-v-23a958ca"]]),Ve={class:"text-sm mb-2"},he={class:"d-flex justify-space-between text-sm mb-2"},ge={class:"text-sm"},Fe=L({__name:"property-card",props:{property:{}},setup(P){const m=P,o=D(()=>{const t=m.property.property_type;return t?{retail:"Retail",office:"Office",kiosk:"Kiosk",food_court:"Food Court",standalone:"Standalone"}[t.toLowerCase()]||t.split("_").map(b=>b.charAt(0).toUpperCase()+b.slice(1).toLowerCase()).join(" "):""}),i=D(()=>{if(!m.property.images)return M;let t=m.property.images;if(typeof t=="string")try{t=JSON.parse(t)}catch{return M}if(!Array.isArray(t)||t.length===0)return M;const a=t[0];return a&&typeof a=="string"&&a.trim()!==""&&!a.startsWith("[")?a:M});return(t,a)=>(d(),V(j,{class:"property-card h-100"},{default:s(()=>[l(te,{src:n(i),height:200,cover:""},null,8,["src"]),l(q,null,{default:s(()=>[c(y(t.property.title),1)]),_:1}),l(z,null,{default:s(()=>[l(le,{size:"small",color:"success",class:"mb-2"},{default:s(()=>[c(y(n(o)),1)]),_:1}),p("p",Ve,y(t.property.description.substring(0,100))+"... ",1),p("div",he,[p("span",null,[a[0]||(a[0]=p("strong",null,"Rent:",-1)),c(" "+y(n(ee)(t.property.monthly_rent))+"/mo",1)]),p("span",null,[a[1]||(a[1]=p("strong",null,"Size:",-1)),c(" "+y(t.property.size_sqm)+" sqm",1)])]),p("div",ge,[a[2]||(a[2]=p("strong",null,"Location:",-1)),c(" "+y(t.property.city)+", "+y(t.property.state_province),1)])]),_:1}),l(ae,null,{default:s(()=>[l(Z,{color:"primary",variant:"tonal",block:"",to:{name:"marketplace-property-details",params:{id:t.property.id}}},{default:s(()=>a[3]||(a[3]=[c(" View Details ")])),_:1,__:[3]},8,["to"])]),_:1})]),_:1}))}}),ke=W(Fe,[["__scopeId","data-v-a1bd0fd2"]]),_e=L({__name:"marketplace-filters",props:{activeTab:{},selectedIndustry:{},selectedPropertyType:{},selectedCountry:{},selectedCity:{},minFranchiseFee:{},maxFranchiseFee:{},minRent:{},maxRent:{}},emits:["update:selectedIndustry","update:selectedPropertyType","update:selectedCountry","update:selectedCity","update:minFranchiseFee","update:maxFranchiseFee","update:minRent","update:maxRent"],setup(P,{emit:m}){const o=m;return(i,t)=>(d(),V(j,null,{default:s(()=>[l(q,null,{default:s(()=>t[6]||(t[6]=[c("Filters")])),_:1,__:[6]}),l(z,null,{default:s(()=>[i.activeTab==="franchises"?(d(),V(G,{key:0,"model-value":i.selectedIndustry,label:"Industry",items:[{title:"Food & Beverage",value:"food_beverage"},{title:"Retail",value:"retail"},{title:"Services",value:"services"},{title:"Healthcare",value:"healthcare"},{title:"Education",value:"education"}],clearable:"",class:"mb-4","onUpdate:modelValue":t[0]||(t[0]=a=>o("update:selectedIndustry",a))},null,8,["model-value"])):R("",!0),i.activeTab==="properties"?(d(),V(G,{key:1,"model-value":i.selectedPropertyType,label:"Property Type",items:[{title:"Retail",value:"retail"},{title:"Office",value:"office"},{title:"Kiosk",value:"kiosk"},{title:"Food Court",value:"food_court"},{title:"Standalone",value:"standalone"}],clearable:"",class:"mb-4","onUpdate:modelValue":t[1]||(t[1]=a=>o("update:selectedPropertyType",a))},null,8,["model-value"])):R("",!0),i.activeTab==="franchises"?(d(),g(A,{key:2},[l(U,{"model-value":i.minFranchiseFee,label:"Min Franchise Fee",type:"number",clearable:"",class:"mb-4","onUpdate:modelValue":t[2]||(t[2]=a=>o("update:minFranchiseFee",a?Number(a):void 0))},null,8,["model-value"]),l(U,{"model-value":i.maxFranchiseFee,label:"Max Franchise Fee",type:"number",clearable:"",class:"mb-4","onUpdate:modelValue":t[3]||(t[3]=a=>o("update:maxFranchiseFee",a?Number(a):void 0))},null,8,["model-value"])],64)):R("",!0),i.activeTab==="properties"?(d(),g(A,{key:3},[l(U,{"model-value":i.minRent,label:"Min Monthly Rent",type:"number",clearable:"",class:"mb-4","onUpdate:modelValue":t[4]||(t[4]=a=>o("update:minRent",a?Number(a):void 0))},null,8,["model-value"]),l(U,{"model-value":i.maxRent,label:"Max Monthly Rent",type:"number",clearable:"",class:"mb-4","onUpdate:modelValue":t[5]||(t[5]=a=>o("update:maxRent",a?Number(a):void 0))},null,8,["model-value"])],64)):R("",!0)]),_:1})]),_:1}))}}),Ce={class:"marketplace-page"},xe={class:"marketplace-hero"},Re={class:"text-center py-16"},Te={key:1,class:"text-center py-8"},Ue={key:1,class:"text-center py-8"},Pe=L({__name:"marketplace",setup(P){const m=re();m.skin="default";const o=f("franchises"),i=f(""),t=f(""),a=f(""),b=f(""),F=f(""),k=f(),_=f(),C=f(),x=f(),B=f([]),E=f([]),T=f(!1),h=f(1),I=f(12),w=f(0),N=async()=>{try{T.value=!0;const u={page:h.value,per_page:I.value};i.value&&(u.search=i.value),t.value&&(u.industry=t.value),a.value&&(u.country=a.value),b.value&&(u.city=b.value),k.value&&(u.min_franchise_fee=k.value),_.value&&(u.max_franchise_fee=_.value);const e=await J.getFranchises(u);e.success&&e.data&&(B.value=e.data.data,w.value=e.data.total)}catch(u){console.error("Error fetching franchises:",u)}finally{T.value=!1}},O=async()=>{try{T.value=!0;const u={page:h.value,per_page:I.value};i.value&&(u.search=i.value),F.value&&(u.property_type=F.value),a.value&&(u.country=a.value),b.value&&(u.city=b.value),C.value&&(u.min_rent=C.value),x.value&&(u.max_rent=x.value);const e=await J.getProperties(u);e.success&&e.data&&(E.value=e.data.data,w.value=e.data.total)}catch(u){console.error("Error fetching properties:",u)}finally{T.value=!1}};return K(o,u=>{h.value=1,u==="franchises"?N():O()}),K([i,t,a,b,F,k,_,C,x],()=>{h.value=1,o.value==="franchises"?N():O()}),se(()=>{N()}),(u,e)=>(d(),g("div",Ce,[l(ne),p("section",xe,[l(Q,null,{default:s(()=>[p("div",Re,[e[13]||(e[13]=p("h1",{class:"text-h2 mb-4"}," Explore Franchise Opportunities ",-1)),e[14]||(e[14]=p("p",{class:"text-h6 mb-8"}," Find the perfect franchise opportunity or commercial property for your business ",-1)),l(U,{modelValue:n(i),"onUpdate:modelValue":e[0]||(e[0]=r=>v(i)?i.value=r:null),variant:"outlined",placeholder:"Search franchises or properties...","prepend-inner-icon":"tabler-search",class:"marketplace-search mx-auto",density:"comfortable",style:{"max-width":"600px"}},null,8,["modelValue"])])]),_:1})]),l(Q,{class:"py-8"},{default:s(()=>[l($,null,{default:s(()=>[l(S,{cols:"12",md:"3"},{default:s(()=>[l(_e,{"active-tab":n(o),"selected-industry":n(t),"onUpdate:selectedIndustry":e[1]||(e[1]=r=>v(t)?t.value=r:null),"selected-property-type":n(F),"onUpdate:selectedPropertyType":e[2]||(e[2]=r=>v(F)?F.value=r:null),"selected-country":n(a),"onUpdate:selectedCountry":e[3]||(e[3]=r=>v(a)?a.value=r:null),"selected-city":n(b),"onUpdate:selectedCity":e[4]||(e[4]=r=>v(b)?b.value=r:null),"min-franchise-fee":n(k),"onUpdate:minFranchiseFee":e[5]||(e[5]=r=>v(k)?k.value=r:null),"max-franchise-fee":n(_),"onUpdate:maxFranchiseFee":e[6]||(e[6]=r=>v(_)?_.value=r:null),"min-rent":n(C),"onUpdate:minRent":e[7]||(e[7]=r=>v(C)?C.value=r:null),"max-rent":n(x),"onUpdate:maxRent":e[8]||(e[8]=r=>v(x)?x.value=r:null)},null,8,["active-tab","selected-industry","selected-property-type","selected-country","selected-city","min-franchise-fee","max-franchise-fee","min-rent","max-rent"])]),_:1}),l(S,{cols:"12",md:"9"},{default:s(()=>[l(pe,{modelValue:n(o),"onUpdate:modelValue":e[9]||(e[9]=r=>v(o)?o.value=r:null),class:"mb-6"},{default:s(()=>[l(X,{value:"franchises"},{default:s(()=>e[15]||(e[15]=[c(" Franchise Opportunities ")])),_:1,__:[15]}),l(X,{value:"properties"},{default:s(()=>e[16]||(e[16]=[c(" Available Properties ")])),_:1,__:[16]})]),_:1},8,["modelValue"]),n(T)?(d(),V(oe,{key:0,indeterminate:"",color:"primary",class:"mb-4"})):R("",!0),l(de,{modelValue:n(o),"onUpdate:modelValue":e[10]||(e[10]=r=>v(o)?o.value=r:null)},{default:s(()=>[l(Y,{value:"franchises"},{default:s(()=>[n(B).length>0?(d(),V($,{key:0},{default:s(()=>[(d(!0),g(A,null,H(n(B),r=>(d(),V(S,{key:r.id,cols:"12",sm:"6",md:"4"},{default:s(()=>[l(be,{franchise:r},null,8,["franchise"])]),_:2},1024))),128))]),_:1})):(d(),g("div",Te,e[17]||(e[17]=[p("p",{class:"text-h6"}," No franchises found ",-1)])))]),_:1}),l(Y,{value:"properties"},{default:s(()=>[n(E).length>0?(d(),V($,{key:0},{default:s(()=>[(d(!0),g(A,null,H(n(E),r=>(d(),V(S,{key:r.id,cols:"12",sm:"6",md:"4"},{default:s(()=>[l(ke,{property:r},null,8,["property"])]),_:2},1024))),128))]),_:1})):(d(),g("div",Ue,e[18]||(e[18]=[p("p",{class:"text-h6"}," No properties found ",-1)])))]),_:1})]),_:1},8,["modelValue"]),n(w)>n(I)?(d(),V(me,{key:1,modelValue:n(h),"onUpdate:modelValue":[e[11]||(e[11]=r=>v(h)?h.value=r:null),e[12]||(e[12]=r=>n(o)==="franchises"?N():O())],length:Math.ceil(n(w)/n(I)),class:"mt-6"},null,8,["modelValue","length"])):R("",!0)]),_:1})]),_:1})]),_:1}),l(ie)]))}}),ot=W(Pe,[["__scopeId","data-v-af7dfdde"]]);export{ot as default};
