import{_ as al}from"./AddDocumentDialog.vue_vue_type_script_setup_true_lang-LULH_pc-.js";import{_ as sl,a as ol}from"./DocumentActionModal.vue_vue_type_script_setup_true_lang-Dtzm7ZKt.js";import{_ as il}from"./ViewTaskDialog.vue_vue_type_script_setup_true_lang-Bs5g2UES.js";import{_ as nl}from"./EditTaskDialog.vue_vue_type_script_setup_true_lang-DWCuMqp7.js";import{_ as rl}from"./DeleteTaskDialog.vue_vue_type_script_setup_true_lang-BHic94n8.js";import{_ as ee,V as te}from"./VDialog-KRupcDn1.js";import{V as E,f as A,g as G,b as O,a as fe,d as pe,h as dl}from"./VCard-SlzzMb5H.js";import{V as j,a as c}from"./VRow-CiO-FbWu.js";import{V as Ae}from"./VRating-1lfO7x70.js";import{V as Y}from"./VChip-bNZZiaKp.js";import{V as J}from"./VDivider-DrLnT-Ac.js";import{V as le}from"./VSpacer-Boan_0s7.js";import{d as K,O as z,a as L,o as x,k as t,y as e,h as Z,l as i,t as f,q as p,a7 as C,i as m,g,w as qe,c as F,bP as ul,bQ as ml,av as _,u as vl,E as cl,bf as be,F as ke,r as fl,aZ as pl}from"./main-C_m4DwnX.js";import{f as we}from"./formatters-aoHiJebZ.js";import{a as He,u as re}from"./useValidationRules-DgFsizhd.js";import{V as de}from"./VForm-D4l7pbSV.js";import{V as P}from"./VTextField-DqjZ8OOj.js";import{V as Ce}from"./VTextarea-CHZPsePj.js";import{b as bl,c as gl}from"./staffValidation-9bQ_T31F.js";import{V as De}from"./VSelect-Cdrlsxi4.js";import{a as Q,b as X,c as yl,V as Ie}from"./VList-CKyyLZkF.js";import{f as h}from"./franchisee-dashboard-CdKrk-Ry.js";import{V as _l}from"./VSkeletonLoader-ZemDlZtq.js";import{a as ge,V as Vl}from"./VTabs-CPS17six.js";import{a as ye,V as xl}from"./VWindowItem-kwTYrMPn.js";import{V as Ne}from"./VDataTable-Ch9w524i.js";import{V as ze}from"./VMenu-nkRY6JLl.js";import"./franchise-HjD0zH0X.js";import"./api-router-B3QnVntj.js";import"./documentValidation-C9s4mL9w.js";import"./VAlert-HZNsvzFR.js";import"./VFileInput-pjBSiYlJ.js";import"./VField-DvEiP886.js";import"./form-DYCB4Gfc.js";import"./VInput-BI41h3_F.js";import"./users-9n2TBxlQ.js";import"./tasksValidation-BgzsCgZT.js";import"./VSlideGroup-BekFRdKS.js";import"./VCheckboxBtn-q5wTK24I.js";import"./VSelectionControl-Dh4iX8GB.js";import"./VPagination-Qh7xe0gx.js";import"./VTable-BboKDnZ1.js";const kl={class:"text-body-1 font-weight-medium"},wl={class:"text-body-1 font-weight-medium"},Dl={class:"d-flex align-center gap-1"},Cl={class:"text-body-1 font-weight-medium"},Sl={class:"text-body-1 font-weight-medium"},Ul={class:"text-body-1"},Tl=K({__name:"ViewReviewDialog",props:{isDialogVisible:{type:Boolean},selectedReview:{}},emits:["update:isDialogVisible"],setup(M,{emit:B}){const S=M,N=B,w=z({get:()=>S.isDialogVisible,set:y=>N("update:isDialogVisible",y)}),k=()=>{w.value=!1};return(y,d)=>{const u=ee;return x(),L(te,{modelValue:w.value,"onUpdate:modelValue":d[0]||(d[0]=b=>w.value=b),"max-width":"600"},{default:t(()=>[e(u,{onClick:k}),e(E,{title:"Review Details"},{default:t(()=>[y.selectedReview?(x(),L(A,{key:0,class:"pa-6"},{default:t(()=>[e(j,null,{default:t(()=>[e(c,{cols:"12",md:"6"},{default:t(()=>[d[1]||(d[1]=i("div",{class:"text-body-2 text-disabled mb-1"}," Customer Name ",-1)),i("div",kl,f(y.selectedReview.customerName),1)]),_:1,__:[1]}),e(c,{cols:"12",md:"6"},{default:t(()=>[d[2]||(d[2]=i("div",{class:"text-body-2 text-disabled mb-1"}," Customer Email ",-1)),i("div",wl,f(y.selectedReview.customerEmail||"N/A"),1)]),_:1,__:[2]}),e(c,{cols:"12",md:"6"},{default:t(()=>[d[3]||(d[3]=i("div",{class:"text-body-2 text-disabled mb-1"}," Rating ",-1)),i("div",Dl,[e(Ae,{"model-value":y.selectedReview.rating,readonly:"",size:"small",density:"compact"},null,8,["model-value"]),i("span",Cl,f(y.selectedReview.rating)+"/5",1)])]),_:1,__:[3]}),e(c,{cols:"12",md:"6"},{default:t(()=>[d[4]||(d[4]=i("div",{class:"text-body-2 text-disabled mb-1"}," Date ",-1)),i("div",Sl,f(y.selectedReview.date),1)]),_:1,__:[4]}),e(c,{cols:"12",md:"6"},{default:t(()=>[d[5]||(d[5]=i("div",{class:"text-body-2 text-disabled mb-1"}," Sentiment ",-1)),e(Y,{color:y.selectedReview.sentiment==="positive"?"success":y.selectedReview.sentiment==="neutral"?"warning":"error",size:"small",label:"",class:"text-capitalize"},{default:t(()=>[p(f(y.selectedReview.sentiment),1)]),_:1},8,["color"])]),_:1,__:[5]}),e(c,{cols:"12"},{default:t(()=>[d[6]||(d[6]=i("div",{class:"text-body-2 text-disabled mb-1"}," Comment ",-1)),i("div",Ul,f(y.selectedReview.comment),1)]),_:1,__:[6]})]),_:1})]),_:1})):Z("",!0),e(J),e(G,{class:"pa-6"},{default:t(()=>[e(le),e(C,{color:"secondary",variant:"tonal",onClick:k},{default:t(()=>d[7]||(d[7]=[p(" Close ")])),_:1,__:[7]})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),El={class:"text-body-1 font-weight-medium"},Rl={class:"text-body-1 font-weight-medium"},Pl={class:"text-body-1"},$l={class:"text-body-1 font-weight-medium"},Il=K({__name:"ViewProductDialog",props:{isDialogVisible:{type:Boolean},selectedProduct:{}},emits:["update:isDialogVisible"],setup(M,{emit:B}){const S=M,N=B,w=z({get:()=>S.isDialogVisible,set:d=>N("update:isDialogVisible",d)}),k=d=>d==="active"||d==="completed"||d==="approved"||d==="working"?"success":d==="pending"||d==="in_progress"?"warning":d==="inactive"||d==="cancelled"||d==="rejected"?"error":"default",y=()=>{w.value=!1};return(d,u)=>{const b=ee;return x(),L(te,{modelValue:w.value,"onUpdate:modelValue":u[0]||(u[0]=o=>w.value=o),"max-width":"600"},{default:t(()=>[e(b,{onClick:y}),e(E,{title:"Product Details"},{default:t(()=>[d.selectedProduct?(x(),L(A,{key:0,class:"pa-6"},{default:t(()=>[e(j,null,{default:t(()=>[e(c,{cols:"12",md:"6"},{default:t(()=>[u[1]||(u[1]=i("div",{class:"text-body-2 text-disabled mb-1"}," Product Name ",-1)),i("div",El,f(d.selectedProduct.name),1)]),_:1,__:[1]}),e(c,{cols:"12",md:"6"},{default:t(()=>[u[2]||(u[2]=i("div",{class:"text-body-2 text-disabled mb-1"}," Category ",-1)),i("div",Rl,f(d.selectedProduct.category),1)]),_:1,__:[2]}),e(c,{cols:"12"},{default:t(()=>[u[3]||(u[3]=i("div",{class:"text-body-2 text-disabled mb-1"}," Description ",-1)),i("div",Pl,f(d.selectedProduct.description),1)]),_:1,__:[3]}),e(c,{cols:"12",md:"6"},{default:t(()=>[u[4]||(u[4]=i("div",{class:"text-body-2 text-disabled mb-1"}," Unit Price ",-1)),i("div",$l,f(m(we)(d.selectedProduct.unitPrice)),1)]),_:1,__:[4]}),e(c,{cols:"12",md:"6"},{default:t(()=>[u[5]||(u[5]=i("div",{class:"text-body-2 text-disabled mb-1"}," Stock ",-1)),e(Y,{color:d.selectedProduct.stock===0?"error":d.selectedProduct.stock<=10?"warning":"success",size:"small",label:""},{default:t(()=>[p(f(d.selectedProduct.stock)+" units ",1)]),_:1},8,["color"])]),_:1,__:[5]}),e(c,{cols:"12",md:"6"},{default:t(()=>[u[6]||(u[6]=i("div",{class:"text-body-2 text-disabled mb-1"}," Status ",-1)),e(Y,{color:k(d.selectedProduct.status),size:"small",label:"",class:"text-capitalize"},{default:t(()=>[p(f(d.selectedProduct.status),1)]),_:1},8,["color"])]),_:1,__:[6]})]),_:1})]),_:1})):Z("",!0),e(J),e(G,{class:"pa-6"},{default:t(()=>[e(le),e(C,{color:"secondary",variant:"tonal",onClick:y},{default:t(()=>u[7]||(u[7]=[p(" Close ")])),_:1,__:[7]})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Nl={class:"text-h4"},zl={class:"text-body-1 font-weight-medium"},Al={class:"text-body-1 font-weight-medium"},ql={class:"text-body-1 font-weight-medium"},Ll={class:"text-body-1 font-weight-medium"},Bl={class:"text-body-1 font-weight-medium"},Ml=K({__name:"ViewStaffDialog",props:{isDialogVisible:{type:Boolean},selectedStaff:{}},emits:["update:isDialogVisible"],setup(M,{emit:B}){const S=M,N=B,w=z({get:()=>S.isDialogVisible,set:d=>N("update:isDialogVisible",d)}),k=d=>d==="active"||d==="completed"||d==="approved"||d==="working"?"success":d==="pending"||d==="in_progress"?"warning":d==="inactive"||d==="cancelled"||d==="rejected"?"error":"default",y=()=>{w.value=!1};return(d,u)=>{const b=ee;return x(),L(te,{modelValue:w.value,"onUpdate:modelValue":u[0]||(u[0]=o=>w.value=o),"max-width":"600"},{default:t(()=>[e(b,{onClick:y}),e(E,{title:"Staff Details"},{default:t(()=>[d.selectedStaff?(x(),L(A,{key:0,class:"pa-6"},{default:t(()=>[e(j,null,{default:t(()=>[e(c,{cols:"12",class:"text-center pb-6"},{default:t(()=>[e(O,{size:"80",color:"primary",variant:"tonal"},{default:t(()=>[i("span",Nl,f(d.selectedStaff.name.split(" ").map(o=>o[0]).join("")),1)]),_:1})]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[u[1]||(u[1]=i("div",{class:"text-body-2 text-disabled mb-1"}," Full Name ",-1)),i("div",zl,f(d.selectedStaff.name),1)]),_:1,__:[1]}),e(c,{cols:"12",md:"6"},{default:t(()=>[u[2]||(u[2]=i("div",{class:"text-body-2 text-disabled mb-1"}," Email ",-1)),i("div",Al,f(d.selectedStaff.email),1)]),_:1,__:[2]}),e(c,{cols:"12",md:"6"},{default:t(()=>[u[3]||(u[3]=i("div",{class:"text-body-2 text-disabled mb-1"}," Job Title ",-1)),i("div",ql,f(d.selectedStaff.jobTitle),1)]),_:1,__:[3]}),e(c,{cols:"12",md:"6"},{default:t(()=>[u[4]||(u[4]=i("div",{class:"text-body-2 text-disabled mb-1"}," Shift Time ",-1)),i("div",Ll,f(d.selectedStaff.shiftTime||"N/A"),1)]),_:1,__:[4]}),e(c,{cols:"12",md:"6"},{default:t(()=>[u[5]||(u[5]=i("div",{class:"text-body-2 text-disabled mb-1"}," Shift Time ",-1)),i("div",Bl,f(d.selectedStaff.shiftTime),1)]),_:1,__:[5]}),e(c,{cols:"12",md:"6"},{default:t(()=>[u[6]||(u[6]=i("div",{class:"text-body-2 text-disabled mb-1"}," Status ",-1)),e(Y,{color:k(d.selectedStaff.status),size:"small",label:"",class:"text-capitalize"},{default:t(()=>[p(f(d.selectedStaff.status),1)]),_:1},8,["color"])]),_:1,__:[6]})]),_:1})]),_:1})):Z("",!0),e(J),e(G,{class:"pa-6"},{default:t(()=>[e(le),e(C,{color:"secondary",variant:"tonal",onClick:y},{default:t(()=>u[7]||(u[7]=[p(" Close ")])),_:1,__:[7]})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),W=He(),Fl=["positive","neutral","negative"],jl=["published","draft","archived"];function Ye(){return{customerName:[W.required("Customer name is required"),W.string("Customer name must be a string"),W.maxLength(255,"Customer name cannot exceed 255 characters")],rating:[W.required("Rating is required"),W.integer("Rating must be an integer"),W.min(1,"Rating must be at least 1"),W.max(5,"Rating must be at most 5")],comment:[W.required("Comment is required"),W.string("Comment must be a string"),W.maxLength(1e3,"Comment cannot exceed 1000 characters")],date:[W.date("Date must be a valid date")],customerEmail:[W.email("Customer email must be a valid email address"),W.maxLength(255,"Customer email cannot exceed 255 characters")],sentiment:[W.inArray(Fl,"Sentiment must be one of: positive, neutral, negative")],status:[W.inArray(jl,"Status must be one of: published, draft, archived")]}}function hl(){return Ye()}const Ol=K({__name:"AddReviewDialog",props:{isDialogVisible:{type:Boolean}},emits:["update:isDialogVisible","reviewAdded"],setup(M,{emit:B}){const S=M,N=B,w=g(),{backendErrors:k,setBackendErrors:y,clearError:d}=re(),u=Ye(),b=z({get:()=>S.isDialogVisible,set:V=>N("update:isDialogVisible",V)}),o=g({customerName:"",customerEmail:"",rating:0,comment:"",date:""}),$=async()=>{const{valid:V}=await w.value.validate();if(V)try{N("reviewAdded",{...o.value}),o.value={customerName:"",customerEmail:"",rating:0,comment:"",date:""},b.value=!1}catch(r){y(r)}},U=()=>{b.value=!1,o.value={customerName:"",customerEmail:"",rating:0,comment:"",date:""}};return(V,r)=>{const T=ee;return x(),L(te,{modelValue:b.value,"onUpdate:modelValue":r[9]||(r[9]=a=>b.value=a),"max-width":"600"},{default:t(()=>[e(T,{onClick:U}),e(E,{title:"Add Customer Review"},{default:t(()=>[e(A,{class:"pa-6"},{default:t(()=>[e(de,{ref_key:"formRef",ref:w},{default:t(()=>[e(j,null,{default:t(()=>[e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.customerName,"onUpdate:modelValue":r[0]||(r[0]=a=>o.value.customerName=a),label:"Customer Name",rules:m(u).customerName,"error-messages":m(k).customerName,onInput:r[1]||(r[1]=a=>m(d)("customerName")),required:""},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.customerEmail,"onUpdate:modelValue":r[2]||(r[2]=a=>o.value.customerEmail=a),label:"Customer Email",type:"email",rules:m(u).customerEmail,"error-messages":m(k).customerEmail,onInput:r[3]||(r[3]=a=>m(d)("customerEmail"))},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[r[10]||(r[10]=i("div",{class:"text-body-2 text-disabled mb-2"}," Rating ",-1)),e(Ae,{modelValue:o.value.rating,"onUpdate:modelValue":r[4]||(r[4]=a=>o.value.rating=a),size:"large"},null,8,["modelValue"])]),_:1,__:[10]}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.date,"onUpdate:modelValue":r[5]||(r[5]=a=>o.value.date=a),label:"Date",type:"date",rules:m(u).date,"error-messages":m(k).date,onInput:r[6]||(r[6]=a=>m(d)("date")),required:""},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12"},{default:t(()=>[e(Ce,{modelValue:o.value.comment,"onUpdate:modelValue":r[7]||(r[7]=a=>o.value.comment=a),label:"Review Comment",rows:"4",rules:m(u).comment,"error-messages":m(k).comment,onInput:r[8]||(r[8]=a=>m(d)("comment")),required:""},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1})]),_:1},512)]),_:1}),e(J),e(G,{class:"pa-6"},{default:t(()=>[e(le),e(C,{color:"secondary",variant:"tonal",onClick:U},{default:t(()=>r[11]||(r[11]=[p(" Cancel ")])),_:1,__:[11]}),e(C,{color:"primary",disabled:!o.value.customerName||!o.value.comment||!o.value.date,onClick:$},{default:t(()=>r[12]||(r[12]=[p(" Add Review ")])),_:1,__:[12]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Hl=K({__name:"EditReviewDialog",props:{isDialogVisible:{type:Boolean},selectedReview:{}},emits:["update:isDialogVisible","reviewUpdated"],setup(M,{emit:B}){const S=M,N=B,w=g(),{backendErrors:k,setBackendErrors:y,clearError:d}=re(),u=hl(),b=z({get:()=>S.isDialogVisible,set:V=>N("update:isDialogVisible",V)}),o=g(null);qe(()=>S.selectedReview,V=>{V&&(o.value={...V})},{immediate:!0});const $=async()=>{const{valid:V}=await w.value.validate();if(V)try{o.value&&(N("reviewUpdated",o.value),b.value=!1)}catch(r){y(r)}},U=()=>{b.value=!1};return(V,r)=>{const T=ee;return x(),L(te,{modelValue:b.value,"onUpdate:modelValue":r[9]||(r[9]=a=>b.value=a),"max-width":"600"},{default:t(()=>[e(T,{onClick:U}),e(E,{title:"Edit Customer Review"},{default:t(()=>[o.value?(x(),L(A,{key:0,class:"pa-6"},{default:t(()=>[e(de,{ref_key:"formRef",ref:w},{default:t(()=>[e(j,null,{default:t(()=>[e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.customerName,"onUpdate:modelValue":r[0]||(r[0]=a=>o.value.customerName=a),label:"Customer Name",rules:m(u).customerName,"error-messages":m(k).customerName,onInput:r[1]||(r[1]=a=>m(d)("customerName")),required:""},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.customerEmail,"onUpdate:modelValue":r[2]||(r[2]=a=>o.value.customerEmail=a),label:"Customer Email",type:"email",rules:m(u).customerEmail,"error-messages":m(k).customerEmail,onInput:r[3]||(r[3]=a=>m(d)("customerEmail"))},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[r[10]||(r[10]=i("div",{class:"text-body-2 text-disabled mb-2"}," Rating ",-1)),e(Ae,{modelValue:o.value.rating,"onUpdate:modelValue":r[4]||(r[4]=a=>o.value.rating=a),size:"large"},null,8,["modelValue"])]),_:1,__:[10]}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.date,"onUpdate:modelValue":r[5]||(r[5]=a=>o.value.date=a),label:"Date",type:"date",rules:m(u).date,"error-messages":m(k).date,onInput:r[6]||(r[6]=a=>m(d)("date")),required:""},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12"},{default:t(()=>[e(Ce,{modelValue:o.value.comment,"onUpdate:modelValue":r[7]||(r[7]=a=>o.value.comment=a),label:"Review Comment",rows:"4",rules:m(u).comment,"error-messages":m(k).comment,onInput:r[8]||(r[8]=a=>m(d)("comment")),required:""},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1})]),_:1},512)]),_:1})):Z("",!0),e(J),e(G,{class:"pa-6"},{default:t(()=>{var a,q,v;return[e(le),e(C,{color:"secondary",variant:"tonal",onClick:U},{default:t(()=>r[11]||(r[11]=[p(" Cancel ")])),_:1,__:[11]}),e(C,{color:"primary",disabled:!((a=o.value)!=null&&a.customerName)||!((q=o.value)!=null&&q.comment)||!((v=o.value)!=null&&v.date),onClick:$},{default:t(()=>r[12]||(r[12]=[p(" Save Changes ")])),_:1,__:[12]},8,["disabled"])]}),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),I=He(),Wl=["active","inactive","discontinued"];function Ge(){return{name:[I.required("Product name is required"),I.string(),I.maxLength(255,"Product name must not exceed 255 characters")],description:[I.string(),I.maxLength(1e3)],category:[I.required("Product category is required"),I.string(),I.maxLength(100)],unitPrice:[I.required("Unit price is required"),I.numeric("Unit price must be a valid number"),I.min(0,"Unit price must be at least 0"),I.max(999999.99)],costPrice:[I.numeric(),I.min(0),I.max(999999.99)],stock:[I.required("Stock quantity is required"),I.integer("Stock must be a whole number"),I.min(0,"Stock cannot be negative")],minimumStock:[I.integer(),I.min(0)],sku:[I.required("SKU is required"),I.string(),I.maxLength(100)],status:[I.required("Product status is required"),I.string(),I.inArray(Wl,"Status must be active, inactive, or discontinued")],weight:[I.numeric(),I.min(0)],image:[I.fileType(["jpg","jpeg","png","gif","webp"],"The file must be an image"),I.fileSize(5,"Image must not exceed 5MB")]}}function Jl(){return Ge()}const Ql={class:"text-body-2 text-disabled mb-3"},Xl={class:"font-weight-medium text-high-emphasis"},Yl={class:"text-h6"},Gl=K({__name:"EditProductDialog",props:{isDialogVisible:{type:Boolean},selectedProduct:{}},emits:["update:isDialogVisible","productUpdated"],setup(M,{emit:B}){const S=M,N=B,w=g(),{backendErrors:k,setBackendErrors:y,clearError:d}=re(),u=Jl(),b=z({get:()=>S.isDialogVisible,set:V=>N("update:isDialogVisible",V)}),o=g(null);qe(()=>S.selectedProduct,V=>{V&&(o.value={...V})},{immediate:!0});const $=async()=>{const{valid:V}=await w.value.validate();if(V)try{o.value&&(N("productUpdated",o.value),b.value=!1)}catch(r){y(r)}},U=()=>{b.value=!1};return(V,r)=>{const T=ee;return x(),L(te,{modelValue:b.value,"onUpdate:modelValue":r[2]||(r[2]=a=>b.value=a),"max-width":"600"},{default:t(()=>[e(T,{onClick:U}),e(E,{title:"Edit Product Inventory"},{default:t(()=>[o.value?(x(),L(A,{key:0,class:"pa-6"},{default:t(()=>[e(de,{ref_key:"formRef",ref:w},{default:t(()=>[e(j,null,{default:t(()=>[e(c,{cols:"12"},{default:t(()=>[i("div",Ql,[r[3]||(r[3]=p(" Product: ")),i("span",Xl,f(o.value.name),1)])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.stock,"onUpdate:modelValue":r[0]||(r[0]=a=>o.value.stock=a),modelModifiers:{number:!0},label:"Stock Quantity",type:"number",min:"0",rules:m(u).stock,"error-messages":m(k).stock,onInput:r[1]||(r[1]=a=>m(d)("stock")),required:""},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[r[4]||(r[4]=i("div",{class:"text-body-2 text-disabled mb-1"}," Unit Price ",-1)),i("div",Yl,f(m(we)(o.value.unitPrice)),1)]),_:1,__:[4]}),e(c,{cols:"12"},{default:t(()=>r[5]||(r[5]=[i("div",{class:"text-caption text-disabled"}," Note: You can only update the stock quantity. Product details like name, price, and category are managed at the franchise level. ",-1)])),_:1,__:[5]})]),_:1})]),_:1},512)]),_:1})):Z("",!0),e(J),e(G,{class:"pa-6"},{default:t(()=>{var a,q;return[e(le),e(C,{color:"secondary",variant:"tonal",onClick:U},{default:t(()=>r[6]||(r[6]=[p(" Cancel ")])),_:1,__:[6]}),e(C,{color:"primary",disabled:((a=o.value)==null?void 0:a.stock)===void 0||((q=o.value)==null?void 0:q.stock)<0,onClick:$},{default:t(()=>r[7]||(r[7]=[p(" Save Changes ")])),_:1,__:[7]},8,["disabled"])]}),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Kl=K({__name:"EditUnitStaffDialog",props:{isDialogVisible:{type:Boolean},selectedStaff:{}},emits:["update:isDialogVisible","staffUpdated"],setup(M,{emit:B}){const S=M,N=B,w=g(),{backendErrors:k,setBackendErrors:y,clearError:d}=re(),u=bl(),b=z({get:()=>S.isDialogVisible,set:T=>N("update:isDialogVisible",T)}),o=g(null);qe(()=>S.selectedStaff,T=>{T&&(o.value={...T})},{immediate:!0});const $=async()=>{const{valid:T}=await w.value.validate();if(T)try{o.value&&(N("staffUpdated",o.value),b.value=!1)}catch(a){y(a)}},U=()=>{b.value=!1},V=["working","leave","terminated","inactive"],r=[{title:"Full Time",value:"full_time"},{title:"Part Time",value:"part_time"},{title:"Contract",value:"contract"},{title:"Temporary",value:"temporary"}];return(T,a)=>{const q=ee;return x(),L(te,{modelValue:b.value,"onUpdate:modelValue":a[19]||(a[19]=v=>b.value=v),"max-width":"600"},{default:t(()=>[e(q,{onClick:U}),e(E,{title:"Edit Staff Member"},{default:t(()=>[o.value?(x(),L(A,{key:0,class:"pa-6"},{default:t(()=>[e(de,{ref_key:"formRef",ref:w},{default:t(()=>[e(j,null,{default:t(()=>[e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.name,"onUpdate:modelValue":a[0]||(a[0]=v=>o.value.name=v),label:"Full Name",rules:m(u).name,"error-messages":m(k).name,onInput:a[1]||(a[1]=v=>m(d)("name")),required:""},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.email,"onUpdate:modelValue":a[2]||(a[2]=v=>o.value.email=v),label:"Email",type:"email",rules:m(u).email,"error-messages":m(k).email,onInput:a[3]||(a[3]=v=>m(d)("email")),required:""},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.phone,"onUpdate:modelValue":a[4]||(a[4]=v=>o.value.phone=v),label:"Phone",rules:m(u).phone,"error-messages":m(k).phone,onInput:a[5]||(a[5]=v=>m(d)("phone"))},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.jobTitle,"onUpdate:modelValue":a[6]||(a[6]=v=>o.value.jobTitle=v),label:"Job Title",rules:m(u).jobTitle,"error-messages":m(k).jobTitle,onInput:a[7]||(a[7]=v=>m(d)("jobTitle")),required:""},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.department,"onUpdate:modelValue":a[8]||(a[8]=v=>o.value.department=v),label:"Department"},null,8,["modelValue"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.salary,"onUpdate:modelValue":a[9]||(a[9]=v=>o.value.salary=v),label:"Salary",type:"number",prefix:"SAR"},null,8,["modelValue"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.hireDate,"onUpdate:modelValue":a[10]||(a[10]=v=>o.value.hireDate=v),label:"Hire Date",type:"date"},null,8,["modelValue"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.shiftStart,"onUpdate:modelValue":a[11]||(a[11]=v=>o.value.shiftStart=v),label:"Shift Start",type:"time"},null,8,["modelValue"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.shiftEnd,"onUpdate:modelValue":a[12]||(a[12]=v=>o.value.shiftEnd=v),label:"Shift End",type:"time"},null,8,["modelValue"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(De,{modelValue:o.value.status,"onUpdate:modelValue":[a[13]||(a[13]=v=>o.value.status=v),a[14]||(a[14]=v=>m(d)("status"))],label:"Status",items:V,rules:m(u).status,"error-messages":m(k).status,required:""},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(De,{modelValue:o.value.employmentType,"onUpdate:modelValue":[a[15]||(a[15]=v=>o.value.employmentType=v),a[16]||(a[16]=v=>m(d)("employmentType"))],label:"Employment Type",items:r,rules:m(u).employmentType,"error-messages":m(k).employmentType},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12"},{default:t(()=>[e(Ce,{modelValue:o.value.notes,"onUpdate:modelValue":a[17]||(a[17]=v=>o.value.notes=v),label:"Notes",rows:"2",rules:m(u).notes,"error-messages":m(k).notes,onInput:a[18]||(a[18]=v=>m(d)("notes"))},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1})]),_:1},512)]),_:1})):Z("",!0),e(J),e(G,{class:"pa-6"},{default:t(()=>{var v,ae,ue,se;return[e(le),e(C,{color:"secondary",variant:"tonal",onClick:U},{default:t(()=>a[20]||(a[20]=[p(" Cancel ")])),_:1,__:[20]}),e(C,{color:"primary",disabled:!((v=o.value)!=null&&v.name)||!((ae=o.value)!=null&&ae.email)||!((ue=o.value)!=null&&ue.jobTitle)||!((se=o.value)!=null&&se.status),onClick:$},{default:t(()=>a[21]||(a[21]=[p(" Save Changes ")])),_:1,__:[21]},8,["disabled"])]}),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Zl=K({__name:"AddUnitStaffDialog",props:{isDialogVisible:{type:Boolean}},emits:["update:isDialogVisible","staffAdded"],setup(M,{emit:B}){const S=M,N=B,w=z({get:()=>S.isDialogVisible,set:T=>N("update:isDialogVisible",T)}),k=g(),{backendErrors:y,setBackendErrors:d,clearError:u}=re(),b=gl(),o=g({name:"",email:"",phone:"",jobTitle:"",department:"",salary:0,hireDate:"",shiftStart:"",shiftEnd:"",status:"Active",employmentType:"full_time",notes:""}),$=async()=>{const{valid:T}=await k.value.validate();if(T)try{N("staffAdded",{...o.value}),o.value={name:"",email:"",phone:"",jobTitle:"",department:"",salary:0,hireDate:"",shiftStart:"",shiftEnd:"",status:"Active",employmentType:"full_time",notes:""},w.value=!1}catch(a){d(a)}},U=()=>{w.value=!1,o.value={name:"",email:"",phone:"",jobTitle:"",department:"",salary:0,hireDate:"",shiftStart:"",shiftEnd:"",status:"Active",employmentType:"full_time",notes:""}},V=["Active","On Leave","Terminated","Inactive"],r=[{title:"Full Time",value:"full_time"},{title:"Part Time",value:"part_time"},{title:"Contract",value:"contract"},{title:"Temporary",value:"temporary"}];return(T,a)=>{const q=ee;return x(),L(te,{modelValue:w.value,"onUpdate:modelValue":a[22]||(a[22]=v=>w.value=v),"max-width":"600"},{default:t(()=>[e(q,{onClick:U}),e(E,{title:"Add New Staff Member"},{default:t(()=>[e(A,{class:"pa-6"},{default:t(()=>[e(de,{ref_key:"formRef",ref:k},{default:t(()=>[e(j,null,{default:t(()=>[e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.name,"onUpdate:modelValue":a[0]||(a[0]=v=>o.value.name=v),label:"Full Name",rules:m(b).name,"error-messages":m(y).name,onInput:a[1]||(a[1]=v=>m(u)("name")),required:""},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.email,"onUpdate:modelValue":a[2]||(a[2]=v=>o.value.email=v),label:"Email",type:"email",rules:m(b).email,"error-messages":m(y).email,onInput:a[3]||(a[3]=v=>m(u)("email")),required:""},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.phone,"onUpdate:modelValue":a[4]||(a[4]=v=>o.value.phone=v),label:"Phone",rules:m(b).phone,"error-messages":m(y).phone,onInput:a[5]||(a[5]=v=>m(u)("phone"))},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.jobTitle,"onUpdate:modelValue":a[6]||(a[6]=v=>o.value.jobTitle=v),label:"Job Title",rules:m(b).jobTitle,"error-messages":m(y).jobTitle,onInput:a[7]||(a[7]=v=>m(u)("jobTitle")),required:""},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.department,"onUpdate:modelValue":a[8]||(a[8]=v=>o.value.department=v),label:"Department"},null,8,["modelValue"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.salary,"onUpdate:modelValue":a[9]||(a[9]=v=>o.value.salary=v),label:"Salary",type:"number",prefix:"SAR"},null,8,["modelValue"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.hireDate,"onUpdate:modelValue":a[10]||(a[10]=v=>o.value.hireDate=v),label:"Hire Date",type:"date",rules:m(b).hireDate,"error-messages":m(y).hireDate,onInput:a[11]||(a[11]=v=>m(u)("hireDate")),required:""},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.shiftStart,"onUpdate:modelValue":a[12]||(a[12]=v=>o.value.shiftStart=v),label:"Shift Start",type:"time",rules:m(b).shiftStart,"error-messages":m(y).shiftStart,onInput:a[13]||(a[13]=v=>m(u)("shiftStart"))},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.shiftEnd,"onUpdate:modelValue":a[14]||(a[14]=v=>o.value.shiftEnd=v),label:"Shift End",type:"time",rules:m(b).shiftEnd,"error-messages":m(y).shiftEnd,onInput:a[15]||(a[15]=v=>m(u)("shiftEnd"))},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(De,{modelValue:o.value.status,"onUpdate:modelValue":[a[16]||(a[16]=v=>o.value.status=v),a[17]||(a[17]=v=>m(u)("status"))],label:"Status",items:V,rules:m(b).status,"error-messages":m(y).status,required:""},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(De,{modelValue:o.value.employmentType,"onUpdate:modelValue":[a[18]||(a[18]=v=>o.value.employmentType=v),a[19]||(a[19]=v=>m(u)("employmentType"))],label:"Employment Type",items:r,rules:m(b).employmentType,"error-messages":m(y).employmentType,required:""},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12"},{default:t(()=>[e(Ce,{modelValue:o.value.notes,"onUpdate:modelValue":a[20]||(a[20]=v=>o.value.notes=v),label:"Notes",rows:"2",rules:m(b).notes,"error-messages":m(y).notes,onInput:a[21]||(a[21]=v=>m(u)("notes"))},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1})]),_:1},512)]),_:1}),e(J),e(G,{class:"pa-6"},{default:t(()=>[e(le),e(C,{color:"secondary",variant:"tonal",onClick:U},{default:t(()=>a[23]||(a[23]=[p(" Cancel ")])),_:1,__:[23]}),e(C,{color:"primary",disabled:!o.value.name||!o.value.email||!o.value.jobTitle||!o.value.hireDate||!o.value.status,onClick:$},{default:t(()=>a[24]||(a[24]=[p(" Add Staff ")])),_:1,__:[24]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),R=He(),ea=["store","kiosk","mobile","online","warehouse","office"],ta=["planning","construction","training","active","temporarily_closed","permanently_closed"];function la(){return{unitName:[R.string("Unit name must be a string"),R.maxLength(255,"Unit name cannot exceed 255 characters")],unitType:[R.inArray(ea,"Unit type must be one of: store, kiosk, mobile, online, warehouse, office")],address:[R.string("Address must be a string")],city:[R.string("City must be a string"),R.maxLength(100,"City cannot exceed 100 characters")],stateProvince:[R.string("State/Province must be a string"),R.maxLength(100,"State/Province cannot exceed 100 characters")],postalCode:[R.string("Postal code must be a string"),R.maxLength(20,"Postal code cannot exceed 20 characters")],nationality:[R.string("Nationality must be a string"),R.maxLength(100,"Nationality cannot exceed 100 characters")],phone:[R.string("Phone must be a string"),R.maxLength(20,"Phone cannot exceed 20 characters")],email:[R.email("Email must be a valid email address"),R.maxLength(255,"Email cannot exceed 255 characters")],sizeSqft:[R.numeric("Size must be a number"),R.min(0,"Size must be at least 0")],initialInvestment:[R.numeric("Initial investment must be a number"),R.min(0,"Initial investment must be at least 0")],leaseStartDate:[R.date("Lease start date must be a valid date")],leaseEndDate:[R.date("Lease end date must be a valid date")],openingDate:[R.date("Opening date must be a valid date")],status:[R.inArray(ta,"Status must be one of: planning, construction, training, active, temporarily_closed, permanently_closed")],employeeCount:[R.integer("Employee count must be an integer"),R.min(0,"Employee count must be at least 0")],monthlyRevenue:[R.numeric("Monthly revenue must be a number"),R.min(0,"Monthly revenue must be at least 0")],monthlyExpenses:[R.numeric("Monthly expenses must be a number"),R.min(0,"Monthly expenses must be at least 0")],notes:[R.string("Notes must be a string")]}}const aa=K({__name:"EditUnitDialog",props:{isDialogVisible:{type:Boolean},unitData:{}},emits:["update:isDialogVisible","unitUpdated"],setup(M,{emit:B}){const S=M,N=B,w=g(),{backendErrors:k,setBackendErrors:y,clearError:d}=re(),u=la(),b=z({get:()=>S.isDialogVisible,set:V=>N("update:isDialogVisible",V)}),o=g({});qe(()=>S.unitData,V=>{V&&(o.value={...V})},{immediate:!0});const $=async()=>{const{valid:V}=await w.value.validate();if(V)try{o.value&&S.unitData&&(N("unitUpdated",o.value),b.value=!1)}catch(r){y(r)}},U=()=>{b.value=!1};return(V,r)=>{const T=ee;return x(),L(te,{modelValue:b.value,"onUpdate:modelValue":r[9]||(r[9]=a=>b.value=a),"max-width":"600"},{default:t(()=>[e(T,{onClick:U}),e(E,{title:"Edit Unit Details"},{default:t(()=>[e(A,{class:"pa-6"},{default:t(()=>[e(de,{ref_key:"formRef",ref:w},{default:t(()=>[e(j,null,{default:t(()=>[e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.branchName,"onUpdate:modelValue":r[0]||(r[0]=a=>o.value.branchName=a),label:"Branch Name",rules:m(u).unitName,"error-messages":m(k).unitName,onInput:r[1]||(r[1]=a=>m(d)("unitName")),required:""},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.city,"onUpdate:modelValue":r[2]||(r[2]=a=>o.value.city=a),label:"City",rules:m(u).city,"error-messages":m(k).city,onInput:r[3]||(r[3]=a=>m(d)("city")),required:""},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.franchiseeName,"onUpdate:modelValue":r[4]||(r[4]=a=>o.value.franchiseeName=a),label:"Franchisee",disabled:""},null,8,["modelValue"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:o.value.contactNumber,"onUpdate:modelValue":r[5]||(r[5]=a=>o.value.contactNumber=a),label:"Contact Number",rules:m(u).phone,"error-messages":m(k).phone,onInput:r[6]||(r[6]=a=>m(d)("phone")),required:""},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12"},{default:t(()=>[e(Ce,{modelValue:o.value.address,"onUpdate:modelValue":r[7]||(r[7]=a=>o.value.address=a),label:"Address",rows:"3",rules:m(u).address,"error-messages":m(k).address,onInput:r[8]||(r[8]=a=>m(d)("address"))},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1})]),_:1},512)]),_:1}),e(J),e(G,{class:"pa-6"},{default:t(()=>[e(le),e(C,{color:"secondary",variant:"tonal",onClick:U},{default:t(()=>r[10]||(r[10]=[p(" Cancel ")])),_:1,__:[10]}),e(C,{color:"primary",disabled:!o.value.branchName||!o.value.city||!o.value.contactNumber,onClick:$},{default:t(()=>r[11]||(r[11]=[p(" Save Changes ")])),_:1,__:[11]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),sa={key:0,class:"text-center py-4"},oa={class:"d-flex align-center gap-3"},ia={class:"text-h6"},na={class:"text-body-2 mb-0"},ra={class:"text-body-2 text-medium-emphasis"},da=K({__name:"AddProductToInventoryDialog",props:{isDialogVisible:{type:Boolean},availableFranchiseProducts:{}},emits:["update:isDialogVisible","productAdded"],setup(M,{emit:B}){const S=M,N=B,w=g(),{backendErrors:k,setBackendErrors:y,clearError:d}=re(),u=Ge(),b=z({get:()=>S.isDialogVisible,set:T=>N("update:isDialogVisible",T)}),o=g(null),$=g({quantity:0,reorderLevel:5}),U=z(()=>o.value?S.availableFranchiseProducts.find(T=>T.id===o.value):null),V=async()=>{const{valid:T}=await w.value.validate();if(!(!T||!o.value))try{N("productAdded",{productId:o.value,quantity:Number.parseInt($.value.quantity.toString()),reorderLevel:Number.parseInt($.value.reorderLevel.toString())}),o.value=null,$.value={quantity:0,reorderLevel:5},b.value=!1}catch(a){y(a)}},r=()=>{b.value=!1,o.value=null,$.value={quantity:0,reorderLevel:5}};return(T,a)=>{const q=ee;return x(),L(te,{modelValue:b.value,"onUpdate:modelValue":a[6]||(a[6]=v=>b.value=v),"max-width":"600"},{default:t(()=>[e(q,{onClick:r}),e(E,{title:"Add Product to Inventory"},{default:t(()=>[e(A,{class:"pa-6"},{default:t(()=>[e(de,{ref_key:"formRef",ref:w},{default:t(()=>[e(j,null,{default:t(()=>[e(c,{cols:"12"},{default:t(()=>[e(De,{modelValue:o.value,"onUpdate:modelValue":[a[0]||(a[0]=v=>o.value=v),a[1]||(a[1]=v=>m(d)("name"))],label:"Select Product",items:S.availableFranchiseProducts,"item-title":"name","item-value":"id",rules:m(u).name,"error-messages":m(k).name,required:"",placeholder:"Choose a product from franchise catalog","no-data-text":S.availableFranchiseProducts.length===0?"No available franchise products to add":"No products match your search"},{item:t(({item:v,props:ae})=>[e(Q,ul(ml(ae)),{default:t(()=>[e(X,null,{default:t(()=>[p(f(v.raw.name),1)]),_:2},1024),e(yl,null,{default:t(()=>[p(f(v.raw.category)+" • "+f(m(we)(v.raw.unitPrice)),1)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","items","rules","error-messages","no-data-text"]),S.availableFranchiseProducts.length===0?(x(),F("div",sa,[e(_,{icon:"tabler-package-off",size:"48",class:"text-disabled mb-2"}),a[7]||(a[7]=i("div",{class:"text-body-2 text-disabled"}," All franchise products are already in this unit's inventory ",-1))])):Z("",!0)]),_:1}),U.value?(x(),L(c,{key:0,cols:"12"},{default:t(()=>[e(E,{variant:"tonal",color:"primary"},{default:t(()=>[e(A,null,{default:t(()=>[i("div",oa,[e(_,{icon:"tabler-package",size:"24"}),i("div",null,[i("h6",ia,f(U.value.name),1),i("p",na,f(U.value.description),1),i("div",ra," Category: "+f(U.value.category)+" • Price: "+f(m(we)(U.value.unitPrice)),1)])])]),_:1})]),_:1})]),_:1})):Z("",!0),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:$.value.quantity,"onUpdate:modelValue":a[2]||(a[2]=v=>$.value.quantity=v),label:"Initial Stock Quantity",type:"number",min:"0",rules:m(u).stock,"error-messages":m(k).stock,onInput:a[3]||(a[3]=v=>m(d)("stock")),required:"",placeholder:"Enter quantity to add"},null,8,["modelValue","rules","error-messages"])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[e(P,{modelValue:$.value.reorderLevel,"onUpdate:modelValue":a[4]||(a[4]=v=>$.value.reorderLevel=v),label:"Reorder Level",type:"number",min:"0",rules:m(u).minimumStock,"error-messages":m(k).minimumStock,onInput:a[5]||(a[5]=v=>m(d)("minimumStock")),required:"",placeholder:"Minimum stock alert level"},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1})]),_:1},512)]),_:1}),e(J),e(G,{class:"pa-6"},{default:t(()=>[e(le),e(C,{color:"secondary",variant:"tonal",onClick:r},{default:t(()=>a[8]||(a[8]=[p(" Cancel ")])),_:1,__:[8]}),e(C,{color:"primary",disabled:!o.value||!$.value.quantity,onClick:V},{default:t(()=>a[9]||(a[9]=[p(" Add to Inventory ")])),_:1,__:[9]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),ua={class:"d-flex align-center justify-space-between"},ma={class:"d-flex align-center gap-3"},va={class:"text-h2 mb-1"},ca={class:"text-body-1 text-medium-emphasis"},fa={key:0,class:"text-center py-8"},pa={key:1,class:"text-center py-8"},ba={class:"text-body-1 text-error"},ga={class:"mb-4"},ya={class:"text-body-1 font-weight-medium"},_a={class:"mb-4"},Va={class:"text-body-1"},xa={class:"mb-4"},ka={class:"text-body-1"},wa=["href"],Da={class:"mb-4"},Ca={class:"text-body-1"},Sa={class:"mb-4"},Ua={class:"text-body-1"},Ta={key:0,class:"text-center py-8"},Ea={key:1,class:"text-center py-8"},Ra={class:"text-body-1 text-error"},Pa={class:"ms-4"},$a={class:"text-h4"},Ia={class:"ms-4"},Na={class:"text-h4"},za={class:"ms-4"},Aa={class:"text-h4"},qa={class:"ms-4"},La={class:"text-h4"},Ba={class:"text-base font-weight-medium"},Ma={class:"text-body-2 text-disabled"},Fa={key:0,class:"text-center py-8"},ja={key:1,class:"text-center py-8"},ha={class:"text-body-1 text-error"},Oa={key:2,class:"text-center py-8"},Ha={class:"d-flex align-center mb-3"},Wa={class:"text-h6"},Ja={class:"text-body-2 text-disabled mb-0"},Qa={class:"text-body-2 mb-3"},Xa={class:"d-flex align-center justify-space-between mb-3"},Ya={class:"text-body-2 text-disabled"},Ga={class:"d-flex align-center justify-space-between mb-3"},Ka={class:"text-body-2 text-disabled"},Za={key:0,class:"text-center py-8"},es={key:1,class:"text-center py-8"},ts={class:"text-body-1 text-error"},ls={class:"ms-4"},as={class:"text-h4"},ss={class:"ms-4"},os={class:"text-h4"},is={class:"ms-4"},ns={class:"text-h4"},rs={class:"d-flex align-center gap-x-3"},ds={class:"text-base font-weight-medium"},us={class:"text-body-2 text-disabled"},ms={key:0,class:"text-center py-8"},vs={key:1,class:"text-center py-8"},cs={class:"text-body-1 text-error"},fs={class:"ms-4"},ps={class:"text-h4"},bs={class:"ms-4"},gs={class:"text-h4"},ys={class:"ms-4"},_s={class:"text-h4"},Vs={class:"ms-4"},xs={class:"text-h4"},ks={class:"text-body-1 font-weight-medium"},ws={key:0,class:"text-center py-8"},Ds={key:1,class:"text-center py-8"},Cs={class:"text-body-1 text-error"},Ss={class:"ms-4"},Us={class:"text-h4"},Ts={class:"ms-4"},Es={class:"text-h4"},Rs={class:"ms-4"},Ps={class:"text-h4"},$s={class:"d-flex align-center gap-1"},Is={class:"text-body-2"},Ns={class:"text-body-2",style:{"max-width":"300px"}},Do=K({__name:"unit-operation",setup(M){const B=vl(),S=g("overview"),N=z(()=>{const n=B.params.id;return typeof n=="string"?n:""}),w=z(()=>{if(N.value){const n=Number.parseInt(N.value);if(!Number.isNaN(n)&&n>0)return n}return null}),k=z(()=>{var n;return((n=u.value)==null?void 0:n.id)||w.value}),y=g(!1),d=g(null),u=g(null),b=g([]),o=g([]),$=g([]),U=g([]),V=g([]),r=g([]),T=g(null),a=g({quantity:0,reorderLevel:5}),q=()=>{var l;const n=((l=u.value)==null?void 0:l.id)||w.value;if(!n)throw new Error("Unit ID is not available");return n};z(()=>T.value?r.value.find(n=>n.id===T.value):null);const v=async()=>{try{y.value=!0,d.value=null;const n=w.value||void 0,l=await h.getUnitDetails(n);l.success&&(u.value=l.data);const s=await h.getUnitTasks(n);s.success&&(b.value=s.data);const D=await h.getUnitStaff(n);D.success&&($.value=D.data);const H=await h.getUnitProducts(n);H.success&&(U.value=H.data);const ie=await h.getUnitReviews(n);ie.success&&(V.value=ie.data);const ne=await h.getUnitDocuments(n);ne.success&&(o.value=ne.data)}catch(n){console.error("Error loading unit data:",n),d.value="Failed to load unit data. Please try again."}finally{y.value=!1}};cl(()=>{v()});const ae=g(!1),ue=g(!1),se=g(!1),Se=g(!1),Ue=g(!1),Te=g(!1),Le=g(!1),Ee=g(!1),oe=g(!1),_e=g(null),Be=g(null),Me=g(!1),Re=g(!1),me=g(null),Ke=g(null),Fe=g(!1),Pe=g(!1),ve=g(null),Ze=g(null),je=g(!1),$e=g(!1),ce=g(null),et=g(null),he=g(!1),We=g(null),Oe=g(null),Je=g({name:"",email:"",phone:"",jobTitle:"",department:"",salary:0,hireDate:"",shiftStart:"",shiftEnd:"",status:"Active",employmentType:"full_time",notes:""}),Qe=g({customerName:"",customerEmail:"",rating:0,comment:"",date:""}),Xe=g({...u.value}),tt=z(()=>b.value.length),lt=z(()=>b.value.filter(n=>n.status==="completed").length),at=z(()=>b.value.filter(n=>n.status==="in_progress").length),st=z(()=>{const n=new Date;return b.value.filter(l=>new Date(l.dueDate)<=n&&l.status!=="completed").length}),ot=z(()=>$.value.length),it=z(()=>$.value.filter(n=>n.status==="working").length),nt=z(()=>$.value.filter(n=>n.status==="leave").length),rt=z(()=>U.value.length),dt=z(()=>U.value.reduce((n,l)=>n+l.stock,0)),ut=z(()=>U.value.filter(n=>n.stock>0&&n.stock<=10).length),mt=z(()=>U.value.filter(n=>n.stock===0).length),vt=z(()=>V.value.length===0?0:(V.value.reduce((l,s)=>l+s.rating,0)/V.value.length).toFixed(1)),ct=z(()=>V.value.filter(n=>n.sentiment==="positive").length),ft=z(()=>V.value.filter(n=>n.sentiment==="negative").length),Ve=n=>n==="active"||n==="completed"||n==="approved"||n==="working"?"success":n==="pending"||n==="in_progress"||n==="leave"?"warning":n==="inactive"||n==="rejected"||n==="terminated"?"error":"secondary",pt=n=>n==="high"?"error":n==="medium"?"warning":n==="low"?"info":"secondary",bt=()=>{Xe.value={...u.value},se.value=!0},gt=async n=>{const l=n||Xe.value;try{const s=await h.updateUnitDetails(q(),l);s.success&&(u.value=s.data,se.value=!1)}catch(s){console.error("Error updating unit details:",s)}},yt=async n=>{await gt(n)},_t=async n=>{try{const l=await h.createTask(q(),n);l.success&&b.value.push(l.data)}catch(l){console.error("Error creating task:",l)}},Vt=async n=>{try{const l=new FormData;l.append("title",n.title),l.append("description",n.description),l.append("type",n.type),l.append("status",n.status||"pending"),l.append("comment",n.comment||""),n.file&&l.append("file",n.file);const s=await h.createDocument(q(),l);s.success&&o.value.push(s.data)}catch(l){console.error("Error creating document:",l)}},xt=async n=>{try{n.action==="approve"?console.log("Approving document:",n.document,"with comment:",n.comment):n.action==="reject"&&console.log("Rejecting document:",n.document,"with comment:",n.comment)}catch(l){console.error("Error performing document action:",l)}finally{he.value=!1,We.value=null,Oe.value=null}},kt=async n=>{var l;try{const s=((l=u.value)==null?void 0:l.id)||q(),D=pl("accessToken").value;if(!D){console.error("No access token found");return}const H=await fetch(`/api/v1/unit-manager/units/documents/${s}/${n.id}/download`,{method:"GET",headers:{Authorization:`Bearer ${D}`,Accept:"application/octet-stream","X-Requested-With":"XMLHttpRequest"},credentials:"include"});if(!H.ok){const ll=await H.text();throw console.error("Download failed:",H.status,ll),new Error(`Failed to download document: ${H.status}`)}const ie=await H.blob(),ne=window.URL.createObjectURL(ie),xe=window.document.createElement("a");xe.href=ne,xe.download=n.fileName,window.document.body.appendChild(xe),xe.click(),window.document.body.removeChild(xe),window.URL.revokeObjectURL(ne)}catch(s){console.error("Error downloading document:",s)}},wt=n=>{me.value=n,Me.value=!0},Dt=n=>{me.value={...n},Re.value=!0},Ct=n=>{Ke.value=n,oe.value=!0},St=async n=>{const l=n||me.value;if(l)try{const s=await h.updateStaff(q(),l.id,l);if(s.success){const D=$.value.findIndex(H=>H.id===l.id);D!==-1&&($.value[D]=s.data)}}catch(s){console.error("Error updating staff:",s)}finally{Re.value=!1,me.value=null}},Ut=async n=>{await St(n)},Tt=async n=>{const l=n||Je.value;try{const s=await h.createStaff(q(),l);s.success&&($.value.push(s.data),Se.value=!1,Je.value={name:"",email:"",phone:"",jobTitle:"",department:"",salary:0,hireDate:"",shiftStart:"",shiftEnd:"",status:"Active",employmentType:"full_time",notes:""})}catch(s){console.error("Error adding staff:",s)}},Et=async n=>{await Tt(n)},Rt=n=>{ve.value=n,Fe.value=!0},Pt=n=>{ve.value={...n},Pe.value=!0},$t=n=>{Ze.value=n,oe.value=!0},It=async n=>{const l=n||ve.value;if(l)try{const s=await h.updateProduct(q(),l.id,l);if(s.success){const D=U.value.findIndex(H=>H.id===l.id);D!==-1&&(U.value[D]=s.data)}}catch(s){console.error("Error updating product:",s)}finally{Pe.value=!1,ve.value=null}},Nt=async n=>{await It(n)},zt=async()=>{var n;try{const l=((n=u.value)==null?void 0:n.id)||q();if(!l){console.error("Unit ID not available yet. Please wait for unit data to load."),r.value=[];return}const s=await h.getAvailableFranchiseProducts(l);s.success&&(r.value=s.data)}catch(l){console.error("Error loading franchise products:",l),r.value=[]}},At=async n=>{var s;const l=n||{productId:T.value,quantity:Number.parseInt(a.value.quantity.toString()),reorderLevel:Number.parseInt(a.value.reorderLevel.toString())};try{const D=((s=u.value)==null?void 0:s.id)||q();if(!D){console.error("Unit ID not available for adding product");return}if((await h.addProductToInventory(D,l)).success){const ie=r.value.find(ne=>ne.id===l.productId);ie&&U.value.push({...ie,stock:l.quantity}),Lt()}}catch(D){console.error("Error adding product to inventory:",D)}},qt=async n=>{await At(n)},Lt=()=>{Ue.value=!1,T.value=null,a.value={quantity:0,reorderLevel:5}},Bt=()=>{zt(),Ue.value=!0},Mt=n=>{ce.value=n,je.value=!0},Ft=n=>{ce.value={...n},$e.value=!0},jt=n=>{et.value=n,oe.value=!0},ht=async n=>{const l=n||ce.value;if(l)try{const s=await h.updateReview(q(),l.id,l);if(s.success){const D=V.value.findIndex(H=>H.id===l.id);D!==-1&&(V.value[D]=s.data)}}catch(s){console.error("Error updating review:",s)}finally{$e.value=!1,ce.value=null}},Ot=async n=>{await ht(n)},Ht=async n=>{const l=n||Qe.value;try{const s=await h.createReview(q(),l);s.success&&(V.value.push(s.data),Te.value=!1,Qe.value={customerName:"",customerEmail:"",rating:0,comment:"",date:""})}catch(s){console.error("Error adding review:",s)}},Wt=async n=>{await Ht(n)},Jt=n=>{_e.value=n,Le.value=!0},Qt=n=>{_e.value={...n},Ee.value=!0},Xt=n=>{Be.value=n,oe.value=!0},Yt=n=>{const l=b.value.findIndex(s=>s.id===n.id);l!==-1&&(b.value[l]=n),Ee.value=!1,_e.value=null},Gt=n=>{const l=b.value.findIndex(s=>s.id===n);l!==-1&&b.value.splice(l,1),oe.value=!1,Be.value=null},Kt=[{title:"Task Info",key:"taskInfo"},{title:"Category",key:"category"},{title:"Start Date",key:"startDate"},{title:"Due Date",key:"dueDate"},{title:"Priority",key:"priority"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],Zt=[{title:"Name",key:"name"},{title:"Job Title",key:"jobTitle"},{title:"Email",key:"email"},{title:"Shift Time",key:"shiftTime"},{title:"Status",key:"status"}],el=[{title:"Product Name",key:"name"},{title:"Description",key:"description"},{title:"Category",key:"category"},{title:"Unit Price",key:"unitPrice"},{title:"Stock",key:"stock"},{title:"Status",key:"status"}],tl=[{title:"Customer",key:"customerName"},{title:"Rating",key:"rating"},{title:"Comment",key:"comment"},{title:"Date",key:"date"},{title:"Sentiment",key:"sentiment"}];return(n,l)=>(x(),F("section",null,[e(j,{class:"mb-6"},{default:t(()=>[e(c,{cols:"12"},{default:t(()=>{var s;return[i("div",ua,[i("div",ma,[i("div",null,[i("h2",va,f(((s=u.value)==null?void 0:s.branchName)||"Loading..."),1),i("p",ca,f(u.value?`Managed by ${u.value.franchiseeName} • ${u.value.city}, ${u.value.state}`:"Loading unit information..."),1)])]),u.value?(x(),L(Y,{key:0,color:Ve(u.value.status),size:"large",label:"",class:"text-capitalize"},{default:t(()=>[p(f(u.value.status),1)]),_:1},8,["color"])):(x(),L(_l,{key:1,type:"chip",width:"80",height:"32"}))])]}),_:1})]),_:1}),e(Vl,{modelValue:S.value,"onUpdate:modelValue":l[0]||(l[0]=s=>S.value=s),class:"mb-6"},{default:t(()=>[e(ge,{value:"overview"},{default:t(()=>[e(_,{icon:"tabler-info-circle",start:""}),l[22]||(l[22]=p(" Overview "))]),_:1,__:[22]}),e(ge,{value:"tasks",hidden:""},{default:t(()=>[e(_,{icon:"tabler-checklist",start:""}),l[23]||(l[23]=p(" Tasks "))]),_:1,__:[23]}),e(ge,{value:"documents"},{default:t(()=>[e(_,{icon:"tabler-files",start:""}),l[24]||(l[24]=p(" Documents "))]),_:1,__:[24]}),e(ge,{value:"staffs"},{default:t(()=>[e(_,{icon:"tabler-users",start:""}),l[25]||(l[25]=p(" Staffs "))]),_:1,__:[25]}),e(ge,{value:"inventory"},{default:t(()=>[e(_,{icon:"tabler-package",start:""}),l[26]||(l[26]=p(" Inventory Management "))]),_:1,__:[26]}),e(ge,{value:"reviews"},{default:t(()=>[e(_,{icon:"tabler-star",start:""}),l[27]||(l[27]=p(" Customer Reviews "))]),_:1,__:[27]})]),_:1},8,["modelValue"]),e(xl,{modelValue:S.value,"onUpdate:modelValue":l[5]||(l[5]=s=>S.value=s),class:"disable-tab-transition"},{default:t(()=>[e(ye,{value:"overview"},{default:t(()=>[e(E,null,{default:t(()=>[e(fe,{class:"pb-4"},{append:t(()=>[e(C,{color:"primary","prepend-icon":"tabler-edit",disabled:!u.value,onClick:bt},{default:t(()=>l[29]||(l[29]=[p(" Edit Details ")])),_:1,__:[29]},8,["disabled"])]),default:t(()=>[e(pe,null,{default:t(()=>l[28]||(l[28]=[p("Unit Information")])),_:1,__:[28]})]),_:1}),e(J),e(A,null,{default:t(()=>[y.value?(x(),F("div",fa,[e(be,{indeterminate:"",color:"primary"}),l[30]||(l[30]=i("div",{class:"mt-3 text-body-1"}," Loading unit information... ",-1))])):d.value?(x(),F("div",pa,[e(_,{icon:"tabler-alert-circle",color:"error",size:"48",class:"mb-3"}),i("div",ba,f(d.value),1),e(C,{color:"primary",variant:"tonal",class:"mt-3",onClick:v},{default:t(()=>l[31]||(l[31]=[p(" Retry ")])),_:1,__:[31]})])):u.value?(x(),L(j,{key:2},{default:t(()=>[e(c,{cols:"12"},{default:t(()=>[l[37]||(l[37]=i("h4",{class:"text-h6 mb-4"}," Basic Information ",-1)),e(j,null,{default:t(()=>[e(c,{cols:"12",md:"6"},{default:t(()=>[i("div",ga,[l[32]||(l[32]=i("div",{class:"text-sm text-disabled mb-1"}," Branch Name ",-1)),i("div",ya,f(u.value.branchName),1)])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[i("div",_a,[l[33]||(l[33]=i("div",{class:"text-sm text-disabled mb-1"}," Franchisee Name ",-1)),i("div",Va,f(u.value.franchiseeName),1)])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[i("div",xa,[l[34]||(l[34]=i("div",{class:"text-sm text-disabled mb-1"}," Email Address ",-1)),i("div",ka,[i("a",{href:`mailto:${u.value.email}`,class:"text-primary"},f(u.value.email),9,wa)])])]),_:1}),e(c,{cols:"12",md:"6"},{default:t(()=>[i("div",Da,[l[35]||(l[35]=i("div",{class:"text-sm text-disabled mb-1"}," Contact Number ",-1)),i("div",Ca,f(u.value.contactNumber),1)])]),_:1}),e(c,{cols:"12"},{default:t(()=>[i("div",Sa,[l[36]||(l[36]=i("div",{class:"text-sm text-disabled mb-1"}," Address ",-1)),i("div",Ua,f(u.value.address)+", "+f(u.value.city)+", "+f(u.value.state)+", "+f(u.value.country),1)])]),_:1})]),_:1})]),_:1,__:[37]})]),_:1})):Z("",!0)]),_:1})]),_:1})]),_:1}),e(ye,{value:"tasks"},{default:t(()=>[y.value?(x(),F("div",Ta,[e(be,{indeterminate:"",color:"primary"}),l[38]||(l[38]=i("div",{class:"mt-3 text-body-1"}," Loading tasks data... ",-1))])):d.value?(x(),F("div",Ea,[e(_,{icon:"tabler-alert-circle",color:"error",size:"48",class:"mb-3"}),i("div",Ra,f(d.value),1),e(C,{color:"primary",variant:"tonal",class:"mt-3",onClick:v},{default:t(()=>l[39]||(l[39]=[p(" Retry ")])),_:1,__:[39]})])):(x(),F(ke,{key:2},[e(j,{class:"mb-6"},{default:t(()=>[e(c,{cols:"12",md:"3"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{class:"d-flex align-center"},{default:t(()=>[e(O,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:t(()=>[e(_,{icon:"tabler-checklist",size:"26"})]),_:1}),i("div",Pa,[l[40]||(l[40]=i("div",{class:"text-body-2 text-disabled"}," Total Tasks ",-1)),i("h4",$a,f(tt.value),1)])]),_:1})]),_:1})]),_:1}),e(c,{cols:"12",md:"3"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{class:"d-flex align-center"},{default:t(()=>[e(O,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:t(()=>[e(_,{icon:"tabler-check",size:"26"})]),_:1}),i("div",Ia,[l[41]||(l[41]=i("div",{class:"text-body-2 text-disabled"}," Completed ",-1)),i("h4",Na,f(lt.value),1)])]),_:1})]),_:1})]),_:1}),e(c,{cols:"12",md:"3"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{class:"d-flex align-center"},{default:t(()=>[e(O,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:t(()=>[e(_,{icon:"tabler-clock",size:"26"})]),_:1}),i("div",za,[l[42]||(l[42]=i("div",{class:"text-body-2 text-disabled"}," In Progress ",-1)),i("h4",Aa,f(at.value),1)])]),_:1})]),_:1})]),_:1}),e(c,{cols:"12",md:"3"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{class:"d-flex align-center"},{default:t(()=>[e(O,{size:"44",rounded:"",color:"error",variant:"tonal"},{default:t(()=>[e(_,{icon:"tabler-alert-circle",size:"26"})]),_:1}),i("div",qa,[l[43]||(l[43]=i("div",{class:"text-body-2 text-disabled"}," Due ",-1)),i("h4",La,f(st.value),1)])]),_:1})]),_:1})]),_:1})]),_:1}),e(E,null,{default:t(()=>[e(fe,{class:"pb-4"},{append:t(()=>[e(C,{color:"primary","prepend-icon":"tabler-plus",onClick:l[1]||(l[1]=s=>ae.value=!0)},{default:t(()=>l[45]||(l[45]=[p(" Create Task ")])),_:1,__:[45]})]),default:t(()=>[e(pe,null,{default:t(()=>l[44]||(l[44]=[p("Tasks")])),_:1,__:[44]})]),_:1}),e(J),e(Ne,{items:b.value,headers:Kt,class:"text-no-wrap","item-value":"id"},{"item.taskInfo":t(({item:s})=>[i("div",null,[i("h6",Ba,f(s.title),1),i("div",Ma,f(s.description),1)])]),"item.priority":t(({item:s})=>[e(Y,{color:pt(s.priority),size:"small",label:"",class:"text-capitalize"},{default:t(()=>[p(f(s.priority),1)]),_:2},1032,["color"])]),"item.status":t(({item:s})=>[e(Y,{color:Ve(s.status),size:"small",label:"",class:"text-capitalize"},{default:t(()=>[p(f(s.status),1)]),_:2},1032,["color"])]),"item.actions":t(({item:s})=>[e(C,{icon:"",variant:"text",color:"medium-emphasis",size:"small"},{default:t(()=>[e(_,{icon:"tabler-dots-vertical"}),e(ze,{activator:"parent"},{default:t(()=>[e(Ie,null,{default:t(()=>[e(Q,{onClick:D=>Jt(s)},{prepend:t(()=>[e(_,{icon:"tabler-eye"})]),default:t(()=>[e(X,null,{default:t(()=>l[46]||(l[46]=[p("View")])),_:1,__:[46]})]),_:2},1032,["onClick"]),e(Q,{onClick:D=>Qt(s)},{prepend:t(()=>[e(_,{icon:"tabler-edit"})]),default:t(()=>[e(X,null,{default:t(()=>l[47]||(l[47]=[p("Edit")])),_:1,__:[47]})]),_:2},1032,["onClick"]),e(Q,{onClick:D=>Xt(s.id)},{prepend:t(()=>[e(_,{icon:"tabler-trash"})]),default:t(()=>[e(X,null,{default:t(()=>l[48]||(l[48]=[p("Delete")])),_:1,__:[48]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["items"])]),_:1})],64))]),_:1}),e(ye,{value:"documents"},{default:t(()=>[e(E,null,{default:t(()=>[e(fe,{class:"pb-4"},{append:t(()=>[e(C,{color:"primary","prepend-icon":"tabler-plus",disabled:y.value,onClick:l[2]||(l[2]=s=>ue.value=!0)},{default:t(()=>l[50]||(l[50]=[p(" Add Document ")])),_:1,__:[50]},8,["disabled"])]),default:t(()=>[e(pe,null,{default:t(()=>l[49]||(l[49]=[p("Unit Documents")])),_:1,__:[49]})]),_:1}),e(A,null,{default:t(()=>[y.value?(x(),F("div",Fa,[e(be,{indeterminate:"",color:"primary"}),l[51]||(l[51]=i("div",{class:"mt-3 text-body-1"}," Loading documents... ",-1))])):d.value?(x(),F("div",ja,[e(_,{icon:"tabler-alert-circle",color:"error",size:"48",class:"mb-3"}),i("div",ha,f(d.value),1),e(C,{color:"primary",variant:"tonal",class:"mt-3",onClick:v},{default:t(()=>l[52]||(l[52]=[p(" Retry ")])),_:1,__:[52]})])):o.value.length===0?(x(),F("div",Oa,[e(_,{icon:"tabler-folder-open",size:"48",class:"text-disabled mb-3"}),l[53]||(l[53]=i("div",{class:"text-body-1 text-disabled"}," No documents found for this unit ",-1))])):(x(),L(j,{key:3},{default:t(()=>[(x(!0),F(ke,null,fl(o.value,s=>(x(),L(c,{key:s.id,cols:"12",md:"6",lg:"4"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,null,{default:t(()=>[i("div",Ha,[e(_,{icon:"tabler-file-text",size:"24",color:"primary",class:"me-3"}),i("div",null,[i("h6",Wa,f(s.title),1),i("p",Ja,f(s.type),1)])]),i("p",Qa,f(s.description),1),i("div",Xa,[i("span",Ya,f(s.fileName),1),e(Y,{size:"small",color:"secondary"},{default:t(()=>[p(f(s.fileSize),1)]),_:2},1024)]),i("div",Ga,[i("span",Ka,f(s.uploadDate),1),e(Y,{color:Ve(s.status),size:"small",label:"",class:"text-capitalize"},{default:t(()=>[p(f(s.status),1)]),_:2},1032,["color"])])]),_:2},1024),e(G,null,{default:t(()=>[e(C,{size:"small",variant:"text",color:"primary","prepend-icon":"tabler-download",onClick:D=>kt(s)},{default:t(()=>l[54]||(l[54]=[p(" Download ")])),_:2,__:[54]},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}))]),_:1})]),_:1})]),_:1}),e(ye,{value:"staffs"},{default:t(()=>[y.value?(x(),F("div",Za,[e(be,{indeterminate:"",color:"primary"}),l[55]||(l[55]=i("div",{class:"mt-3 text-body-1"}," Loading staff data... ",-1))])):d.value?(x(),F("div",es,[e(_,{icon:"tabler-alert-circle",color:"error",size:"48",class:"mb-3"}),i("div",ts,f(d.value),1),e(C,{color:"primary",variant:"tonal",class:"mt-3",onClick:v},{default:t(()=>l[56]||(l[56]=[p(" Retry ")])),_:1,__:[56]})])):(x(),F(ke,{key:2},[e(j,{class:"mb-6"},{default:t(()=>[e(c,{cols:"12",md:"4"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{class:"d-flex align-center"},{default:t(()=>[e(O,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:t(()=>[e(_,{icon:"tabler-users",size:"26"})]),_:1}),i("div",ls,[l[57]||(l[57]=i("div",{class:"text-body-2 text-disabled"}," Total Employees ",-1)),i("h4",as,f(ot.value),1)])]),_:1})]),_:1})]),_:1}),e(c,{cols:"12",md:"4"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{class:"d-flex align-center"},{default:t(()=>[e(O,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:t(()=>[e(_,{icon:"tabler-user-check",size:"26"})]),_:1}),i("div",ss,[l[58]||(l[58]=i("div",{class:"text-body-2 text-disabled"}," Working ",-1)),i("h4",os,f(it.value),1)])]),_:1})]),_:1})]),_:1}),e(c,{cols:"12",md:"4"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{class:"d-flex align-center"},{default:t(()=>[e(O,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:t(()=>[e(_,{icon:"tabler-user-minus",size:"26"})]),_:1}),i("div",is,[l[59]||(l[59]=i("div",{class:"text-body-2 text-disabled"}," On Leave ",-1)),i("h4",ns,f(nt.value),1)])]),_:1})]),_:1})]),_:1})]),_:1}),e(E,null,{default:t(()=>[e(fe,{class:"pb-4"},{append:t(()=>[e(C,{color:"primary","prepend-icon":"tabler-plus",onClick:l[3]||(l[3]=s=>Se.value=!0)},{default:t(()=>l[61]||(l[61]=[p(" Add Staff ")])),_:1,__:[61]})]),default:t(()=>[e(pe,null,{default:t(()=>l[60]||(l[60]=[p("Staff Members")])),_:1,__:[60]})]),_:1}),e(J),e(Ne,{items:$.value,headers:[...Zt,{title:"Actions",key:"actions",sortable:!1}],class:"text-no-wrap","item-value":"id"},{"item.name":t(({item:s})=>[i("div",rs,[e(O,{size:"34",color:"primary",variant:"tonal"},{default:t(()=>[i("span",null,f(s.name.split(" ").map(D=>D[0]).join("")),1)]),_:2},1024),i("div",null,[i("h6",ds,f(s.name),1),i("div",us,f(s.email),1)])])]),"item.status":t(({item:s})=>[e(Y,{color:Ve(s.status),size:"small",label:"",class:"text-capitalize"},{default:t(()=>[p(f(s.status),1)]),_:2},1032,["color"])]),"item.actions":t(({item:s})=>[e(C,{icon:"",variant:"text",color:"medium-emphasis",size:"small"},{default:t(()=>[e(_,{icon:"tabler-dots-vertical"}),e(ze,{activator:"parent"},{default:t(()=>[e(Ie,null,{default:t(()=>[e(Q,{onClick:D=>wt(s)},{prepend:t(()=>[e(_,{icon:"tabler-eye"})]),default:t(()=>[e(X,null,{default:t(()=>l[62]||(l[62]=[p("View")])),_:1,__:[62]})]),_:2},1032,["onClick"]),e(Q,{onClick:D=>Dt(s)},{prepend:t(()=>[e(_,{icon:"tabler-edit"})]),default:t(()=>[e(X,null,{default:t(()=>l[63]||(l[63]=[p("Edit")])),_:1,__:[63]})]),_:2},1032,["onClick"]),e(Q,{onClick:D=>Ct(s.id)},{prepend:t(()=>[e(_,{icon:"tabler-trash"})]),default:t(()=>[e(X,null,{default:t(()=>l[64]||(l[64]=[p("Remove")])),_:1,__:[64]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["items","headers"])]),_:1})],64))]),_:1}),e(ye,{value:"inventory"},{default:t(()=>[y.value?(x(),F("div",ms,[e(be,{indeterminate:"",color:"primary"}),l[65]||(l[65]=i("div",{class:"mt-3 text-body-1"}," Loading inventory data... ",-1))])):d.value?(x(),F("div",vs,[e(_,{icon:"tabler-alert-circle",color:"error",size:"48",class:"mb-3"}),i("div",cs,f(d.value),1),e(C,{color:"primary",variant:"tonal",class:"mt-3",onClick:v},{default:t(()=>l[66]||(l[66]=[p(" Retry ")])),_:1,__:[66]})])):(x(),F(ke,{key:2},[e(j,{class:"mb-6"},{default:t(()=>[e(c,{cols:"12",md:"3"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{class:"d-flex align-center"},{default:t(()=>[e(O,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:t(()=>[e(_,{icon:"tabler-package",size:"26"})]),_:1}),i("div",fs,[l[67]||(l[67]=i("div",{class:"text-body-2 text-disabled"}," Total Products ",-1)),i("h4",ps,f(rt.value),1)])]),_:1})]),_:1})]),_:1}),e(c,{cols:"12",md:"3"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{class:"d-flex align-center"},{default:t(()=>[e(O,{size:"44",rounded:"",color:"info",variant:"tonal"},{default:t(()=>[e(_,{icon:"tabler-stack",size:"26"})]),_:1}),i("div",bs,[l[68]||(l[68]=i("div",{class:"text-body-2 text-disabled"}," Total Stock ",-1)),i("h4",gs,f(dt.value),1)])]),_:1})]),_:1})]),_:1}),e(c,{cols:"12",md:"3"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{class:"d-flex align-center"},{default:t(()=>[e(O,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:t(()=>[e(_,{icon:"tabler-alert-triangle",size:"26"})]),_:1}),i("div",ys,[l[69]||(l[69]=i("div",{class:"text-body-2 text-disabled"}," Low Stock ",-1)),i("h4",_s,f(ut.value),1)])]),_:1})]),_:1})]),_:1}),e(c,{cols:"12",md:"3"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{class:"d-flex align-center"},{default:t(()=>[e(O,{size:"44",rounded:"",color:"error",variant:"tonal"},{default:t(()=>[e(_,{icon:"tabler-x",size:"26"})]),_:1}),i("div",Vs,[l[70]||(l[70]=i("div",{class:"text-body-2 text-disabled"}," Out of Stock ",-1)),i("h4",xs,f(mt.value),1)])]),_:1})]),_:1})]),_:1})]),_:1}),e(E,null,{default:t(()=>[e(fe,{class:"pb-4"},{append:t(()=>[e(C,{color:"primary","prepend-icon":"tabler-plus",onClick:Bt},{default:t(()=>l[73]||(l[73]=[p(" Add to Inventory ")])),_:1,__:[73]})]),default:t(()=>[e(pe,null,{default:t(()=>l[71]||(l[71]=[p("Inventory")])),_:1,__:[71]}),e(dl,null,{default:t(()=>l[72]||(l[72]=[p("Manage stock levels for franchise products")])),_:1,__:[72]})]),_:1}),e(J),e(Ne,{items:U.value,headers:[...el,{title:"Actions",key:"actions",sortable:!1}],class:"text-no-wrap","item-value":"id"},{"item.unitPrice":t(({item:s})=>[i("div",ks,f(m(we)(s.unitPrice)),1)]),"item.stock":t(({item:s})=>[e(Y,{color:s.stock===0?"error":s.stock<=10?"warning":"success",size:"small",label:""},{default:t(()=>[p(f(s.stock),1)]),_:2},1032,["color"])]),"item.status":t(({item:s})=>[e(Y,{color:Ve(s.status),size:"small",label:"",class:"text-capitalize"},{default:t(()=>[p(f(s.status),1)]),_:2},1032,["color"])]),"item.actions":t(({item:s})=>[e(C,{icon:"",variant:"text",color:"medium-emphasis",size:"small"},{default:t(()=>[e(_,{icon:"tabler-dots-vertical"}),e(ze,{activator:"parent"},{default:t(()=>[e(Ie,null,{default:t(()=>[e(Q,{onClick:D=>Rt(s)},{prepend:t(()=>[e(_,{icon:"tabler-eye"})]),default:t(()=>[e(X,null,{default:t(()=>l[74]||(l[74]=[p("View")])),_:1,__:[74]})]),_:2},1032,["onClick"]),e(Q,{onClick:D=>Pt(s)},{prepend:t(()=>[e(_,{icon:"tabler-edit"})]),default:t(()=>[e(X,null,{default:t(()=>l[75]||(l[75]=[p("Edit")])),_:1,__:[75]})]),_:2},1032,["onClick"]),e(Q,{onClick:D=>$t(s.id)},{prepend:t(()=>[e(_,{icon:"tabler-trash"})]),default:t(()=>[e(X,null,{default:t(()=>l[76]||(l[76]=[p("Remove from Inventory")])),_:1,__:[76]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["items","headers"])]),_:1})],64))]),_:1}),e(ye,{value:"reviews"},{default:t(()=>[y.value?(x(),F("div",ws,[e(be,{indeterminate:"",color:"primary"}),l[77]||(l[77]=i("div",{class:"mt-3 text-body-1"}," Loading reviews data... ",-1))])):d.value?(x(),F("div",Ds,[e(_,{icon:"tabler-alert-circle",color:"error",size:"48",class:"mb-3"}),i("div",Cs,f(d.value),1),e(C,{color:"primary",variant:"tonal",class:"mt-3",onClick:v},{default:t(()=>l[78]||(l[78]=[p(" Retry ")])),_:1,__:[78]})])):(x(),F(ke,{key:2},[e(j,{class:"mb-6"},{default:t(()=>[e(c,{cols:"12",md:"4"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{class:"d-flex align-center"},{default:t(()=>[e(O,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:t(()=>[e(_,{icon:"tabler-star",size:"26"})]),_:1}),i("div",Ss,[l[79]||(l[79]=i("div",{class:"text-body-2 text-disabled"}," Average Rating ",-1)),i("h4",Us,f(vt.value),1)])]),_:1})]),_:1})]),_:1}),e(c,{cols:"12",md:"4"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{class:"d-flex align-center"},{default:t(()=>[e(O,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:t(()=>[e(_,{icon:"tabler-thumb-up",size:"26"})]),_:1}),i("div",Ts,[l[80]||(l[80]=i("div",{class:"text-body-2 text-disabled"}," Positive Reviews ",-1)),i("h4",Es,f(ct.value),1)])]),_:1})]),_:1})]),_:1}),e(c,{cols:"12",md:"4"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{class:"d-flex align-center"},{default:t(()=>[e(O,{size:"44",rounded:"",color:"error",variant:"tonal"},{default:t(()=>[e(_,{icon:"tabler-thumb-down",size:"26"})]),_:1}),i("div",Rs,[l[81]||(l[81]=i("div",{class:"text-body-2 text-disabled"}," Negative Reviews ",-1)),i("h4",Ps,f(ft.value),1)])]),_:1})]),_:1})]),_:1})]),_:1}),e(E,null,{default:t(()=>[e(fe,{class:"pb-4"},{append:t(()=>[e(C,{color:"primary","prepend-icon":"tabler-plus",onClick:l[4]||(l[4]=s=>Te.value=!0)},{default:t(()=>l[83]||(l[83]=[p(" Add Review ")])),_:1,__:[83]})]),default:t(()=>[e(pe,null,{default:t(()=>l[82]||(l[82]=[p("Customer Reviews")])),_:1,__:[82]})]),_:1}),e(J),e(Ne,{items:V.value,headers:[...tl,{title:"Actions",key:"actions",sortable:!1}],class:"text-no-wrap","item-value":"id"},{"item.rating":t(({item:s})=>[i("div",$s,[e(Ae,{"model-value":s.rating,readonly:"",size:"small",color:"warning"},null,8,["model-value"]),i("span",Is,"("+f(s.rating)+")",1)])]),"item.comment":t(({item:s})=>[i("div",Ns,f(s.comment),1)]),"item.sentiment":t(({item:s})=>[e(Y,{color:s.sentiment==="positive"?"success":"error",size:"small",label:"",class:"text-capitalize"},{default:t(()=>[p(f(s.sentiment),1)]),_:2},1032,["color"])]),"item.actions":t(({item:s})=>[e(C,{icon:"",variant:"text",color:"medium-emphasis",size:"small"},{default:t(()=>[e(_,{icon:"tabler-dots-vertical"}),e(ze,{activator:"parent"},{default:t(()=>[e(Ie,null,{default:t(()=>[e(Q,{onClick:D=>Mt(s)},{prepend:t(()=>[e(_,{icon:"tabler-eye"})]),default:t(()=>[e(X,null,{default:t(()=>l[84]||(l[84]=[p("View")])),_:1,__:[84]})]),_:2},1032,["onClick"]),e(Q,{onClick:D=>Ft(s)},{prepend:t(()=>[e(_,{icon:"tabler-edit"})]),default:t(()=>[e(X,null,{default:t(()=>l[85]||(l[85]=[p("Edit")])),_:1,__:[85]})]),_:2},1032,["onClick"]),e(Q,{onClick:D=>jt(s.id)},{prepend:t(()=>[e(_,{icon:"tabler-trash"})]),default:t(()=>[e(X,null,{default:t(()=>l[86]||(l[86]=[p("Remove")])),_:1,__:[86]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["items","headers"])]),_:1})],64))]),_:1})]),_:1},8,["modelValue"]),e(sl,{"is-dialog-visible":ae.value,"onUpdate:isDialogVisible":l[6]||(l[6]=s=>ae.value=s),onTaskCreated:_t},null,8,["is-dialog-visible"]),e(al,{"is-dialog-visible":ue.value,"onUpdate:isDialogVisible":l[7]||(l[7]=s=>ue.value=s),"unit-id":k.value,mode:"unit",onDocumentAdded:Vt},null,8,["is-dialog-visible","unit-id"]),Oe.value?(x(),L(ol,{key:0,"is-dialog-visible":he.value,"onUpdate:isDialogVisible":l[8]||(l[8]=s=>he.value=s),document:We.value,action:Oe.value,onDocumentActionConfirmed:xt},null,8,["is-dialog-visible","document","action"])):Z("",!0),e(il,{"is-dialog-visible":Le.value,"onUpdate:isDialogVisible":l[9]||(l[9]=s=>Le.value=s),task:_e.value},null,8,["is-dialog-visible","task"]),e(nl,{"is-dialog-visible":Ee.value,"onUpdate:isDialogVisible":l[10]||(l[10]=s=>Ee.value=s),task:_e.value,"user-options":[],"users-loading":!1,onTaskUpdated:Yt},null,8,["is-dialog-visible","task"]),e(rl,{"is-dialog-visible":oe.value,"onUpdate:isDialogVisible":l[11]||(l[11]=s=>oe.value=s),"task-id":Be.value,onTaskDeleted:Gt},null,8,["is-dialog-visible","task-id"]),e(aa,{"is-dialog-visible":se.value,"onUpdate:isDialogVisible":l[12]||(l[12]=s=>se.value=s),"unit-data":u.value,onUnitUpdated:yt},null,8,["is-dialog-visible","unit-data"]),e(Zl,{"is-dialog-visible":Se.value,"onUpdate:isDialogVisible":l[13]||(l[13]=s=>Se.value=s),onStaffAdded:Et},null,8,["is-dialog-visible"]),e(Ml,{"is-dialog-visible":Me.value,"onUpdate:isDialogVisible":l[14]||(l[14]=s=>Me.value=s),"selected-staff":me.value},null,8,["is-dialog-visible","selected-staff"]),e(Kl,{"is-dialog-visible":Re.value,"onUpdate:isDialogVisible":l[15]||(l[15]=s=>Re.value=s),"selected-staff":me.value,onStaffUpdated:Ut},null,8,["is-dialog-visible","selected-staff"]),e(da,{"is-dialog-visible":Ue.value,"onUpdate:isDialogVisible":l[16]||(l[16]=s=>Ue.value=s),"available-franchise-products":r.value,onProductAdded:qt},null,8,["is-dialog-visible","available-franchise-products"]),e(Ol,{"is-dialog-visible":Te.value,"onUpdate:isDialogVisible":l[17]||(l[17]=s=>Te.value=s),onReviewAdded:Wt},null,8,["is-dialog-visible"]),e(Il,{"is-dialog-visible":Fe.value,"onUpdate:isDialogVisible":l[18]||(l[18]=s=>Fe.value=s),"selected-product":ve.value},null,8,["is-dialog-visible","selected-product"]),e(Gl,{"is-dialog-visible":Pe.value,"onUpdate:isDialogVisible":l[19]||(l[19]=s=>Pe.value=s),"selected-product":ve.value,onProductUpdated:Nt},null,8,["is-dialog-visible","selected-product"]),e(Tl,{"is-dialog-visible":je.value,"onUpdate:isDialogVisible":l[20]||(l[20]=s=>je.value=s),"selected-review":ce.value},null,8,["is-dialog-visible","selected-review"]),e(Hl,{"is-dialog-visible":$e.value,"onUpdate:isDialogVisible":l[21]||(l[21]=s=>$e.value=s),"selected-review":ce.value,onReviewUpdated:Ot},null,8,["is-dialog-visible","selected-review"])]))}});export{Do as default};
