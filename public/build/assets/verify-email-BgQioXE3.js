import{d as C,bb as w,g as r,E as T,aZ as B,aQ as M,c as N,o as p,l as t,y as o,aR as _,i as e,k as n,G as y,t as d,a as v,h as k,q as l,a7 as R,b7 as A,s as L}from"./main-DjrYRpVy.js";import{a as S,b as j}from"./auth-v1-top-shape-gPxasD3d.js";import{V as f}from"./VNodeRenderer-BK23FLvl.js";import{a as D}from"./auth-C-ISQUE6.js";import{a as E,d as H,f as I,V as q}from"./VCard-C2C7Fyqz.js";import{V as g}from"./VAlert-D9DJCpy5.js";const z={class:"auth-wrapper d-flex align-center justify-center pa-4"},F={class:"position-relative my-sm-16"},G={class:"app-logo"},P={class:"app-logo-title"},Q={class:"text-body-1 mb-0"},U={class:"font-weight-medium text-high-emphasis"},Z={class:"d-flex align-center justify-center"},ee=C({__name:"verify-email",setup(J){const{smAndUp:V}=w(),h=r(null),u=r(!1),i=r(null),c=r(null);T(async()=>{var s;if(B("accessToken").value){u.value=!0;try{const a=await D.me();a.success&&a.data&&(h.value=a.data.email)}catch(a){const m=(a==null?void 0:a.data)||((s=a==null?void 0:a.response)==null?void 0:s._data)||null;c.value=(m==null?void 0:m.message)||"Failed to load user info."}finally{u.value=!1}}});const b=async()=>{i.value="If your email is registered, a verification link will be resent shortly.",setTimeout(()=>{i.value=null},3e3)};return(x,s)=>{const a=M("RouterLink");return p(),N("div",z,[t("div",F,[o(e(f),{nodes:_("div",{innerHTML:e(S)}),class:"text-primary auth-v1-top-shape d-none d-sm-block"},null,8,["nodes"]),o(e(f),{nodes:_("div",{innerHTML:e(j)}),class:"text-primary auth-v1-bottom-shape d-none d-sm-block"},null,8,["nodes"]),o(q,{class:L(["auth-card",e(V)?"pa-6":"pa-2"]),"max-width":"600"},{default:n(()=>[o(E,{class:"justify-center"},{default:n(()=>[o(H,null,{default:n(()=>[o(a,{to:"/"},{default:n(()=>[t("div",G,[o(e(f),{nodes:e(y).app.logo},null,8,["nodes"]),t("h1",P,d(e(y).app.title),1)])]),_:1})]),_:1})]),_:1}),o(I,null,{default:n(()=>[s[4]||(s[4]=t("h4",{class:"text-h4 mb-1"}," Verify your email ✉️ ",-1)),e(c)?(p(),v(g,{key:0,type:"error",variant:"tonal",class:"mb-4"},{default:n(()=>[l(d(e(c)),1)]),_:1})):k("",!0),e(i)?(p(),v(g,{key:1,type:"info",variant:"tonal",class:"mb-4"},{default:n(()=>[l(d(e(i)),1)]),_:1})):k("",!0),t("p",Q,[s[0]||(s[0]=l(" Account activation link sent to your email address: ")),t("span",U,d(e(h)||"hello@example.com"),1),s[1]||(s[1]=l(" Please follow the link inside to continue. "))]),o(R,{block:"",to:"/",class:"my-5",loading:e(u)},{default:n(()=>s[2]||(s[2]=[l(" Skip for now ")])),_:1,__:[2]},8,["loading"]),t("div",Z,[s[3]||(s[3]=t("span",{class:"me-1"},"Didn't get the mail? ",-1)),t("a",{href:"#",onClick:A(b,["prevent"])},"Resend")])]),_:1,__:[4]})]),_:1},8,["class"])])])}}});export{ee as default};
