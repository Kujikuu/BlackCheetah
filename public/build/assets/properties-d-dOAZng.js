import{V as Ve,_ as ge}from"./VDataTableServer-BzuYbrrM.js";import{_ as X}from"./AppTextField.vue_vue_type_script_setup_true_lang-ML22Aj_F.js";import{_ as Y}from"./AppSelect.vue_vue_type_script_setup_true_lang-sqiUBlRT.js";import{a_ as q,d as j,g as f,O,a as F,o as E,k as l,y as e,b5 as se,i as t,a7 as A,q as C,aI as k,w as ie,av as L,l as V,t as D,E as Ce,c as te,F as Ue,r as ke,h as le}from"./main-CaTcLKNL.js";import{f as De}from"./formatters-aoHiJebZ.js";import{_ as re}from"./AppTextarea.vue_vue_type_script_setup_true_lang-YwgDFmk8.js";import{_ as ne,V as Z}from"./VDialog-z6AiDkdm.js";import{u as we,a as Pe}from"./useSaudiProvinces-D8C7DogB.js";import{V as I,f as R,g as ee,d as de,b as Se,a as xe}from"./VCard-CS_ziklW.js";import{V as ue}from"./VForm-C3QLM41t.js";import{V as K,a as u}from"./VRow-DYWQ7lCi.js";import{V as G}from"./VSpacer-gpOajNGi.js";import{V as ae}from"./VDivider-BQAl4UcD.js";import{V as he}from"./VMenu-BJQsmbKc.js";import{V as Ae,a as J,b as W}from"./VList-BL4jYfIn.js";import{V as oe}from"./VChip-D2ZQ5d-y.js";import"./VPagination-CgdatAmX.js";import"./VDataTable-CaEYTJil.js";import"./VSelect-DxDkvyke.js";import"./VTextField-CvCFH6P5.js";import"./VField-D2C3fSHU.js";import"./form-C-6-1AEV.js";import"./forwardRefs-B931MWyl.js";import"./VInput-DPlCwJR6.js";import"./VOverlay-c5fY-XMP.js";import"./scopeId-CbLIAOEw.js";import"./VCheckboxBtn-BXZWDiEB.js";import"./VSelectionControl-CpeLtBMS.js";import"./VTable-YhQJcHlQ.js";import"./VTextarea-B3zF-AXj.js";/* empty css              */import"./VSlideGroup-D0UXYeax.js";class Te{getBaseUrl(){return"/api/v1/brokers/properties"}async getProperties(p){return await q(this.getBaseUrl(),{method:"GET",query:p})}async getProperty(p){return await q(`${this.getBaseUrl()}/${p}`)}async createProperty(p){return await q(this.getBaseUrl(),{method:"POST",body:p})}async updateProperty(p,y){return await q(`${this.getBaseUrl()}/${p}`,{method:"PUT",body:y})}async deleteProperty(p){return await q(`${this.getBaseUrl()}/${p}`,{method:"DELETE"})}async bulkDelete(p){return await q(`${this.getBaseUrl()}/bulk-delete`,{method:"POST",body:{ids:p}})}async markLeased(p){return await q(`${this.getBaseUrl()}/${p}/mark-leased`,{method:"PATCH"})}}const N=new Te,Ee=j({__name:"CreatePropertyDialog",props:{isDialogVisible:{type:Boolean}},emits:["update:isDialogVisible","propertyCreated"],setup(z,{emit:p}){const y=z,g=p,a=f({title:"",description:"",property_type:"retail",size_sqm:0,state_province:"",city:"",address:"",postal_code:"11111",monthly_rent:0,deposit_amount:0,lease_term_months:12,available_from:"",status:"available",amenities:[],images:[],contact_info:""}),m=f(!1),b=O({get:()=>y.isDialogVisible,set:U=>g("update:isDialogVisible",U)}),w=()=>{a.value={title:"",description:"",property_type:"retail",size_sqm:0,state_province:"",city:"",address:"",postal_code:"11111",monthly_rent:0,deposit_amount:0,lease_term_months:12,available_from:"",status:"available",amenities:[],images:[],contact_info:""}};we();const{provinces:v,getCitiesForProvince:d,isLoading:i}=Pe(),B=O(()=>d(a.value.state_province||"")),_=async()=>{try{m.value=!0,(await N.createProperty(a.value)).success&&(g("propertyCreated"),b.value=!1,w())}catch(U){console.error("Error creating property:",U)}finally{m.value=!1}},P=()=>{b.value=!1,w()};return(U,o)=>{const H=ne,h=X,S=re,x=Y;return E(),F(Z,{modelValue:t(b),"onUpdate:modelValue":o[13]||(o[13]=n=>k(b)?b.value=n:null),"max-width":"900",persistent:""},{default:l(()=>[e(H,{onClick:P}),e(I,{title:"Add New Property"},{default:l(()=>[e(R,null,{default:l(()=>[e(ue,{onSubmit:se(_,["prevent"])},{default:l(()=>[e(K,null,{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[e(h,{modelValue:t(a).title,"onUpdate:modelValue":o[0]||(o[0]=n=>t(a).title=n),label:"Property Title",placeholder:"Enter property title",rules:[n=>!!n||"Title is required"]},null,8,["modelValue","rules"])]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(S,{modelValue:t(a).description,"onUpdate:modelValue":o[1]||(o[1]=n=>t(a).description=n),label:"Description",placeholder:"Enter property description",rows:"3",rules:[n=>!!n||"Description is required"]},null,8,["modelValue","rules"])]),_:1}),e(u,{cols:"12",md:"6"},{default:l(()=>[e(x,{modelValue:t(a).property_type,"onUpdate:modelValue":o[2]||(o[2]=n=>t(a).property_type=n),label:"Property Type",items:[{title:"Retail",value:"retail"},{title:"Office",value:"office"},{title:"Kiosk",value:"kiosk"},{title:"Food Court",value:"food_court"},{title:"Standalone",value:"standalone"}],rules:[n=>!!n||"Property type is required"]},null,8,["modelValue","rules"])]),_:1}),e(u,{cols:"12",md:"6"},{default:l(()=>[e(h,{modelValue:t(a).size_sqm,"onUpdate:modelValue":o[3]||(o[3]=n=>t(a).size_sqm=n),label:"Size (m²)",type:"number",placeholder:"0",rules:[n=>n>0||"Size is required"]},null,8,["modelValue","rules"])]),_:1}),e(u,{cols:"12",md:"6"},{default:l(()=>[e(h,{modelValue:t(a).monthly_rent,"onUpdate:modelValue":o[4]||(o[4]=n=>t(a).monthly_rent=n),label:"Monthly Rent (SAR)",type:"number",placeholder:"0",rules:[n=>n>0||"Monthly rent is required"]},null,8,["modelValue","rules"])]),_:1}),e(u,{cols:"12",md:"6"},{default:l(()=>[e(h,{modelValue:t(a).deposit_amount,"onUpdate:modelValue":o[5]||(o[5]=n=>t(a).deposit_amount=n),label:"Deposit Amount (SAR)",type:"number",placeholder:"0"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",md:"6"},{default:l(()=>[e(h,{modelValue:t(a).lease_term_months,"onUpdate:modelValue":o[6]||(o[6]=n=>t(a).lease_term_months=n),label:"Lease Term (months)",type:"number",placeholder:"12"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",md:"6"},{default:l(()=>[e(h,{modelValue:t(a).available_from,"onUpdate:modelValue":o[7]||(o[7]=n=>t(a).available_from=n),label:"Available From",type:"date"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",md:"6"},{default:l(()=>[e(x,{modelValue:t(a).state_province,"onUpdate:modelValue":o[8]||(o[8]=n=>t(a).state_province=n),label:"State/Province",placeholder:"Select State/Province",items:t(v),loading:t(i),rules:[n=>!!n||"State/Province is required"]},null,8,["modelValue","items","loading","rules"])]),_:1}),e(u,{cols:"12",md:"6"},{default:l(()=>[e(x,{modelValue:t(a).city,"onUpdate:modelValue":o[9]||(o[9]=n=>t(a).city=n),label:"City",placeholder:"Select City",items:t(B),disabled:!t(a).state_province,rules:[n=>!!n||"City is required"]},null,8,["modelValue","items","disabled","rules"])]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(h,{modelValue:t(a).address,"onUpdate:modelValue":o[10]||(o[10]=n=>t(a).address=n),label:"Address",placeholder:"Enter full address",rules:[n=>!!n||"Address is required"]},null,8,["modelValue","rules"])]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(x,{modelValue:t(a).status,"onUpdate:modelValue":o[11]||(o[11]=n=>t(a).status=n),label:"Status",items:[{title:"Available",value:"available"},{title:"Under Negotiation",value:"under_negotiation"},{title:"Leased",value:"leased"},{title:"Unavailable",value:"unavailable"}]},null,8,["modelValue"])]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(S,{modelValue:t(a).contact_info,"onUpdate:modelValue":o[12]||(o[12]=n=>t(a).contact_info=n),label:"Contact Information",placeholder:"Enter contact information",rows:"2"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(ee,null,{default:l(()=>[e(G),e(A,{color:"secondary",variant:"tonal",disabled:t(m),onClick:P},{default:l(()=>o[14]||(o[14]=[C(" Cancel ")])),_:1,__:[14]},8,["disabled"]),e(A,{color:"primary",loading:t(m),onClick:_},{default:l(()=>o[15]||(o[15]=[C(" Create Property ")])),_:1,__:[15]},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),ze=j({__name:"EditPropertyDialog",props:{isDialogVisible:{type:Boolean},property:{}},emits:["update:isDialogVisible","propertyUpdated"],setup(z,{emit:p}){const y=z,g=p,a=f({title:"",description:"",property_type:"retail",size_sqm:0,state_province:"",city:"",address:"",postal_code:"11111",monthly_rent:0,deposit_amount:0,lease_term_months:12,available_from:"",status:"available",contact_info:""}),m=f(!1),b=O({get:()=>y.isDialogVisible,set:d=>g("update:isDialogVisible",d)});ie(()=>y.property,d=>{d&&(a.value={title:d.title,description:d.description,property_type:d.property_type,size_sqm:d.size_sqm,state_province:d.state_province,city:d.city,address:d.address,postal_code:d.postal_code,monthly_rent:d.monthly_rent,deposit_amount:d.deposit_amount,lease_term_months:d.lease_term_months,available_from:d.available_from,status:d.status,contact_info:d.contact_info})},{immediate:!0});const w=async()=>{if(y.property)try{m.value=!0,(await N.updateProperty(y.property.id,a.value)).success&&(g("propertyUpdated"),b.value=!1)}catch(d){console.error("Error updating property:",d)}finally{m.value=!1}},v=()=>{b.value=!1};return(d,i)=>{const B=ne,_=X,P=re,U=Y;return E(),F(Z,{modelValue:t(b),"onUpdate:modelValue":i[14]||(i[14]=o=>k(b)?b.value=o:null),"max-width":"900",persistent:""},{default:l(()=>[e(B,{onClick:v}),e(I,{title:"Edit Property"},{default:l(()=>[e(R,null,{default:l(()=>[e(ue,{onSubmit:se(w,["prevent"])},{default:l(()=>[e(K,null,{default:l(()=>[e(u,{cols:"12"},{default:l(()=>[e(_,{modelValue:t(a).title,"onUpdate:modelValue":i[0]||(i[0]=o=>t(a).title=o),label:"Property Title",placeholder:"Enter property title"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(P,{modelValue:t(a).description,"onUpdate:modelValue":i[1]||(i[1]=o=>t(a).description=o),label:"Description",placeholder:"Enter property description",rows:"3"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",md:"6"},{default:l(()=>[e(U,{modelValue:t(a).property_type,"onUpdate:modelValue":i[2]||(i[2]=o=>t(a).property_type=o),label:"Property Type",items:[{title:"Retail",value:"retail"},{title:"Office",value:"office"},{title:"Kiosk",value:"kiosk"},{title:"Food Court",value:"food_court"},{title:"Standalone",value:"standalone"}]},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",md:"6"},{default:l(()=>[e(_,{modelValue:t(a).size_sqm,"onUpdate:modelValue":i[3]||(i[3]=o=>t(a).size_sqm=o),label:"Size (m²)",type:"number",placeholder:"0"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",md:"6"},{default:l(()=>[e(_,{modelValue:t(a).monthly_rent,"onUpdate:modelValue":i[4]||(i[4]=o=>t(a).monthly_rent=o),label:"Monthly Rent (SAR)",type:"number",placeholder:"0"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",md:"6"},{default:l(()=>[e(_,{modelValue:t(a).deposit_amount,"onUpdate:modelValue":i[5]||(i[5]=o=>t(a).deposit_amount=o),label:"Deposit Amount (SAR)",type:"number",placeholder:"0"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",md:"6"},{default:l(()=>[e(_,{modelValue:t(a).lease_term_months,"onUpdate:modelValue":i[6]||(i[6]=o=>t(a).lease_term_months=o),label:"Lease Term (months)",type:"number",placeholder:"12"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",md:"6"},{default:l(()=>[e(_,{modelValue:t(a).available_from,"onUpdate:modelValue":i[7]||(i[7]=o=>t(a).available_from=o),label:"Available From",type:"date"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",md:"6"},{default:l(()=>[e(_,{modelValue:t(a).state_province,"onUpdate:modelValue":i[8]||(i[8]=o=>t(a).state_province=o),label:"State/Province",placeholder:"Enter state/province"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",md:"6"},{default:l(()=>[e(_,{modelValue:t(a).city,"onUpdate:modelValue":i[9]||(i[9]=o=>t(a).city=o),label:"City",placeholder:"Enter city"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",md:"6"},{default:l(()=>[e(_,{modelValue:t(a).postal_code,"onUpdate:modelValue":i[10]||(i[10]=o=>t(a).postal_code=o),label:"Postal Code",placeholder:"Enter postal code"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(_,{modelValue:t(a).address,"onUpdate:modelValue":i[11]||(i[11]=o=>t(a).address=o),label:"Address",placeholder:"Enter full address"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(U,{modelValue:t(a).status,"onUpdate:modelValue":i[12]||(i[12]=o=>t(a).status=o),label:"Status",items:[{title:"Available",value:"available"},{title:"Under Negotiation",value:"under_negotiation"},{title:"Leased",value:"leased"},{title:"Unavailable",value:"unavailable"}]},null,8,["modelValue"])]),_:1}),e(u,{cols:"12"},{default:l(()=>[e(P,{modelValue:t(a).contact_info,"onUpdate:modelValue":i[13]||(i[13]=o=>t(a).contact_info=o),label:"Contact Information",placeholder:"Enter contact information",rows:"2"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(ee,null,{default:l(()=>[e(G),e(A,{color:"secondary",variant:"tonal",disabled:t(m),onClick:v},{default:l(()=>i[15]||(i[15]=[C(" Cancel ")])),_:1,__:[15]},8,["disabled"]),e(A,{color:"primary",loading:t(m),onClick:w},{default:l(()=>i[16]||(i[16]=[C(" Update Property ")])),_:1,__:[16]},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Be={class:"font-weight-medium"},$e=j({__name:"DeletePropertyDialog",props:{isDialogVisible:{type:Boolean},property:{}},emits:["update:isDialogVisible","propertyDeleted"],setup(z,{emit:p}){const y=z,g=p,a=f(!1),m=O({get:()=>y.isDialogVisible,set:v=>g("update:isDialogVisible",v)}),b=async()=>{if(y.property)try{a.value=!0,(await N.deleteProperty(y.property.id)).success&&(g("propertyDeleted"),m.value=!1)}catch(v){console.error("Error deleting property:",v)}finally{a.value=!1}},w=()=>{m.value=!1};return(v,d)=>(E(),F(Z,{modelValue:t(m),"onUpdate:modelValue":d[0]||(d[0]=i=>k(m)?m.value=i:null),"max-width":"500"},{default:l(()=>[e(I,null,{default:l(()=>[e(de,{class:"d-flex align-center gap-2"},{default:l(()=>[e(L,{icon:"tabler-alert-circle",color:"error",size:"24"}),d[1]||(d[1]=C(" Confirm Deletion "))]),_:1,__:[1]}),e(R,null,{default:l(()=>{var i;return[d[2]||(d[2]=V("p",{class:"mb-2"}," Are you sure you want to delete this property? ",-1)),V("p",Be,D((i=v.property)==null?void 0:i.title),1),d[3]||(d[3]=V("p",{class:"text-sm text-error mt-2"}," This action cannot be undone. ",-1))]}),_:1,__:[2,3]}),e(ee,null,{default:l(()=>[e(G),e(A,{color:"secondary",variant:"tonal",disabled:t(a),onClick:w},{default:l(()=>d[4]||(d[4]=[C(" Cancel ")])),_:1,__:[4]},8,["disabled"]),e(A,{color:"error",loading:t(a),onClick:b},{default:l(()=>d[5]||(d[5]=[C(" Delete Property ")])),_:1,__:[5]},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),qe={class:"d-flex mb-6"},Le={class:"d-flex justify-space-between"},Fe={class:"d-flex flex-column gap-y-1"},Re={class:"text-body-1 text-high-emphasis"},Ne={class:"text-h4"},Ie={class:"me-3 d-flex gap-3"},Me={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},Oe={style:{"inline-size":"15.625rem"}},Ke={class:"text-body-1 font-weight-medium"},je={class:"text-body-1 font-weight-medium"},Ge={class:"text-body-2"},He={class:"text-body-1 font-weight-medium"},Qe={class:"text-body-2"},Je={class:"text-body-2"},xt=j({__name:"properties",setup(z){const p=f(""),y=f(""),g=f(""),a=f(10),m=f(1),b=f(),w=f(),v=f([]),d=f(!1),i=f([]),B=f(0),_=f(!1),P=f(!1),U=f(!1),o=f(null),H=[{title:"#",key:"index",sortable:!1},{title:"Title",key:"title"},{title:"Type",key:"property_type"},{title:"Location",key:"city"},{title:"Monthly Rent",key:"monthly_rent"},{title:"Size (m²)",key:"size_sqm"},{title:"Status",key:"status"},{title:"Created",key:"created_at"},{title:"Actions",key:"actions",sortable:!1}],h=f([{title:"Total Properties",value:"0",change:0,icon:"tabler-building",iconColor:"primary"},{title:"Available",value:"0",change:0,icon:"tabler-home-check",iconColor:"success"},{title:"Leased",value:"0",change:0,icon:"tabler-home-hand",iconColor:"info"},{title:"Under Negotiation",value:"0",change:0,icon:"tabler-message-circle",iconColor:"warning"}]),S=async()=>{try{d.value=!0;const c={page:m.value,per_page:a.value};p.value&&(c.search=p.value),y.value&&(c.status=y.value),g.value&&(c.property_type=g.value),b.value&&(c.sortBy=b.value),w.value&&(c.orderBy=w.value);const r=await N.getProperties(c);r.success&&r.data&&(i.value=r.data.data||[],B.value=r.data.total||0)}catch(c){console.error("Error fetching properties:",c)}finally{d.value=!1}},x=async()=>{const c=i.value.length,r=i.value.filter($=>$.status==="available").length,T=i.value.filter($=>$.status==="leased").length,Q=i.value.filter($=>$.status==="under_negotiation").length;h.value=[{title:"Total Properties",value:String(c),change:0,icon:"tabler-building",iconColor:"primary"},{title:"Available",value:String(r),change:0,icon:"tabler-home-check",iconColor:"success"},{title:"Leased",value:String(T),change:0,icon:"tabler-home-hand",iconColor:"info"},{title:"Under Negotiation",value:String(Q),change:0,icon:"tabler-message-circle",iconColor:"warning"}]},n=c=>{o.value=c,P.value=!0},pe=c=>{o.value=c,U.value=!0},me=async()=>{await S(),await x(),_.value=!1},ce=async()=>{await S(),await x(),P.value=!1},fe=async()=>{await S(),await x(),U.value=!1},ve=async()=>{if(v.value.length!==0)try{(await N.bulkDelete(v.value)).success&&(await S(),await x(),v.value=[])}catch(c){console.error("Error bulk deleting properties:",c)}},ye=async c=>{try{(await N.markLeased(c.id)).success&&(await S(),await x())}catch(r){console.error("Error marking property as leased:",r)}},_e=c=>{var r,T;b.value=(r=c.sortBy[0])==null?void 0:r.key,w.value=(T=c.sortBy[0])==null?void 0:T.order,S()},be=c=>new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return Ce(async()=>{await S(),await x()}),ie([p,y,g],()=>{m.value=1,S()}),(c,r)=>{const T=Y,Q=X,$=ge;return E(),te("section",null,[V("div",qe,[e(K,null,{default:l(()=>[(E(!0),te(Ue,null,ke(t(h),(s,M)=>(E(),F(u,{key:M,cols:"12",md:"3",sm:"6"},{default:l(()=>[e(I,null,{default:l(()=>[e(R,null,{default:l(()=>[V("div",Le,[V("div",Fe,[V("div",Re,D(s.title),1),V("h4",Ne,D(s.value),1)]),e(Se,{color:s.iconColor,variant:"tonal",rounded:"",size:"42"},{default:l(()=>[e(L,{icon:s.icon,size:"26"},null,8,["icon"])]),_:2},1032,["color"])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),e(I,null,{default:l(()=>[e(xe,{class:"pb-4"},{default:l(()=>[e(de,null,{default:l(()=>r[12]||(r[12]=[C("Filters")])),_:1,__:[12]})]),_:1}),e(R,null,{default:l(()=>[e(K,null,{default:l(()=>[e(u,{cols:"12",sm:"3"},{default:l(()=>[e(T,{modelValue:t(y),"onUpdate:modelValue":r[0]||(r[0]=s=>k(y)?y.value=s:null),placeholder:"Select Status",items:[{title:"Available",value:"available"},{title:"Under Negotiation",value:"under_negotiation"},{title:"Leased",value:"leased"},{title:"Unavailable",value:"unavailable"}],clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",sm:"3"},{default:l(()=>[e(T,{modelValue:t(g),"onUpdate:modelValue":r[1]||(r[1]=s=>k(g)?g.value=s:null),placeholder:"Property Type",items:[{title:"Retail",value:"retail"},{title:"Office",value:"office"},{title:"Kiosk",value:"kiosk"},{title:"Food Court",value:"food_court"},{title:"Standalone",value:"standalone"}],clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(ae),e(R,{class:"d-flex flex-wrap gap-4"},{default:l(()=>[V("div",Ie,[e(T,{"model-value":t(a),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"}],style:{"inline-size":"6.25rem"},"onUpdate:modelValue":r[2]||(r[2]=s=>a.value=parseInt(s,10))},null,8,["model-value"]),t(v).length>0?(E(),F(A,{key:0,variant:"tonal",color:"error",onClick:ve},{default:l(()=>[e(L,{icon:"tabler-trash",class:"me-2"}),C(" Delete Selected ("+D(t(v).length)+") ",1)]),_:1})):le("",!0)]),e(G),V("div",Me,[V("div",Oe,[e(Q,{modelValue:t(p),"onUpdate:modelValue":r[3]||(r[3]=s=>k(p)?p.value=s:null),placeholder:"Search Properties","prepend-inner-icon":"tabler-search"},null,8,["modelValue"])]),e(A,{"prepend-icon":"tabler-plus",onClick:r[4]||(r[4]=s=>_.value=!0)},{default:l(()=>r[13]||(r[13]=[C(" Add Property ")])),_:1,__:[13]})])]),_:1}),e(ae),e(Ve,{"items-per-page":t(a),"onUpdate:itemsPerPage":r[6]||(r[6]=s=>k(a)?a.value=s:null),"model-value":t(v),"onUpdate:modelValue":r[7]||(r[7]=s=>k(v)?v.value=s:null),page:t(m),"onUpdate:page":r[8]||(r[8]=s=>k(m)?m.value=s:null),items:t(i),"item-value":"id","items-length":t(B),headers:H,loading:t(d),class:"text-no-wrap","show-select":"","onUpdate:options":_e},{"item.index":l(({index:s})=>[V("div",Ke,D((t(m)-1)*t(a)+s+1),1)]),"item.title":l(({item:s})=>[V("div",je,D(s.title),1)]),"item.property_type":l(({item:s})=>[e(oe,{size:"small",color:"primary",variant:"tonal"},{default:l(()=>[C(D(s.property_type),1)]),_:2},1024)]),"item.city":l(({item:s})=>[V("div",Ge,D(s.city),1)]),"item.monthly_rent":l(({item:s})=>[V("div",He,D(t(De)(s.monthly_rent)),1)]),"item.size_sqm":l(({item:s})=>[V("div",Qe,D(s.size_sqm)+" m² ",1)]),"item.status":l(({item:s})=>[e(oe,{size:"small",color:s.status==="available"?"success":s.status==="leased"?"info":s.status==="under_negotiation"?"warning":"error",variant:"tonal"},{default:l(()=>[C(D(s.status.replace("_"," ")),1)]),_:2},1032,["color"])]),"item.created_at":l(({item:s})=>[V("div",Je,D(be(s.created_at)),1)]),"item.actions":l(({item:s})=>[e(A,{icon:"",variant:"text",color:"medium-emphasis",size:"small"},{default:l(()=>[e(L,{icon:"tabler-dots-vertical"}),e(he,{activator:"parent"},{default:l(()=>[e(Ae,null,{default:l(()=>[e(J,{onClick:M=>n(s)},{prepend:l(()=>[e(L,{icon:"tabler-edit"})]),default:l(()=>[e(W,null,{default:l(()=>r[14]||(r[14]=[C("Edit")])),_:1,__:[14]})]),_:2},1032,["onClick"]),s.status!=="leased"?(E(),F(J,{key:0,onClick:M=>ye(s)},{prepend:l(()=>[e(L,{icon:"tabler-home-check"})]),default:l(()=>[e(W,null,{default:l(()=>r[15]||(r[15]=[C("Mark as Leased")])),_:1,__:[15]})]),_:2},1032,["onClick"])):le("",!0),e(J,{onClick:M=>pe(s)},{prepend:l(()=>[e(L,{icon:"tabler-trash",color:"error"})]),default:l(()=>[e(W,{class:"text-error"},{default:l(()=>r[16]||(r[16]=[C(" Delete ")])),_:1,__:[16]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:l(()=>[e($,{page:t(m),"onUpdate:page":r[5]||(r[5]=s=>k(m)?m.value=s:null),"items-per-page":t(a),"total-items":t(B)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","model-value","page","items","items-length","loading"])]),_:1}),e(Ee,{"is-dialog-visible":t(_),"onUpdate:isDialogVisible":r[9]||(r[9]=s=>k(_)?_.value=s:null),onPropertyCreated:me},null,8,["is-dialog-visible"]),e(ze,{"is-dialog-visible":t(P),"onUpdate:isDialogVisible":r[10]||(r[10]=s=>k(P)?P.value=s:null),property:t(o),onPropertyUpdated:ce},null,8,["is-dialog-visible","property"]),e($e,{"is-dialog-visible":t(U),"onUpdate:isDialogVisible":r[11]||(r[11]=s=>k(U)?U.value=s:null),property:t(o),onPropertyDeleted:fe},null,8,["is-dialog-visible","property"])])}}});export{xt as default};
