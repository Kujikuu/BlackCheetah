import{a_ as T,d as te,aA as ae,g as n,w as j,E as se,c as g,o as u,y as t,l as o,k as a,aI as p,i as s,q as i,a as V,h as C,F as q,bl as re,r as G,t as d,a7 as W}from"./main-DTJHMfaq.js";import{N as oe,V as H,F as ne}from"./front-page-navbar-DoUfH86P.js";import{V as _}from"./VTextField-DW79TKGE.js";import{V as A,a as S}from"./VRow-vWSGPnzR.js";import{V as L,d as D,f as z,e as Q,g as J}from"./VCard-BEgq0Zx7.js";import{V as K}from"./VSelect-DcsiMjZB.js";import{V as ue,a as X}from"./VTabs-Bayg_NbT.js";import{V as ie,a as Y}from"./VWindowItem-CGc5GUTV.js";import{V as Z}from"./VChip-DCBBAlzy.js";import{V as de}from"./VPagination-DOW_yVym.js";import{_ as me}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VNodeRenderer-Bl0bbSWy.js";import"./useGenerateImageVariant-ipotATnN.js";/* empty css              */import"./NavbarThemeSwitcher.vue_vue_type_script_setup_true_lang-C7f3az8T.js";import"./VTooltip-Di4IVwgn.js";import"./VOverlay-Cl5-0R4l.js";import"./forwardRefs-B931MWyl.js";import"./scopeId-Do09yNC1.js";import"./VMenu-AaevCT9J.js";import"./VList-Ep_DohB9.js";import"./VDivider-zvRfNiVO.js";import"./VNavigationDrawer-D--l2lml.js";import"./VSpacer-C41_h5hf.js";import"./VField-BTPv3jI0.js";import"./form-BTCRKuvE.js";import"./VInput-DnyuMNdn.js";import"./VCheckboxBtn-g4un3INl.js";import"./VSelectionControl-C7u8c___.js";import"./VSlideGroup-D88xb4kb.js";class pe{getBaseUrl(){return"/api/v1/marketplace"}async getFranchises(f){return await T(`${this.getBaseUrl()}/franchises`,{method:"GET",query:f})}async getFranchiseDetails(f){return await T(`${this.getBaseUrl()}/franchises/${f}`)}async getProperties(f){return await T(`${this.getBaseUrl()}/properties`,{method:"GET",query:f})}async getPropertyDetails(f){return await T(`${this.getBaseUrl()}/properties/${f}`)}async submitInquiry(f){return await T(`${this.getBaseUrl()}/inquiries`,{method:"POST",body:f})}}const ee=new pe,fe={class:"marketplace-page"},ce={class:"marketplace-hero"},ve={class:"text-center py-16"},ye={class:"text-sm mb-2"},Ve={class:"d-flex justify-space-between text-sm"},be={class:"text-sm mt-2"},ge={key:1,class:"text-center py-8"},_e={class:"text-sm mb-2"},xe={class:"d-flex justify-space-between text-sm mb-2"},ke={class:"text-sm"},he={key:1,class:"text-center py-8"},Fe=te({__name:"marketplace",setup(le){const f=ae();f.skin="default";const m=n("franchises"),c=n(""),x=n(""),v=n(""),y=n(""),k=n(""),h=n(),F=n(),w=n(),U=n(),E=n([]),I=n([]),B=n(!1),b=n(1),$=n(12),M=n(0),N=async()=>{try{B.value=!0;const r={page:b.value,per_page:$.value};c.value&&(r.search=c.value),x.value&&(r.industry=x.value),v.value&&(r.country=v.value),y.value&&(r.city=y.value),h.value&&(r.min_franchise_fee=h.value),F.value&&(r.max_franchise_fee=F.value);const e=await ee.getFranchises(r);e.success&&e.data&&(E.value=e.data.data,M.value=e.data.total)}catch(r){console.error("Error fetching franchises:",r)}finally{B.value=!1}},R=async()=>{try{B.value=!0;const r={page:b.value,per_page:$.value};c.value&&(r.search=c.value),k.value&&(r.property_type=k.value),v.value&&(r.country=v.value),y.value&&(r.city=y.value),w.value&&(r.min_rent=w.value),U.value&&(r.max_rent=U.value);const e=await ee.getProperties(r);e.success&&e.data&&(I.value=e.data.data,M.value=e.data.total)}catch(r){console.error("Error fetching properties:",r)}finally{B.value=!1}};j(m,r=>{b.value=1,r==="franchises"?N():R()}),j([c,x,v,y,k,h,F,w,U],()=>{b.value=1,m.value==="franchises"?N():R()}),se(()=>{N()});const O=r=>r?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(r):"N/A";return(r,e)=>(u(),g("div",fe,[t(oe),o("section",ce,[t(H,null,{default:a(()=>[o("div",ve,[e[13]||(e[13]=o("h1",{class:"text-h2 text-white mb-4"}," Explore Franchise Opportunities ",-1)),e[14]||(e[14]=o("p",{class:"text-h6 text-white mb-8"}," Find the perfect franchise opportunity or commercial property for your business ",-1)),t(_,{modelValue:s(c),"onUpdate:modelValue":e[0]||(e[0]=l=>p(c)?c.value=l:null),placeholder:"Search franchises or properties...","prepend-inner-icon":"tabler-search",variant:"solo",class:"marketplace-search mx-auto",style:{"max-width":"600px"}},null,8,["modelValue"])])]),_:1})]),t(H,{class:"py-8"},{default:a(()=>[t(A,null,{default:a(()=>[t(S,{cols:"12",md:"3"},{default:a(()=>[t(L,null,{default:a(()=>[t(D,null,{default:a(()=>e[15]||(e[15]=[i("Filters")])),_:1,__:[15]}),t(z,null,{default:a(()=>[s(m)==="franchises"?(u(),V(K,{key:0,modelValue:s(x),"onUpdate:modelValue":e[1]||(e[1]=l=>p(x)?x.value=l:null),label:"Industry",items:["Food & Beverage","Retail","Services","Healthcare","Education"],clearable:"",class:"mb-4"},null,8,["modelValue"])):C("",!0),s(m)==="properties"?(u(),V(K,{key:1,modelValue:s(k),"onUpdate:modelValue":e[2]||(e[2]=l=>p(k)?k.value=l:null),label:"Property Type",items:["retail","office","kiosk","food_court","standalone"],clearable:"",class:"mb-4"},null,8,["modelValue"])):C("",!0),t(_,{modelValue:s(v),"onUpdate:modelValue":e[3]||(e[3]=l=>p(v)?v.value=l:null),label:"Country",clearable:"",class:"mb-4"},null,8,["modelValue"]),t(_,{modelValue:s(y),"onUpdate:modelValue":e[4]||(e[4]=l=>p(y)?y.value=l:null),label:"City",clearable:"",class:"mb-4"},null,8,["modelValue"]),s(m)==="franchises"?(u(),g(q,{key:2},[t(_,{modelValue:s(h),"onUpdate:modelValue":e[5]||(e[5]=l=>p(h)?h.value=l:null),label:"Min Franchise Fee",type:"number",clearable:"",class:"mb-4"},null,8,["modelValue"]),t(_,{modelValue:s(F),"onUpdate:modelValue":e[6]||(e[6]=l=>p(F)?F.value=l:null),label:"Max Franchise Fee",type:"number",clearable:"",class:"mb-4"},null,8,["modelValue"])],64)):C("",!0),s(m)==="properties"?(u(),g(q,{key:3},[t(_,{modelValue:s(w),"onUpdate:modelValue":e[7]||(e[7]=l=>p(w)?w.value=l:null),label:"Min Monthly Rent",type:"number",clearable:"",class:"mb-4"},null,8,["modelValue"]),t(_,{modelValue:s(U),"onUpdate:modelValue":e[8]||(e[8]=l=>p(U)?U.value=l:null),label:"Max Monthly Rent",type:"number",clearable:"",class:"mb-4"},null,8,["modelValue"])],64)):C("",!0)]),_:1})]),_:1})]),_:1}),t(S,{cols:"12",md:"9"},{default:a(()=>[t(ue,{modelValue:s(m),"onUpdate:modelValue":e[9]||(e[9]=l=>p(m)?m.value=l:null),class:"mb-6"},{default:a(()=>[t(X,{value:"franchises"},{default:a(()=>e[16]||(e[16]=[i(" Franchise Opportunities ")])),_:1,__:[16]}),t(X,{value:"properties"},{default:a(()=>e[17]||(e[17]=[i(" Available Properties ")])),_:1,__:[17]})]),_:1},8,["modelValue"]),s(B)?(u(),V(re,{key:0,indeterminate:"",color:"primary",class:"mb-4"})):C("",!0),t(ie,{modelValue:s(m),"onUpdate:modelValue":e[10]||(e[10]=l=>p(m)?m.value=l:null)},{default:a(()=>[t(Y,{value:"franchises"},{default:a(()=>[s(E).length>0?(u(),V(A,{key:0},{default:a(()=>[(u(!0),g(q,null,G(s(E),l=>(u(),V(S,{key:l.id,cols:"12",sm:"6",md:"4"},{default:a(()=>[t(L,{class:"franchise-card"},{default:a(()=>[t(Q,{src:l.logo||"/images/placeholder.png",height:"200",cover:""},null,8,["src"]),t(D,null,{default:a(()=>[i(d(l.brand_name),1)]),_:2},1024),t(z,null,{default:a(()=>{var P;return[t(Z,{size:"small",color:"primary",class:"mb-2"},{default:a(()=>[i(d(l.industry),1)]),_:2},1024),o("p",ye,d((P=l.description)==null?void 0:P.substring(0,100))+"... ",1),o("div",Ve,[o("span",null,[e[18]||(e[18]=o("strong",null,"Fee:",-1)),i(" "+d(O(l.franchise_fee)),1)]),o("span",null,[e[19]||(e[19]=o("strong",null,"Units:",-1)),i(" "+d(l.total_units),1)])]),o("div",be,[e[20]||(e[20]=o("strong",null,"Location:",-1)),i(" "+d(l.headquarters_city)+", "+d(l.headquarters_country),1)])]}),_:2},1024),t(J,null,{default:a(()=>[t(W,{color:"primary",variant:"tonal",block:"",to:`/marketplace/franchise/${l.id}`},{default:a(()=>e[21]||(e[21]=[i(" Learn More ")])),_:2,__:[21]},1032,["to"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(u(),g("div",ge,e[22]||(e[22]=[o("p",{class:"text-h6"}," No franchises found ",-1)])))]),_:1}),t(Y,{value:"properties"},{default:a(()=>[s(I).length>0?(u(),V(A,{key:0},{default:a(()=>[(u(!0),g(q,null,G(s(I),l=>(u(),V(S,{key:l.id,cols:"12",sm:"6",md:"4"},{default:a(()=>[t(L,{class:"property-card"},{default:a(()=>{var P;return[t(Q,{src:((P=l.images)==null?void 0:P[0])||"/images/placeholder.png",height:"200",cover:""},null,8,["src"]),t(D,null,{default:a(()=>[i(d(l.title),1)]),_:2},1024),t(z,null,{default:a(()=>[t(Z,{size:"small",color:"success",class:"mb-2"},{default:a(()=>[i(d(l.property_type),1)]),_:2},1024),o("p",_e,d(l.description.substring(0,100))+"... ",1),o("div",xe,[o("span",null,[e[23]||(e[23]=o("strong",null,"Rent:",-1)),i(" "+d(O(l.monthly_rent))+"/mo",1)]),o("span",null,[e[24]||(e[24]=o("strong",null,"Size:",-1)),i(" "+d(l.size_sqft)+" sqft",1)])]),o("div",ke,[e[25]||(e[25]=o("strong",null,"Location:",-1)),i(" "+d(l.city)+", "+d(l.country),1)])]),_:2},1024),t(J,null,{default:a(()=>[t(W,{color:"primary",variant:"tonal",block:"",to:`/marketplace/property/${l.id}`},{default:a(()=>e[26]||(e[26]=[i(" View Details ")])),_:2,__:[26]},1032,["to"])]),_:2},1024)]}),_:2},1024)]),_:2},1024))),128))]),_:1})):(u(),g("div",he,e[27]||(e[27]=[o("p",{class:"text-h6"}," No properties found ",-1)])))]),_:1})]),_:1},8,["modelValue"]),s(M)>s($)?(u(),V(de,{key:1,modelValue:s(b),"onUpdate:modelValue":[e[11]||(e[11]=l=>p(b)?b.value=l:null),e[12]||(e[12]=l=>s(m)==="franchises"?N():R())],length:Math.ceil(s(M)/s($)),class:"mt-6"},null,8,["modelValue","length"])):C("",!0)]),_:1})]),_:1})]),_:1}),t(ne)]))}}),ll=me(Fe,[["__scopeId","data-v-acdb8af5"]]);export{ll as default};
