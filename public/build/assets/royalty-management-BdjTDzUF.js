import{_ as se,V as re}from"./VDialog-DKkWp4GN.js";import{d as ie,g as n,a as G,o as N,k as o,y as a,aI as X,i as g,l as r,q as m,t as p,a7 as k,O as Z,w as Te,E as Ae,c as Me,av as M,h as ee,b5 as qe}from"./main-BPhS35rw.js";import{f as Y}from"./franchise-BPXueY0Z.js";import{r as B,_ as Pe,a as Fe}from"./ViewRoyaltyDetailsDialog.vue_vue_type_script_setup_true_lang-Ceh5WuFc.js";import{V as q,f as $,h as ne,b as te,a as Ee,d as je,g as Oe}from"./VCard-BzA-_fsU.js";import{V as P,a as u}from"./VRow-BBpj0UHg.js";import{V as R}from"./VSelect-CMXFgzzc.js";import{V as Ne}from"./VAlert-CiCDJoow.js";import{V as ue}from"./VSpacer-BZoddywn.js";import{f as O}from"./formatters--UtN2sCw.js";import{S as Be}from"./saudi-riyal-DymAW43Z.js";import{V as $e}from"./VDivider-D5TM1l_v.js";import{V as Ie}from"./VDataTable-CpPkgXjX.js";import{V as ae}from"./VTooltip-2YE7Xj5j.js";import{V as le}from"./VChip-D4pF-Hih.js";import{V as ze}from"./VForm-DfkEz1YK.js";import{V as x}from"./VTextField-DVYvDh-5.js";import{V as oe}from"./VTextarea-BMZlRSe-.js";import"./VOverlay-DT_ig7Kx.js";import"./forwardRefs-B931MWyl.js";import"./scopeId-CVHpW26W.js";import"./VMenu-BFWVwuN9.js";import"./api-router-DNaOhggD.js";import"./VFileInput-C4-YBSvt.js";import"./VField-Cw0SCwyI.js";import"./form-DOPuC2wB.js";import"./VInput-ChEAXyAR.js";import"./VTable-CjdTM1xT.js";/* empty css              */import"./VList-BOGntWk4.js";import"./VCheckboxBtn-C2M95TWh.js";import"./VSelectionControl-BCX0I6pt.js";import"./VSlideGroup-DN13h1yr.js";const Le={class:"text-body-2"},Ye=ie({__name:"ExportRoyaltyDialog",props:{isDialogVisible:{type:Boolean},selectedPeriod:{}},emits:["update:isDialogVisible","export-completed"],setup(H,{emit:F}){const C=H,b=F,c=n("csv"),V=n("all"),w=n(!1),S=[{title:"CSV",value:"csv"},{title:"Excel",value:"excel"}],h=[{title:"All Royalties",value:"all"},{title:"Paid Only",value:"paid"},{title:"Pending Only",value:"pending"},{title:"Overdue Only",value:"overdue"}],U=async()=>{try{w.value=!0;const s=await B.exportRoyalties({format:c.value,data_type:V.value,period:C.selectedPeriod}),i=window.URL.createObjectURL(s),_=document.createElement("a");_.href=i,_.download=`royalties_${C.selectedPeriod}_${new Date().toISOString().split("T")[0]}.${c.value}`,document.body.appendChild(_),_.click(),document.body.removeChild(_),window.URL.revokeObjectURL(i),b("export-completed"),b("update:isDialogVisible",!1)}catch(s){console.error("Export failed:",s)}finally{w.value=!1}},T=()=>{b("update:isDialogVisible",!1)};return(s,i)=>{const _=se;return N(),G(re,{"model-value":s.isDialogVisible,"max-width":"600","onUpdate:modelValue":i[2]||(i[2]=v=>b("update:isDialogVisible",v))},{default:o(()=>[a(_,{onClick:T}),a(q,{title:"Export Royalty Data"},{default:o(()=>[a($,null,{default:o(()=>[a(P,null,{default:o(()=>[a(u,{cols:"12"},{default:o(()=>[a(R,{modelValue:g(V),"onUpdate:modelValue":i[0]||(i[0]=v=>X(V)?V.value=v:null),items:h,"item-title":"title","item-value":"value",label:"Data Type",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1}),a(u,{cols:"12"},{default:o(()=>[a(R,{modelValue:g(c),"onUpdate:modelValue":i[1]||(i[1]=v=>X(c)?c.value=v:null),items:S,"item-title":"title","item-value":"value",label:"Export Format",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1}),a(Ne,{type:"info",variant:"tonal",class:"mt-4"},{default:o(()=>{var v;return[r("div",Le,[i[3]||(i[3]=r("strong",null,"Current Selection:",-1)),i[4]||(i[4]=r("br",null,null,-1)),m(" Period: "+p(s.selectedPeriod.charAt(0).toUpperCase()+s.selectedPeriod.slice(1)),1),i[5]||(i[5]=r("br",null,null,-1)),m(" Data Type: "+p((v=h.find(I=>I.value===g(V)))==null?void 0:v.title),1),i[6]||(i[6]=r("br",null,null,-1)),m(" Format: "+p(g(c).toUpperCase()),1)])]}),_:1})]),_:1}),a(ne,null,{default:o(()=>[a(ue),a(k,{color:"secondary",variant:"tonal",onClick:T},{default:o(()=>i[7]||(i[7]=[m(" Cancel ")])),_:1,__:[7]}),a(k,{color:"primary",loading:g(w),onClick:U},{default:o(()=>i[8]||(i[8]=[m(" Export Data ")])),_:1,__:[8]},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model-value"])}}}),Ge={class:"d-flex justify-space-between align-center flex-wrap gap-4"},He={class:"d-flex gap-3 align-center flex-wrap"},Qe={class:"d-flex align-center justify-space-between"},Je={class:"text-h4 text-success"},Ke={class:"d-flex align-center justify-space-between"},We={class:"text-h4 text-warning"},Xe={class:"font-weight-medium"},Ze={class:"font-weight-medium text-primary"},et={class:"text-body-2 text-medium-emphasis"},tt={class:"text-body-2"},at={class:"font-weight-medium text-info"},lt={class:"font-weight-medium text-success"},ot={class:"d-flex gap-2"},Ot=ie({__name:"royalty-management",setup(H){const F=n(!1),C=n(!1),b=n(!1),c=n("all"),V=n(!1),w=n(!1),S=n(!1),h=n(!1),U=n(null),T=n(null);n("csv"),n("all");const s=n({franchise_id:null,unit_id:null,franchisee_id:null,type:"monthly",period_year:new Date().getFullYear(),period_month:new Date().getMonth()+1,period_quarter:null,base_revenue:0,royalty_rate:8.5,royalty_amount:0,marketing_fee_rate:2,marketing_fee_amount:0,technology_fee_rate:0,technology_fee_amount:50,other_fees:0,adjustments:0,total_amount:0,due_date:"",status:"pending",description:"",notes:"",is_auto_generated:!1}),i=n([]),_=n([]),v=n([]),I=n({amount_paid:0,payment_date:"",payment_type:"",attachment:null}),Q=n([]),z=n({royalty_collected_till_date:0,upcoming_royalties:0,total_royalties:0,pending_amount:0,paid_amount:0,overdue_amount:0,overdue_count:0}),de=Z(()=>{var t;const e=(t=z.value)==null?void 0:t.royalty_collected_till_date;return e?Number(e):0}),me=Z(()=>{var t;const e=(t=z.value)==null?void 0:t.upcoming_royalties;return e?Number(e):0}),ce=[{title:"All Time",value:"all"},{title:"This Year",value:"yearly"},{title:"This Month",value:"monthly"},{title:"Today",value:"daily"}],ye=[{title:"Bank Transfer",value:"bank_transfer"},{title:"Credit Card",value:"credit_card"},{title:"Mada",value:"mada"},{title:"STC Pay",value:"stc_pay"},{title:"SADAD",value:"sadad"},{title:"Check",value:"check"},{title:"Cash",value:"cash"},{title:"Online Payment",value:"online_payment"}],pe=[{title:"Billing Period",key:"billingPeriod",sortable:!0},{title:"Franchisee Name",key:"franchiseeName",sortable:!0},{title:"Store Location",key:"storeLocation",sortable:!0},{title:"Due Date",key:"dueDate",sortable:!0},{title:"Gross Sales (SAR)",key:"grossSales",sortable:!0},{title:"Royalty %",key:"royaltyPercentage",sortable:!0},{title:"Amount (SAR)",key:"amount",sortable:!0},{title:"Status",key:"status",sortable:!0},{title:"Actions",key:"actions",sortable:!1}],E=async()=>{try{F.value=!0;const e=await B.getRoyalties({period:c.value});Q.value=e.data.data}catch{}finally{F.value=!1}},j=async()=>{try{C.value=!0;const e=await B.getStatistics({period:c.value});z.value=e.data}catch{}finally{C.value=!1}},fe=()=>{V.value=!0},ve=()=>{console.log("Export completed successfully")},_e=e=>{T.value=e,S.value=!0},J=e=>{U.value=e,I.value={amount_paid:e.amount,payment_date:new Date().toISOString().split("T")[0],payment_type:"",attachment:null},w.value=!0},ge=async()=>{await E(),await j(),w.value=!1,U.value=null},be=e=>{J(e)},Ve=e=>{switch(e){case"paid":return"success";case"pending":return"warning";case"overdue":return"error";default:return"default"}},he=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),xe=async()=>{var e,t;try{const d=await Y.getFranchiseData();if(d.success&&d.data){const l=d.data.franchise||d.data;i.value=[{id:l.id,business_name:((e=l.legalDetails)==null?void 0:e.legalEntityName)||((t=l.franchiseDetails)==null?void 0:t.franchiseName)||"Unknown"}],i.value.length===1&&(s.value.franchise_id=i.value[0].id)}}catch(d){console.error("Error fetching franchises:",d)}},we=async()=>{try{const e=await Y.getUnits();if(e.success&&e.data){const t=e.data.data||[];_.value=t.map(d=>({id:d.id,unit_name:d.unit_name||d.name||`Unit ${d.id}`}))}}catch(e){console.error("Error fetching units:",e)}},ke=async()=>{try{const e=await Y.getFranchisees();if(e.success&&e.data){const t=e.data.data||[];v.value=t.map(d=>({id:d.id,name:d.name||d.fullName||`Franchisee ${d.id}`}))}}catch(e){console.error("Error fetching franchisees:",e)}},D=()=>{const e=s.value.base_revenue;s.value.royalty_amount=e*s.value.royalty_rate/100,s.value.marketing_fee_amount=e*s.value.marketing_fee_rate/100,s.value.technology_fee_rate>0&&(s.value.technology_fee_amount=e*s.value.technology_fee_rate/100),s.value.total_amount=s.value.royalty_amount+s.value.marketing_fee_amount+s.value.technology_fee_amount+s.value.other_fees+s.value.adjustments},K=async()=>{try{if(b.value=!0,Se(),!await Ce())return;D();const t={...s.value,franchise_id:s.value.franchise_id||void 0,unit_id:s.value.unit_id||void 0,franchisee_id:s.value.franchisee_id||void 0};(await B.createRoyalty(t)).success&&(W(),h.value=!1,await E(),await j())}catch{}finally{b.value=!1}},W=()=>{s.value={franchise_id:null,unit_id:null,franchisee_id:null,type:"monthly",period_year:new Date().getFullYear(),period_month:new Date().getMonth()+1,period_quarter:null,base_revenue:0,royalty_rate:8.5,royalty_amount:0,marketing_fee_rate:2,marketing_fee_amount:0,technology_fee_rate:0,technology_fee_amount:50,other_fees:0,adjustments:0,total_amount:0,due_date:"",status:"pending",description:"",notes:"",is_auto_generated:!1}},De=()=>{W(),h.value=!0};Te(c,()=>{E(),j()}),Ae(()=>{E(),j(),xe(),we(),ke()});const y=n({}),Re=[{title:"Monthly",value:"monthly"},{title:"Quarterly",value:"quarterly"}],f={franchise_id:[e=>!!e||"Franchise selection is required"],franchisee_id:[e=>!!e||"Franchisee selection is required"],type:[e=>!!e||"Royalty type is required",e=>["monthly","quarterly"].includes(e)||"Invalid royalty type"],period_year:[e=>!!e||"Period year is required",e=>e>=2020||"Period year must be at least 2020",e=>e<=new Date().getFullYear()+1||"Period year cannot be more than next year"],period_month:[e=>s.value.type==="monthly"?!!e||"Period month is required for monthly royalties":!0,e=>e&&(e<1||e>12)?"Period month must be between 1 and 12":!0],period_quarter:[e=>s.value.type==="quarterly"?!!e||"Period quarter is required for quarterly royalties":!0,e=>e&&(e<1||e>4)?"Period quarter must be between 1 and 4":!0],base_revenue:[e=>e!=null&&e!==""||"Base revenue is required",e=>e>=0||"Base revenue cannot be negative",e=>e<=99999999999e-2||"Base revenue is too large"],royalty_rate:[e=>e!=null&&e!==""||"Royalty rate is required",e=>e>=0||"Royalty rate cannot be negative",e=>e<=100||"Royalty rate cannot exceed 100%"],marketing_fee_rate:[e=>e!=null&&e!==""||"Marketing fee rate is required",e=>e>=0||"Marketing fee rate cannot be negative",e=>e<=100||"Marketing fee rate cannot exceed 100%"],due_date:[e=>!!e||"Due date is required",e=>{if(e){const t=new Date().toISOString().split("T")[0];return e>=t||"Due date cannot be in the past"}return!0}],technology_fee_amount:[e=>e==null||e===""||e>=0||"Technology fee cannot be negative",e=>e==null||e===""||e<=99999999999e-2||"Technology fee is too large"],other_fees:[e=>e==null||e===""||e>=0||"Other fees cannot be negative",e=>e==null||e===""||e<=99999999999e-2||"Other fees is too large"],adjustments:[e=>e==null||e===""||e>=-99999999999e-2||"Adjustments value is too low",e=>e==null||e===""||e<=99999999999e-2||"Adjustments value is too high"],description:[e=>!e||e.length<=1e3||"Description cannot exceed 1000 characters"],notes:[e=>!e||e.length<=2e3||"Notes cannot exceed 2000 characters"]},L=n(!1),A=n(),Ce=async()=>{if(A.value){const{valid:e}=await A.value.validate();return L.value=e,e}return!1},Se=()=>{y.value={},A.value&&A.value.resetValidation()};return(e,t)=>{const d=se;return N(),Me("section",null,[a(P,{class:"mb-6"},{default:o(()=>[a(u,{cols:"12"},{default:o(()=>[r("div",Ge,[t[25]||(t[25]=r("div",null,[r("h4",{class:"text-h4 mb-1"}," Royalty Management "),r("p",{class:"text-body-1 text-medium-emphasis"}," Track and manage royalty payments from all franchise units ")],-1)),r("div",He,[a(R,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=l=>c.value=l),items:ce,"item-title":"title","item-value":"value",density:"compact",style:{"min-width":"120px"},variant:"outlined"},null,8,["modelValue"]),a(k,{color:"success",variant:"elevated",onClick:De},{default:o(()=>[a(M,{icon:"tabler-plus",class:"me-2"}),t[23]||(t[23]=m(" Create Royalty "))]),_:1,__:[23]}),a(k,{color:"primary",variant:"elevated",onClick:fe},{default:o(()=>[a(M,{icon:"tabler-download",class:"me-2"}),t[24]||(t[24]=m(" Export "))]),_:1,__:[24]})])])]),_:1})]),_:1}),a(P,{class:"mb-6"},{default:o(()=>[a(u,{cols:"12",md:"6"},{default:o(()=>[a(q,null,{default:o(()=>[a($,null,{default:o(()=>[r("div",Qe,[r("div",null,[t[26]||(t[26]=r("h6",{class:"text-h6 mb-1"}," Royalty Collected Till Date ",-1)),t[27]||(t[27]=r("div",{class:"text-body-2 text-medium-emphasis mb-3"}," Total payments received ",-1)),r("h4",Je,p(g(O)(de.value,"SAR",!0)),1)]),a(te,{color:"success",variant:"tonal",size:"56"},{default:o(()=>[a(g(Be),{size:28})]),_:1})])]),_:1})]),_:1})]),_:1}),a(u,{cols:"12",md:"6"},{default:o(()=>[a(q,null,{default:o(()=>[a($,null,{default:o(()=>[r("div",Ke,[r("div",null,[t[28]||(t[28]=r("h6",{class:"text-h6 mb-1"}," Upcoming Royalties ",-1)),t[29]||(t[29]=r("div",{class:"text-body-2 text-medium-emphasis mb-3"}," Pending payments due ",-1)),r("h4",We,p(g(O)(me.value,"SAR",!0)),1)]),a(te,{color:"warning",variant:"tonal",size:"56"},{default:o(()=>[a(M,{icon:"tabler-clock",size:"28"})]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),a(P,null,{default:o(()=>[a(u,{cols:"12"},{default:o(()=>[a(q,null,{default:o(()=>[a(Ee,{class:"pb-4"},{default:o(()=>[a(je,{class:"text-h6"},{default:o(()=>t[30]||(t[30]=[m(" Royalty Records ")])),_:1,__:[30]}),a(Oe,{class:"text-body-2"},{default:o(()=>t[31]||(t[31]=[m(" Manage royalty payments and track collection status ")])),_:1,__:[31]})]),_:1}),a($e),a(Ie,{headers:pe,items:Q.value,"items-per-page":10,class:"text-no-wrap"},{"item.billingPeriod":o(({item:l})=>[r("div",Xe,p(l.billing_period),1)]),"item.franchiseeName":o(({item:l})=>[r("div",Ze,p(l.franchisee_name),1)]),"item.storeLocation":o(({item:l})=>[r("div",et,p(l.store_location),1)]),"item.dueDate":o(({item:l})=>[r("div",tt,p(he(l.due_date)),1)]),"item.grossSales":o(({item:l})=>[r("div",at,p(g(O)(l.gross_sales||0,"SAR",!1)),1)]),"item.royaltyPercentage":o(({item:l})=>[a(le,{size:"small",variant:"tonal",color:"primary"},{default:o(()=>[m(p(l.royalty_percentage)+"% ",1)]),_:2},1024)]),"item.amount":o(({item:l})=>[r("div",lt,p(g(O)(l.amount||0,"SAR",!1)),1)]),"item.status":o(({item:l})=>[a(le,{color:Ve(l.status),size:"small",variant:"tonal",class:"text-capitalize"},{default:o(()=>[m(p(l.status),1)]),_:2},1032,["color"])]),"item.actions":o(({item:l})=>[r("div",ot,[a(k,{icon:"",size:"small",color:"info",variant:"text",onClick:Ue=>_e(l)},{default:o(()=>[a(M,{icon:"tabler-eye",size:"20"}),a(ae,{activator:"parent",location:"top"},{default:o(()=>t[32]||(t[32]=[m(" View Details ")])),_:1,__:[32]})]),_:2},1032,["onClick"]),l.status!=="paid"?(N(),G(k,{key:0,icon:"",size:"small",color:"success",variant:"text",onClick:Ue=>J(l)},{default:o(()=>[a(M,{icon:"tabler-check",size:"20"}),a(ae,{activator:"parent",location:"top"},{default:o(()=>t[33]||(t[33]=[m(" Mark as Completed ")])),_:1,__:[33]})]),_:2},1032,["onClick"])):ee("",!0)])]),_:1},8,["items"])]),_:1})]),_:1})]),_:1}),a(Ye,{"is-dialog-visible":V.value,"onUpdate:isDialogVisible":t[1]||(t[1]=l=>V.value=l),"selected-period":c.value,onExportCompleted:ve},null,8,["is-dialog-visible","selected-period"]),a(re,{modelValue:h.value,"onUpdate:modelValue":t[20]||(t[20]=l=>h.value=l),"max-width":"600",persistent:""},{default:o(()=>[a(d,{onClick:t[2]||(t[2]=l=>h.value=!1)}),a(q,{title:"Create New Royalty Record"},{default:o(()=>[a($,null,{default:o(()=>[a(ze,{ref_key:"formRef",ref:A,modelValue:L.value,"onUpdate:modelValue":t[18]||(t[18]=l=>L.value=l),onSubmit:qe(K,["prevent"])},{default:o(()=>[a(P,null,{default:o(()=>[a(u,{cols:"12",md:"6"},{default:o(()=>[a(R,{modelValue:s.value.franchise_id,"onUpdate:modelValue":t[3]||(t[3]=l=>s.value.franchise_id=l),items:i.value,"item-title":"business_name","item-value":"id",label:"Franchise *",variant:"outlined",density:"compact",required:"","return-object":!1,rules:f.franchise_id,"error-messages":y.value.franchise_id},null,8,["modelValue","items","rules","error-messages"])]),_:1}),a(u,{cols:"12",md:"6"},{default:o(()=>[a(R,{modelValue:s.value.unit_id,"onUpdate:modelValue":t[4]||(t[4]=l=>s.value.unit_id=l),items:_.value,"item-title":"unit_name","item-value":"id",label:"Unit",variant:"outlined",density:"compact","return-object":!1,clearable:""},null,8,["modelValue","items"])]),_:1}),a(u,{cols:"12",md:"6"},{default:o(()=>[a(R,{modelValue:s.value.franchisee_id,"onUpdate:modelValue":t[5]||(t[5]=l=>s.value.franchisee_id=l),items:v.value,"item-title":"name","item-value":"id",label:"Franchisee *",variant:"outlined",density:"compact",required:"","return-object":!1,rules:f.franchisee_id,"error-messages":y.value.franchisee_id},null,8,["modelValue","items","rules","error-messages"])]),_:1}),a(u,{cols:"12",md:"6"},{default:o(()=>[a(R,{modelValue:s.value.type,"onUpdate:modelValue":t[6]||(t[6]=l=>s.value.type=l),items:Re,"item-title":"title","item-value":"value",label:"Royalty Type *",variant:"outlined",density:"compact",required:"",rules:f.type,"error-messages":y.value.type},null,8,["modelValue","rules","error-messages"])]),_:1}),a(u,{cols:"12",md:"4"},{default:o(()=>[a(x,{modelValue:s.value.period_year,"onUpdate:modelValue":t[7]||(t[7]=l=>s.value.period_year=l),modelModifiers:{number:!0},label:"Period Year *",type:"number",variant:"outlined",density:"compact",required:"",rules:f.period_year,"error-messages":y.value.period_year},null,8,["modelValue","rules","error-messages"])]),_:1}),s.value.type==="monthly"?(N(),G(u,{key:0,cols:"12",md:"4"},{default:o(()=>[a(x,{modelValue:s.value.period_month,"onUpdate:modelValue":t[8]||(t[8]=l=>s.value.period_month=l),modelModifiers:{number:!0},label:"Period Month *",type:"number",min:"1",max:"12",variant:"outlined",density:"compact",required:"",rules:f.period_month,"error-messages":y.value.period_month},null,8,["modelValue","rules","error-messages"])]),_:1})):ee("",!0),a(u,{cols:"12",md:"4"},{default:o(()=>[a(x,{modelValue:s.value.due_date,"onUpdate:modelValue":t[9]||(t[9]=l=>s.value.due_date=l),label:"Due Date *",type:"date",variant:"outlined",density:"compact",required:"",rules:f.due_date,"error-messages":y.value.due_date},null,8,["modelValue","rules","error-messages"])]),_:1}),a(u,{cols:"12",md:"6"},{default:o(()=>[a(x,{modelValue:s.value.base_revenue,"onUpdate:modelValue":t[10]||(t[10]=l=>s.value.base_revenue=l),modelModifiers:{number:!0},label:"Base Revenue (SAR) *",type:"number",step:"0.01",variant:"outlined",density:"compact",required:"",rules:f.base_revenue,"error-messages":y.value.base_revenue,onInput:D},null,8,["modelValue","rules","error-messages"])]),_:1}),a(u,{cols:"12",md:"6"},{default:o(()=>[a(x,{modelValue:s.value.royalty_rate,"onUpdate:modelValue":t[11]||(t[11]=l=>s.value.royalty_rate=l),modelModifiers:{number:!0},label:"Royalty Rate (%)",type:"number",step:"0.1",variant:"outlined",density:"compact",rules:f.royalty_rate,"error-messages":y.value.royalty_rate,onInput:D},null,8,["modelValue","rules","error-messages"])]),_:1}),a(u,{cols:"12",md:"6"},{default:o(()=>[a(x,{modelValue:s.value.marketing_fee_rate,"onUpdate:modelValue":t[12]||(t[12]=l=>s.value.marketing_fee_rate=l),modelModifiers:{number:!0},label:"Marketing Fee Rate (%)",type:"number",step:"0.1",variant:"outlined",density:"compact",rules:f.marketing_fee_rate,"error-messages":y.value.marketing_fee_rate,onInput:D},null,8,["modelValue","rules","error-messages"])]),_:1}),a(u,{cols:"12",md:"6"},{default:o(()=>[a(x,{modelValue:s.value.technology_fee_amount,"onUpdate:modelValue":t[13]||(t[13]=l=>s.value.technology_fee_amount=l),modelModifiers:{number:!0},label:"Technology Fee (SAR)",type:"number",step:"0.01",variant:"outlined",density:"compact",rules:f.technology_fee_amount,"error-messages":y.value.technology_fee_amount,onInput:D},null,8,["modelValue","rules","error-messages"])]),_:1}),a(u,{cols:"12",md:"6"},{default:o(()=>[a(x,{modelValue:s.value.other_fees,"onUpdate:modelValue":t[14]||(t[14]=l=>s.value.other_fees=l),modelModifiers:{number:!0},label:"Other Fees (SAR)",type:"number",step:"0.01",variant:"outlined",density:"compact",rules:f.other_fees,"error-messages":y.value.other_fees,onInput:D},null,8,["modelValue","rules","error-messages"])]),_:1}),a(u,{cols:"12",md:"6"},{default:o(()=>[a(x,{modelValue:s.value.adjustments,"onUpdate:modelValue":t[15]||(t[15]=l=>s.value.adjustments=l),modelModifiers:{number:!0},label:"Adjustments (SAR)",type:"number",step:"0.01",variant:"outlined",density:"compact",rules:f.adjustments,"error-messages":y.value.adjustments,onInput:D},null,8,["modelValue","rules","error-messages"])]),_:1}),a(u,{cols:"12"},{default:o(()=>[a(oe,{modelValue:s.value.description,"onUpdate:modelValue":t[16]||(t[16]=l=>s.value.description=l),label:"Description",variant:"outlined",density:"compact",rows:"2"},null,8,["modelValue"])]),_:1}),a(u,{cols:"12"},{default:o(()=>[a(oe,{modelValue:s.value.notes,"onUpdate:modelValue":t[17]||(t[17]=l=>s.value.notes=l),label:"Notes",variant:"outlined",density:"compact",rows:"2"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(ne,null,{default:o(()=>[a(ue),a(k,{color:"secondary",variant:"tonal",disabled:b.value,onClick:t[19]||(t[19]=l=>h.value=!1)},{default:o(()=>t[34]||(t[34]=[m(" Cancel ")])),_:1,__:[34]},8,["disabled"]),a(k,{color:"primary",loading:b.value,onClick:K},{default:o(()=>t[35]||(t[35]=[m(" Create Royalty ")])),_:1,__:[35]},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(Pe,{"is-dialog-visible":w.value,"onUpdate:isDialogVisible":t[21]||(t[21]=l=>w.value=l),"selected-royalty":U.value,"payment-type-options":ye,onPaymentSubmitted:ge},null,8,["is-dialog-visible","selected-royalty"]),a(Fe,{"is-dialog-visible":S.value,"onUpdate:isDialogVisible":t[22]||(t[22]=l=>S.value=l),"viewed-royalty":T.value,onMarkAsCompleted:be},null,8,["is-dialog-visible","viewed-royalty"])])}}});export{Ot as default};
