import{_ as mt,V as ft}from"./VDialog-rJ68ysHd.js";import{_ as pt}from"./AppTextarea.vue_vue_type_script_setup_true_lang-DMn6sV1L.js";import{_ as vt}from"./AppSelect.vue_vue_type_script_setup_true_lang-CfL7t8wr.js";import{_ as yt}from"./AppTextField.vue_vue_type_script_setup_true_lang-dQJOVDTw.js";import{_ as Ne}from"./ConfirmDeleteDialog.vue_vue_type_script_setup_true_lang-BrDJJcUr.js";import{_ as Ue}from"./AddDocumentDialog.vue_vue_type_script_setup_true_lang-D0wgJz2y.js";import{d as bt,e as gt,g as _,O as P,E as _t,aQ as Dt,c as g,o as d,y as t,k as l,bf as Vt,aI as S,i as a,l as n,a7 as V,q as f,t as r,av as x,a as D,h as xt,F as Ee,r as kt}from"./main-p_64Ajbw.js";import{f as C}from"./franchise-BOevNvvG.js";import{f as re}from"./formatters-aoHiJebZ.js";import{V as ht}from"./VOverlay-kbU4_qk-.js";import{a as c,V as N}from"./VRow-CqkF75pY.js";import{V as k,f as h,b as Q,e as wt,g as ue,a as Ie,d as Ae}from"./VCard-C0Tw-4W6.js";import{a as ce,V as Ft}from"./VTabs-Dw4MdHVw.js";import{a as me,V as Ct}from"./VWindowItem-C3R8WYL7.js";import{V as Pt}from"./VFileInput-Bp5dqZtP.js";import{V as Le}from"./VAlert-BEYgMvIF.js";import{V as St,a as te,b as le,c as ae}from"./VList-8BgSZxyl.js";import{V as fe}from"./VDivider-Bijs2L80.js";import{V as ze}from"./VChip-BUM4slpR.js";import{V as $e}from"./VSpacer-B-bSxhzs.js";import{V as Nt}from"./VDataTable-DxdwWB7T.js";import{V as Ut}from"./VForm-CAd-XVkx.js";import{V as Et}from"./VSnackbar-DRxRAqSt.js";import"./forwardRefs-B931MWyl.js";import"./scopeId-D-uFaV4P.js";import"./VMenu-B6Kw1s4z.js";import"./form-BhenlLYk.js";import"./VTextarea-M7GThMqS.js";import"./VTextField-dDEcwhzX.js";import"./VField-i3dJdciE.js";import"./VInput-Dn9GKPUx.js";import"./VSelect-D6w66G-Y.js";import"./VCheckboxBtn-BFEu_OAw.js";import"./VSelectionControl-o0RER-mO.js";import"./franchisee-dashboard-DKFnYXYt.js";import"./api-router-Cc_jepPR.js";/* empty css              */import"./VSlideGroup-7Py50_j-.js";import"./VPagination-BTSJYuhD.js";import"./VTable-C4nqXvLS.js";const It={class:"d-flex align-center justify-space-between"},At={class:"ms-4"},Lt={class:"text-h4"},zt={class:"ms-4"},$t={class:"text-h4"},Mt={class:"mb-4"},Tt={key:0,class:"text-body-1 font-weight-medium"},Bt={class:"mb-4"},Rt={key:0,class:"text-body-1"},Ot=["href"],jt={class:"mb-4"},qt={key:0,class:"text-body-1"},Kt={key:0,class:"d-flex align-center"},Jt={key:1,class:"text-disabled"},Qt={class:"mb-4"},Wt={key:0,class:"text-body-1"},Ht={class:"mb-4"},Yt={key:0,class:"text-body-1"},Gt={class:"mb-4"},Xt={key:0,class:"text-body-1"},Zt={class:"mb-4"},el={key:0,class:"text-body-1"},tl={class:"mb-4"},ll={key:0,class:"text-body-1 font-weight-medium text-success"},al={class:"mb-4"},sl={key:0,class:"text-body-1"},il={class:"mb-4"},ol={key:0,class:"text-body-1"},nl={class:"mb-4"},dl={key:0,class:"text-body-1"},rl=["href"],ul={class:"mb-4"},cl={key:0,class:"text-body-1"},ml={class:"mb-4"},fl={key:0,class:"text-body-1"},pl={class:"mb-4"},vl={key:0,class:"text-body-1"},yl={class:"mb-4"},bl={key:0,class:"text-body-1"},gl={class:"mb-4"},_l={key:0,class:"text-body-1 font-weight-medium text-success"},Dl={class:"mb-4"},Vl={key:0,class:"text-body-1 font-weight-medium"},xl={class:"mb-4"},kl={key:0,class:"text-body-1 font-weight-medium"},hl={class:"d-flex justify-space-between align-center mb-4"},wl={class:"d-flex align-center mb-3"},Fl={class:"text-h6"},Cl={class:"text-body-2 text-disabled mb-0"},Pl={class:"text-body-2 mb-3"},Sl={class:"d-flex align-center justify-space-between mb-3"},Nl={class:"text-body-2 text-disabled"},Ul={class:"text-body-2 text-disabled mb-3"},El={class:"d-flex align-center gap-x-4"},Il={class:"d-flex flex-column"},Al={class:"text-base font-weight-medium"},Ll={class:"text-sm text-medium-emphasis"},zl={class:"text-body-1 text-high-emphasis"},$l={class:"text-body-1 text-high-emphasis"},Ml={class:"text-body-1 text-high-emphasis"},Fa=bt({__name:"my-franchise",setup(Tl){gt();const A=_("overview"),j=_(!0),W=_(!1),p=_(!1),L=_({show:!1,message:"",color:"success"}),v=(o,e="success")=>{L.value={show:!0,message:o,color:e}},i=_({id:0,personalInfo:{contactNumber:"",country:"",state:"",city:"",address:""},franchiseDetails:{franchiseName:"",website:"",logo:null},legalDetails:{legalEntityName:"",businessStructure:"",taxId:"",industry:"",fundingAmount:"",fundingSource:""},contactDetails:{contactNumber:"",email:"",address:"",country:"",state:"",city:""},financialDetails:{franchiseFee:"",royaltyPercentage:"",marketingFeePercentage:""}}),U=_([]),H=P(()=>({fdd:U.value.find(o=>o.type==="fdd"),franchiseAgreement:U.value.find(o=>o.type==="franchise_agreement"),financialStudy:U.value.find(o=>o.type==="financial_study"),franchiseKit:U.value.find(o=>o.type==="franchise_kit")})),pe=P(()=>{const o=["fdd","franchise_agreement","financial_study","franchise_kit"];return U.value.filter(e=>!o.includes(e.type))}),Y=_([]),E=_(null),se=_(!1),ve=async()=>{var o,e,u,b,w,F,ee,q,K,s,O,be,ge,_e,De,Ve,xe,ke,he,we,Fe,Ce,Pe,Se;try{j.value=!0;const J=await C.getFranchiseData();if(J.success&&J.data){const y=J.data.franchise;y&&(i.value={id:y.id,personalInfo:{contactNumber:((o=y.contactDetails)==null?void 0:o.contactNumber)||"",address:((e=y.contactDetails)==null?void 0:e.address)||"",city:((u=y.contactDetails)==null?void 0:u.city)||"",state:((b=y.contactDetails)==null?void 0:b.state)||"",country:((w=y.contactDetails)==null?void 0:w.country)||""},franchiseDetails:{franchiseName:((F=y.franchiseDetails)==null?void 0:F.franchiseName)||"",website:((ee=y.franchiseDetails)==null?void 0:ee.website)||"",logo:((q=y.franchiseDetails)==null?void 0:q.logo)||null},legalDetails:{legalEntityName:((K=y.legalDetails)==null?void 0:K.legalEntityName)||"",businessStructure:((O=(s=y.legalDetails)==null?void 0:s.businessStructure)==null?void 0:O.toLowerCase())||"",taxId:((be=y.legalDetails)==null?void 0:be.taxId)||"",industry:((ge=y.legalDetails)==null?void 0:ge.industry)||"",fundingAmount:((_e=y.legalDetails)==null?void 0:_e.fundingAmount)||"",fundingSource:((De=y.legalDetails)==null?void 0:De.fundingSource)||""},contactDetails:{contactNumber:((Ve=y.contactDetails)==null?void 0:Ve.contactNumber)||"",email:((xe=y.contactDetails)==null?void 0:xe.email)||"",address:((ke=y.contactDetails)==null?void 0:ke.address)||"",city:((he=y.contactDetails)==null?void 0:he.city)||"",state:((we=y.contactDetails)==null?void 0:we.state)||"",country:((Fe=y.contactDetails)==null?void 0:Fe.country)||""},financialDetails:{franchiseFee:((Ce=y.financialDetails)==null?void 0:Ce.franchiseFee)||"",royaltyPercentage:((Pe=y.financialDetails)==null?void 0:Pe.royaltyPercentage)||"",marketingFeePercentage:((Se=y.financialDetails)==null?void 0:Se.marketingFeePercentage)||""}})}}catch(J){console.error("Failed to load franchise data:",J),v("Failed to load franchise data","error")}finally{j.value=!1}},ie=async()=>{var o;try{if(!((o=i.value)!=null&&o.id)){console.warn("No franchise ID available for loading documents");return}const e=await C.getDocuments(i.value.id);e.success&&e.data&&(U.value=e.data.data||[])}catch(e){console.error("Failed to load documents:",e),v("Failed to load documents","error")}},oe=async()=>{var o;try{if(!((o=i.value)!=null&&o.id)){console.warn("No franchise ID available for loading products");return}const e=await C.getProducts(i.value.id);e.success&&e.data&&(Y.value=e.data.data||[])}catch(e){console.error("Failed to load products:",e),v("Failed to load products","error")}},Me=async()=>{if(!E.value)return null;se.value=!0;try{const o=await C.uploadLogo(E.value);return o.success?o.data.logo_url:(v(o.message||"Failed to upload logo","error"),null)}catch(o){return console.error("Failed to upload logo:",o),v("Failed to upload logo","error"),null}finally{se.value=!1}},Te=async()=>{var o;try{W.value=!0;let e=i.value.franchiseDetails.logo;if(E.value){const w=await Me();if(w)e=w,i.value.franchiseDetails.logo=e;else return}const u={personalInfo:{contactNumber:i.value.personalInfo.contactNumber||null,address:i.value.personalInfo.address||null,city:i.value.personalInfo.city||null,state:i.value.personalInfo.state||null,country:i.value.personalInfo.country||null},franchiseDetails:{franchiseDetails:{franchiseName:i.value.franchiseDetails.franchiseName||null,website:i.value.franchiseDetails.website||null,logo:i.value.franchiseDetails.logo||null},legalDetails:{legalEntityName:i.value.legalDetails.legalEntityName||null,businessStructure:i.value.legalDetails.businessStructure,taxId:i.value.legalDetails.taxId||null,industry:i.value.legalDetails.industry||null,fundingAmount:i.value.legalDetails.fundingAmount||null,fundingSource:i.value.legalDetails.fundingSource||null},contactDetails:{contactNumber:i.value.contactDetails.contactNumber||null,email:i.value.contactDetails.email||null,address:i.value.contactDetails.address||null,city:i.value.contactDetails.city||null,state:i.value.contactDetails.state||null,country:i.value.contactDetails.country||null},financialDetails:{franchiseFee:i.value.financialDetails.franchiseFee||null,royaltyPercentage:i.value.financialDetails.royaltyPercentage||null,marketingFeePercentage:i.value.financialDetails.marketingFeePercentage||null}}},b=await C.updateFranchise(u);b.success?(v("Franchise information updated successfully","success"),E.value=null,await ve()):v(b.message||"Failed to update franchise information","error")}catch(e){if(console.error("Failed to update franchise data:",e),e.status===422&&((o=e.data)!=null&&o.errors)){const u=Object.values(e.data.errors).flat();v(`Validation failed: ${u.join(", ")}`,"error")}else v("Failed to update franchise information","error")}finally{W.value=!1}},G=_(null),Be=()=>{G.value&&(i.value=JSON.parse(JSON.stringify(G.value))),p.value=!1,G.value=null},Re=async()=>{await Te(),W.value||(p.value=!1,G.value=null)};_t(async()=>{var o;await ve(),(o=i.value)!=null&&o.id&&await Promise.all([ie(),oe()])});const I=_(!1),z=_(!1),ne=_(!1),de=_(!1),$=_(!1),M=_(!1);P({get:()=>I.value||z.value,set:o=>{o||(I.value=!1,z.value=!1)}});const T=P({get:()=>ne.value||de.value,set:o=>{o||(ne.value=!1,de.value=!1)}}),X=_({id:null,name:"",description:"",file:null,file_name:null,type:"other",status:"active",is_confidential:!1,expiry_date:null}),m=_({id:null,name:"",description:"",unit_price:0,category:"",status:"active",stock:0,sku:""}),B=_(null),R=_(null),Oe=[{title:"Corporation",value:"corporation"},{title:"LLC",value:"llc"},{title:"Partnership",value:"partnership"},{title:"Sole Proprietorship",value:"sole_proprietorship"}],je=[{title:"Food & Beverage",value:"food_beverage"},{title:"Retail",value:"retail"},{title:"Services",value:"services"},{title:"Health & Fitness",value:"health_fitness"},{title:"Education",value:"education"},{title:"Technology",value:"technology"},{title:"Real Estate",value:"real_estate"},{title:"Automotive",value:"automotive"}],qe=[{title:"Personal Savings",value:"personal_savings"},{title:"Bank Loan",value:"bank_loan"},{title:"Investors",value:"investors"},{title:"SBA Loan",value:"sba_loan"},{title:"Other",value:"other"}],Ke=[{title:"Saudi Arabia",value:"Saudi Arabia"},{title:"United Arab Emirates",value:"United Arab Emirates"},{title:"Qatar",value:"Qatar"},{title:"Kuwait",value:"Kuwait"},{title:"Oman",value:"Oman"},{title:"Bahrain",value:"Bahrain"},{title:"Jordan",value:"Jordan"},{title:"Lebanon",value:"Lebanon"},{title:"Egypt",value:"Egypt"},{title:"Iraq",value:"Iraq"}],Je=[{title:"Coffee",value:"Coffee"},{title:"Tea",value:"Tea"},{title:"Pastries",value:"Pastries"},{title:"Merchandise",value:"Merchandise"},{title:"Equipment",value:"Equipment"}],Qe=[{title:"Active",value:"active"},{title:"Inactive",value:"inactive"},{title:"Discontinued",value:"discontinued"}],We=()=>{X.value={id:null,name:"",description:"",type:"other",file:null,expiry_date:null,is_confidential:!1,status:"active"},I.value=!0},Z=o=>{const e=U.value.find(b=>b.type===o),u={fdd:"Franchise Disclosure Document (FDD)",franchise_agreement:"Franchise Agreement",financial_study:"Financial Study",franchise_kit:"Franchise Kit"};X.value={id:(e==null?void 0:e.id)||null,name:(e==null?void 0:e.name)||u[o]||o,description:(e==null?void 0:e.description)||`${u[o]} for franchise`,type:o,file:null,file_name:(e==null?void 0:e.file_name)||null,expiry_date:(e==null?void 0:e.expiry_date)||null,is_confidential:(e==null?void 0:e.is_confidential)||!1,status:(e==null?void 0:e.status)||"active"},e?z.value=!0:I.value=!0},He=async o=>{var e;try{if(!((e=i.value)!=null&&e.id)){v("No franchise ID available","error");return}const u=await C.downloadDocument(i.value.id,o.id),b=new Blob([u],{type:"application/octet-stream"}),w=window.URL.createObjectURL(b),F=o.createElement("a");F.href=w,F.download=o.file_name||o.name,o.body.appendChild(F),F.click(),o.body.removeChild(F),window.URL.revokeObjectURL(w),v("Document downloaded successfully","success")}catch(u){console.error("Failed to download document:",u),v("Failed to download document","error")}},Ye=o=>{R.value=o,M.value=!0},Ge=async()=>{var o;try{if(!((o=i.value)!=null&&o.id)||!R.value){v("Invalid request","error");return}const e=await C.deleteDocument(i.value.id,R.value.id);e.success?(v("Document deleted successfully","success"),await ie()):v(e.message||"Failed to delete document","error")}catch(e){console.error("Failed to delete document:",e),v("Failed to delete document","error")}finally{M.value=!1,R.value=null}},Xe=()=>{m.value={id:null,name:"",description:"",unit_price:0,category:"",status:"active",stock:0,sku:""},ne.value=!0},Ze=o=>{m.value={...o},de.value=!0},et=async()=>{var o,e;try{if(!((o=i.value)!=null&&o.id)){v("No franchise ID available","error");return}const u={name:m.value.name||"",description:m.value.description||"",category:m.value.category||"",unit_price:m.value.unit_price||0,stock:m.value.stock||0,status:m.value.status||"active",sku:m.value.sku||""};let b;m.value.id!==null?b=await C.updateProduct(i.value.id,m.value.id,u):b=await C.createProduct(i.value.id,u),b.success?(v(m.value.id!==null?"Product updated successfully":"Product created successfully","success"),T.value=!1,await oe()):v(b.message||"Failed to save product","error")}catch(u){if(console.error("Failed to save product:",u),u.status===422&&((e=u.data)!=null&&e.errors)){const b=Object.values(u.data.errors).flat();v(`Validation failed: ${b.join(", ")}`,"error")}else v("Failed to save product","error")}},tt=o=>{B.value=o,$.value=!0},lt=async()=>{var o;try{if(!((o=i.value)!=null&&o.id)||!B.value){v("Invalid request","error");return}const e=await C.deleteProduct(i.value.id,B.value.id);e.success?(v("Product deleted successfully","success"),await oe()):v(e.message||"Failed to delete product","error")}catch(e){console.error("Failed to delete product:",e),v("Failed to delete product","error")}finally{$.value=!1,B.value=null}},at=async()=>{await lt(),$.value=!1,B.value=null},st=async()=>{await Ge(),M.value=!1,R.value=null},ye=async()=>{await ie()},it=P(()=>Y.value.length),ot=P(()=>Y.value.filter(o=>o.status==="active").length),nt=P(()=>U.value.length),dt=P(()=>{var e;return`Are you sure you want to delete "${((e=B.value)==null?void 0:e.name)||"this product"}"? This action cannot be undone.`}),rt=P(()=>{var e;return`Are you sure you want to delete "${((e=R.value)==null?void 0:e.name)||"this document"}"? This action cannot be undone.`}),ut=[{title:"Product Name",key:"name"},{title:"Description",key:"description"},{title:"Category",key:"category"},{title:"Unit Price",key:"unit_price"},{title:"Stock",key:"stock"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],ct=o=>o==="active"?"success":o==="inactive"?"warning":o==="discontinued"?"error":"secondary";return(o,e)=>{var q,K;const u=yt,b=vt,w=pt,F=Dt("IconBtn"),ee=mt;return d(),g("section",null,[t(ht,{modelValue:a(j),"onUpdate:modelValue":e[0]||(e[0]=s=>S(j)?j.value=s:null),class:"align-center justify-center"},{default:l(()=>[t(Vt,{color:"primary",indeterminate:"",size:"64"})]),_:1},8,["modelValue"]),t(N,{class:"mb-6"},{default:l(()=>[t(c,{cols:"12"},{default:l(()=>[n("div",It,[e[42]||(e[42]=n("div",null,[n("h2",{class:"text-h2 mb-1"}," My Franchise "),n("p",{class:"text-body-1 text-medium-emphasis"}," Manage your franchise details, documents, and products ")],-1)),t(V,{color:a(p)?"secondary":"primary","prepend-icon":a(p)?"tabler-x":"tabler-edit",onClick:e[1]||(e[1]=s=>p.value=!a(p))},{default:l(()=>[f(r(a(p)?"Cancel Edit":"Edit Franchise Details"),1)]),_:1},8,["color","prepend-icon"])])]),_:1})]),_:1}),t(N,{class:"mb-6"},{default:l(()=>[t(c,{cols:"12",md:"4"},{default:l(()=>[t(k,null,{default:l(()=>[t(h,{class:"d-flex align-center"},{default:l(()=>[t(Q,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:l(()=>[t(x,{icon:"tabler-building-store",size:"26"})]),_:1}),e[43]||(e[43]=n("div",{class:"ms-4"},[n("div",{class:"text-body-2 text-disabled"}," Franchise Status "),n("h4",{class:"text-h4"}," Active ")],-1))]),_:1,__:[43]})]),_:1})]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[t(k,null,{default:l(()=>[t(h,{class:"d-flex align-center"},{default:l(()=>[t(Q,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:l(()=>[t(x,{icon:"tabler-files",size:"26"})]),_:1}),n("div",At,[e[44]||(e[44]=n("div",{class:"text-body-2 text-disabled"}," Total Documents ",-1)),n("h4",Lt,r(a(nt)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[t(k,null,{default:l(()=>[t(h,{class:"d-flex align-center"},{default:l(()=>[t(Q,{size:"44",rounded:"",color:"info",variant:"tonal"},{default:l(()=>[t(x,{icon:"tabler-package",size:"26"})]),_:1}),n("div",zt,[e[45]||(e[45]=n("div",{class:"text-body-2 text-disabled"}," Active Products ",-1)),n("h4",$t,r(a(ot))+" / "+r(a(it)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(Ft,{modelValue:a(A),"onUpdate:modelValue":e[2]||(e[2]=s=>S(A)?A.value=s:null),class:"mb-6"},{default:l(()=>[t(ce,{value:"overview"},{default:l(()=>[t(x,{icon:"tabler-info-circle",start:""}),e[46]||(e[46]=f(" Overview "))]),_:1,__:[46]}),t(ce,{value:"documents"},{default:l(()=>[t(x,{icon:"tabler-files",start:""}),e[47]||(e[47]=f(" Documents "))]),_:1,__:[47]}),t(ce,{value:"products"},{default:l(()=>[t(x,{icon:"tabler-package",start:""}),e[48]||(e[48]=f(" Menu "))]),_:1,__:[48]})]),_:1},8,["modelValue"]),t(Ct,{modelValue:a(A),"onUpdate:modelValue":e[25]||(e[25]=s=>S(A)?A.value=s:null),class:"disable-tab-transition"},{default:l(()=>[t(me,{value:"overview"},{default:l(()=>[t(k,null,{default:l(()=>[t(h,null,{default:l(()=>[t(N,null,{default:l(()=>[t(c,{cols:"12"},{default:l(()=>[e[53]||(e[53]=n("h4",{class:"text-h6 mb-4"}," Franchise Information ",-1)),t(k,{variant:"outlined"},{default:l(()=>[t(h,null,{default:l(()=>[t(N,null,{default:l(()=>[t(c,{cols:"12",md:"6"},{default:l(()=>[n("div",Mt,[e[49]||(e[49]=n("div",{class:"text-sm text-disabled mb-1"}," Franchise Name ",-1)),a(p)?(d(),D(u,{key:1,modelValue:a(i).franchiseDetails.franchiseName,"onUpdate:modelValue":e[3]||(e[3]=s=>a(i).franchiseDetails.franchiseName=s),label:"Franchise Name",placeholder:"Enter franchise name"},null,8,["modelValue"])):(d(),g("div",Tt,r(a(i).franchiseDetails.franchiseName),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[n("div",Bt,[e[50]||(e[50]=n("div",{class:"text-sm text-disabled mb-1"}," Website ",-1)),a(p)?(d(),D(u,{key:1,modelValue:a(i).franchiseDetails.website,"onUpdate:modelValue":e[4]||(e[4]=s=>a(i).franchiseDetails.website=s),label:"Website",placeholder:"https://example.com"},null,8,["modelValue"])):(d(),g("div",Rt,[n("a",{href:a(i).franchiseDetails.website,target:"_blank",class:"text-primary"},r(a(i).franchiseDetails.website),9,Ot)]))])]),_:1}),t(c,{cols:"12"},{default:l(()=>[n("div",jt,[e[52]||(e[52]=n("div",{class:"text-sm text-disabled mb-1"}," Franchise Logo ",-1)),a(p)?(d(),D(Pt,{key:1,modelValue:a(E),"onUpdate:modelValue":e[5]||(e[5]=s=>S(E)?E.value=s:null),label:"Franchise Logo",accept:"image/*","prepend-icon":"tabler-upload",loading:a(se)},null,8,["modelValue","loading"])):(d(),g("div",qt,[a(i).franchiseDetails.logo?(d(),g("div",Kt,[t(Q,{size:"40",class:"me-3"},{default:l(()=>[t(wt,{src:a(i).franchiseDetails.logo,alt:"Franchise Logo"},null,8,["src"])]),_:1}),e[51]||(e[51]=n("span",null,"Logo uploaded",-1))])):(d(),g("span",Jt,"No logo uploaded"))]))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1,__:[53]}),t(c,{cols:"12"},{default:l(()=>[e[60]||(e[60]=n("h4",{class:"text-h6 mb-4"}," Legal Information ",-1)),t(k,{variant:"outlined"},{default:l(()=>[t(h,null,{default:l(()=>[t(N,null,{default:l(()=>[t(c,{cols:"12",md:"6"},{default:l(()=>[n("div",Qt,[e[54]||(e[54]=n("div",{class:"text-sm text-disabled mb-1"}," Legal Entity Name ",-1)),a(p)?(d(),D(u,{key:1,modelValue:a(i).legalDetails.legalEntityName,"onUpdate:modelValue":e[6]||(e[6]=s=>a(i).legalDetails.legalEntityName=s),label:"Legal Entity Name",placeholder:"Enter legal entity name"},null,8,["modelValue"])):(d(),g("div",Wt,r(a(i).legalDetails.legalEntityName),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[n("div",Ht,[e[55]||(e[55]=n("div",{class:"text-sm text-disabled mb-1"}," Business Structure ",-1)),a(p)?(d(),D(b,{key:1,modelValue:a(i).legalDetails.businessStructure,"onUpdate:modelValue":e[7]||(e[7]=s=>a(i).legalDetails.businessStructure=s),label:"Business Structure",placeholder:"Select business structure",items:Oe},null,8,["modelValue"])):(d(),g("div",Yt,r(a(i).legalDetails.businessStructure),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[n("div",Gt,[e[56]||(e[56]=n("div",{class:"text-sm text-disabled mb-1"}," Tax ID ",-1)),a(p)?(d(),D(u,{key:1,modelValue:a(i).legalDetails.taxId,"onUpdate:modelValue":e[8]||(e[8]=s=>a(i).legalDetails.taxId=s),label:"Tax ID",placeholder:"Enter tax ID"},null,8,["modelValue"])):(d(),g("div",Xt,r(a(i).legalDetails.taxId),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[n("div",Zt,[e[57]||(e[57]=n("div",{class:"text-sm text-disabled mb-1"}," Industry ",-1)),a(p)?(d(),D(b,{key:1,modelValue:a(i).legalDetails.industry,"onUpdate:modelValue":e[9]||(e[9]=s=>a(i).legalDetails.industry=s),label:"Industry",placeholder:"Select industry",items:je},null,8,["modelValue"])):(d(),g("div",el,r(a(i).legalDetails.industry),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[n("div",tl,[e[58]||(e[58]=n("div",{class:"text-sm text-disabled mb-1"}," Funding Amount ",-1)),a(p)?(d(),D(u,{key:1,modelValue:a(i).legalDetails.fundingAmount,"onUpdate:modelValue":e[10]||(e[10]=s=>a(i).legalDetails.fundingAmount=s),label:"Funding Amount",placeholder:"Enter funding amount",type:"number"},null,8,["modelValue"])):(d(),g("div",ll,r(a(re)(Number(a(i).legalDetails.fundingAmount))),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[n("div",al,[e[59]||(e[59]=n("div",{class:"text-sm text-disabled mb-1"}," Funding Source ",-1)),a(p)?(d(),D(b,{key:1,modelValue:a(i).legalDetails.fundingSource,"onUpdate:modelValue":e[11]||(e[11]=s=>a(i).legalDetails.fundingSource=s),label:"Funding Source",placeholder:"Select funding source",items:qe},null,8,["modelValue"])):(d(),g("div",sl,r(a(i).legalDetails.fundingSource),1))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1,__:[60]}),t(c,{cols:"12"},{default:l(()=>[e[67]||(e[67]=n("h4",{class:"text-h6 mb-4"}," Contact Information ",-1)),t(k,{variant:"outlined"},{default:l(()=>[t(h,null,{default:l(()=>[t(N,null,{default:l(()=>[t(c,{cols:"12",md:"6"},{default:l(()=>[n("div",il,[e[61]||(e[61]=n("div",{class:"text-sm text-disabled mb-1"}," Contact Number ",-1)),a(p)?(d(),D(u,{key:1,modelValue:a(i).contactDetails.contactNumber,"onUpdate:modelValue":e[12]||(e[12]=s=>a(i).contactDetails.contactNumber=s),label:"Contact Number",placeholder:"Enter contact number"},null,8,["modelValue"])):(d(),g("div",ol,r(a(i).contactDetails.contactNumber),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[n("div",nl,[e[62]||(e[62]=n("div",{class:"text-sm text-disabled mb-1"}," Email ",-1)),a(p)?(d(),D(u,{key:1,modelValue:a(i).contactDetails.email,"onUpdate:modelValue":e[13]||(e[13]=s=>a(i).contactDetails.email=s),label:"Email",placeholder:"Enter email address",type:"email"},null,8,["modelValue"])):(d(),g("div",dl,[n("a",{href:`mailto:${a(i).contactDetails.email}`,class:"text-primary"},r(a(i).contactDetails.email),9,rl)]))])]),_:1}),t(c,{cols:"12"},{default:l(()=>[n("div",ul,[e[63]||(e[63]=n("div",{class:"text-sm text-disabled mb-1"}," Address ",-1)),a(p)?(d(),D(w,{key:1,modelValue:a(i).contactDetails.address,"onUpdate:modelValue":e[14]||(e[14]=s=>a(i).contactDetails.address=s),label:"Address",placeholder:"Enter full address",rows:"2"},null,8,["modelValue"])):(d(),g("div",cl,r(a(i).contactDetails.address),1))])]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[n("div",ml,[e[64]||(e[64]=n("div",{class:"text-sm text-disabled mb-1"}," Country ",-1)),a(p)?(d(),D(b,{key:1,modelValue:a(i).contactDetails.country,"onUpdate:modelValue":e[15]||(e[15]=s=>a(i).contactDetails.country=s),label:"Country",placeholder:"Select country",items:Ke},null,8,["modelValue"])):(d(),g("div",fl,r(a(i).contactDetails.country),1))])]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[n("div",pl,[e[65]||(e[65]=n("div",{class:"text-sm text-disabled mb-1"}," State ",-1)),a(p)?(d(),D(u,{key:1,modelValue:a(i).contactDetails.state,"onUpdate:modelValue":e[16]||(e[16]=s=>a(i).contactDetails.state=s),label:"State",placeholder:"Enter state"},null,8,["modelValue"])):(d(),g("div",vl,r(a(i).contactDetails.state),1))])]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[n("div",yl,[e[66]||(e[66]=n("div",{class:"text-sm text-disabled mb-1"}," City ",-1)),a(p)?(d(),D(u,{key:1,modelValue:a(i).contactDetails.city,"onUpdate:modelValue":e[17]||(e[17]=s=>a(i).contactDetails.city=s),label:"City",placeholder:"Enter city"},null,8,["modelValue"])):(d(),g("div",bl,r(a(i).contactDetails.city),1))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1,__:[67]}),t(c,{cols:"12"},{default:l(()=>[e[71]||(e[71]=n("h4",{class:"text-h6 mb-4"}," Financial Details ",-1)),t(k,{variant:"outlined"},{default:l(()=>[t(h,null,{default:l(()=>[t(N,null,{default:l(()=>[t(c,{cols:"12",md:"4"},{default:l(()=>[n("div",gl,[e[68]||(e[68]=n("div",{class:"text-sm text-disabled mb-1"}," Franchise Fee ",-1)),a(p)?(d(),D(u,{key:1,modelValue:a(i).financialDetails.franchiseFee,"onUpdate:modelValue":e[18]||(e[18]=s=>a(i).financialDetails.franchiseFee=s),label:"Franchise Fee",placeholder:"Enter franchise fee",type:"number",prefix:"SAR",step:"0.01"},null,8,["modelValue"])):(d(),g("div",_l,r(a(re)(Number(a(i).financialDetails.franchiseFee))),1))])]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[n("div",Dl,[e[69]||(e[69]=n("div",{class:"text-sm text-disabled mb-1"}," Royalty Percentage ",-1)),a(p)?(d(),D(u,{key:1,modelValue:a(i).financialDetails.royaltyPercentage,"onUpdate:modelValue":e[19]||(e[19]=s=>a(i).financialDetails.royaltyPercentage=s),label:"Royalty Percentage",placeholder:"Enter royalty percentage",type:"number",suffix:"%",step:"0.01"},null,8,["modelValue"])):(d(),g("div",Vl,r(a(i).financialDetails.royaltyPercentage)+"% ",1))])]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[n("div",xl,[e[70]||(e[70]=n("div",{class:"text-sm text-disabled mb-1"}," Marketing Fee Percentage ",-1)),a(p)?(d(),D(u,{key:1,modelValue:a(i).financialDetails.marketingFeePercentage,"onUpdate:modelValue":e[20]||(e[20]=s=>a(i).financialDetails.marketingFeePercentage=s),label:"Marketing Fee Percentage",placeholder:"Enter marketing fee percentage",type:"number",suffix:"%",step:"0.01"},null,8,["modelValue"])):(d(),g("div",kl,r(a(i).financialDetails.marketingFeePercentage)+"% ",1))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1,__:[71]})]),_:1})]),_:1}),t(ue,{class:"justify-end"},{default:l(()=>[a(p)?(d(),g(Ee,{key:0},[t(V,{variant:"outlined","prepend-icon":"tabler-x",class:"me-2",onClick:Be},{default:l(()=>e[72]||(e[72]=[f(" Cancel ")])),_:1,__:[72]}),t(V,{color:"primary",loading:a(W),"prepend-icon":"tabler-device-floppy",onClick:Re},{default:l(()=>e[73]||(e[73]=[f(" Save Changes ")])),_:1,__:[73]},8,["loading"])],64)):xt("",!0)]),_:1})]),_:1})]),_:1}),t(me,{value:"documents"},{default:l(()=>[t(k,{class:"mb-6"},{default:l(()=>[t(Ie,{class:"pb-4"},{default:l(()=>[t(Ae,null,{default:l(()=>e[74]||(e[74]=[f("Required Documents")])),_:1,__:[74]})]),_:1}),t(h,null,{default:l(()=>[t(Le,{type:"info",variant:"tonal",class:"mb-4"},{default:l(()=>e[75]||(e[75]=[f(" You can add more documents once your onboarding process is completed ")])),_:1,__:[75]}),t(St,{lines:"two",border:"",rounded:""},{default:l(()=>[t(te,null,{prepend:l(()=>[t(x,{icon:"tabler-file-text",color:"primary",size:"24"})]),append:l(()=>[t(V,{variant:"text",icon:"tabler-pencil",size:"small",onClick:e[21]||(e[21]=s=>Z("fdd"))})]),default:l(()=>[t(le,{class:"font-weight-medium"},{default:l(()=>e[76]||(e[76]=[f(" FDD ")])),_:1,__:[76]}),t(ae,null,{default:l(()=>{var s;return[f(r(((s=a(H).fdd)==null?void 0:s.file_name)||"No file uploaded"),1)]}),_:1})]),_:1}),t(fe),t(te,null,{prepend:l(()=>[t(x,{icon:"tabler-file-text",color:"primary",size:"24"})]),append:l(()=>[t(V,{variant:"text",icon:"tabler-pencil",size:"small",onClick:e[22]||(e[22]=s=>Z("franchise_agreement"))})]),default:l(()=>[t(le,{class:"font-weight-medium"},{default:l(()=>e[77]||(e[77]=[f(" Franchise Agreement ")])),_:1,__:[77]}),t(ae,null,{default:l(()=>{var s;return[f(r(((s=a(H).franchiseAgreement)==null?void 0:s.file_name)||"No file uploaded"),1)]}),_:1})]),_:1}),t(fe),t(te,null,{prepend:l(()=>[t(x,{icon:"tabler-report-money",color:"primary",size:"24"})]),append:l(()=>[t(V,{variant:"text",icon:"tabler-pencil",size:"small",onClick:e[23]||(e[23]=s=>Z("financial_study"))})]),default:l(()=>[t(le,{class:"font-weight-medium"},{default:l(()=>e[78]||(e[78]=[f(" Financial Study ")])),_:1,__:[78]}),t(ae,null,{default:l(()=>{var s;return[f(r(((s=a(H).financialStudy)==null?void 0:s.file_name)||"No file uploaded"),1)]}),_:1})]),_:1}),t(fe),t(te,null,{prepend:l(()=>[t(x,{icon:"tabler-briefcase",color:"primary",size:"24"})]),append:l(()=>[t(V,{variant:"text",icon:"tabler-pencil",size:"small",onClick:e[24]||(e[24]=s=>Z("franchise_kit"))})]),default:l(()=>[t(le,{class:"font-weight-medium"},{default:l(()=>e[79]||(e[79]=[f(" Franchise Kit ")])),_:1,__:[79]}),t(ae,null,{default:l(()=>{var s;return[f(r(((s=a(H).franchiseKit)==null?void 0:s.file_name)||"No file uploaded"),1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(k,null,{default:l(()=>[t(h,null,{default:l(()=>[n("div",hl,[e[81]||(e[81]=n("h4",{class:"text-h6"}," Additional Documents ",-1)),t(V,{color:"primary","prepend-icon":"tabler-plus",onClick:We},{default:l(()=>e[80]||(e[80]=[f(" Add Document ")])),_:1,__:[80]})]),a(pe).length>0?(d(),D(N,{key:0},{default:l(()=>[(d(!0),g(Ee,null,kt(a(pe),s=>(d(),D(c,{key:s.id,cols:"12",md:"6",lg:"4"},{default:l(()=>[t(k,null,{default:l(()=>[t(h,null,{default:l(()=>[n("div",wl,[t(x,{icon:"tabler-file-text",size:"24",color:"primary",class:"me-3"}),n("div",null,[n("h6",Fl,r(s.name),1),n("p",Cl,r(s.type),1)])]),n("p",Pl,r(s.description),1),n("div",Sl,[n("span",Nl,r(s.file_name),1),t(ze,{size:"small",color:"secondary"},{default:l(()=>[f(r(s.file_size),1)]),_:2},1024)]),n("div",Ul," Uploaded: "+r(s.created_at),1)]),_:2},1024),t(ue,null,{default:l(()=>[t(V,{size:"small",variant:"text",color:"primary","prepend-icon":"tabler-download",onClick:O=>He(s)},{default:l(()=>e[82]||(e[82]=[f(" Download ")])),_:2,__:[82]},1032,["onClick"]),t($e),t(V,{size:"small",variant:"text",color:"error",icon:"tabler-trash",onClick:O=>Ye(s)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(d(),D(Le,{key:1,type:"info",variant:"tonal"},{default:l(()=>e[83]||(e[83]=[f(" No additional documents uploaded yet ")])),_:1,__:[83]}))]),_:1})]),_:1})]),_:1}),t(me,{value:"products"},{default:l(()=>[t(k,null,{default:l(()=>[t(Ie,{class:"pb-4"},{append:l(()=>[t(V,{color:"primary","prepend-icon":"tabler-plus",onClick:Xe},{default:l(()=>e[85]||(e[85]=[f(" Add Product ")])),_:1,__:[85]})]),default:l(()=>[t(Ae,null,{default:l(()=>e[84]||(e[84]=[f("Franchise Products")])),_:1,__:[84]})]),_:1}),t(h,null,{default:l(()=>[t(Nt,{headers:ut,items:a(Y),"item-value":"id",class:"text-no-wrap","show-select":""},{"item.name":l(({item:s})=>[n("div",El,[t(Q,{size:"34",color:"primary",variant:"tonal",class:"text-primary"},{default:l(()=>[t(x,{icon:"tabler-package"})]),_:1}),n("div",Il,[n("h6",Al,r(s.name),1),n("div",Ll,r(s.category),1)])])]),"item.description":l(({item:s})=>[n("div",zl,r(s.description),1)]),"item.unit_price":l(({item:s})=>[n("div",$l,r(a(re)(Number(s.unit_price))),1)]),"item.stock":l(({item:s})=>[n("div",Ml,r(s.stock),1)]),"item.status":l(({item:s})=>[t(ze,{color:ct(s.status),size:"small",class:"text-capitalize",label:""},{default:l(()=>[f(r(s.status),1)]),_:2},1032,["color"])]),"item.actions":l(({item:s})=>[t(F,{onClick:O=>Ze(s)},{default:l(()=>[t(x,{icon:"tabler-edit"})]),_:2},1032,["onClick"]),t(F,{onClick:O=>tt(s)},{default:l(()=>[t(x,{icon:"tabler-trash"})]),_:2},1032,["onClick"])]),_:1},8,["items"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Ue,{"is-dialog-visible":a(I),"onUpdate:isDialogVisible":e[26]||(e[26]=s=>S(I)?I.value=s:null),"franchise-id":(q=a(i))==null?void 0:q.id,"document-data":a(X),mode:"franchise",onDocumentSaved:ye},null,8,["is-dialog-visible","franchise-id","document-data"]),t(Ue,{"is-dialog-visible":a(z),"onUpdate:isDialogVisible":e[27]||(e[27]=s=>S(z)?z.value=s:null),"franchise-id":(K=a(i))==null?void 0:K.id,"document-data":a(X),mode:"franchise",onDocumentSaved:ye},null,8,["is-dialog-visible","franchise-id","document-data"]),t(ft,{modelValue:a(T),"onUpdate:modelValue":e[37]||(e[37]=s=>S(T)?T.value=s:null),"max-width":"600"},{default:l(()=>[t(ee,{onClick:e[28]||(e[28]=s=>T.value=!1)}),t(k,{title:a(m).id?"Edit Product":"Add New Product"},{default:l(()=>[t(h,null,{default:l(()=>[t(Ut,null,{default:l(()=>[t(N,null,{default:l(()=>[t(c,{cols:"12",md:"6"},{default:l(()=>[t(u,{modelValue:a(m).name,"onUpdate:modelValue":e[29]||(e[29]=s=>a(m).name=s),label:"Product Name",placeholder:"Enter product name",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[t(u,{modelValue:a(m).sku,"onUpdate:modelValue":e[30]||(e[30]=s=>a(m).sku=s),label:"SKU",placeholder:"Enter product SKU",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[t(b,{modelValue:a(m).category,"onUpdate:modelValue":e[31]||(e[31]=s=>a(m).category=s),label:"Category",items:Je,placeholder:"Select category"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12"},{default:l(()=>[t(w,{modelValue:a(m).description,"onUpdate:modelValue":e[32]||(e[32]=s=>a(m).description=s),label:"Description",placeholder:"Enter product description",rows:"3"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[t(u,{modelValue:a(m).unit_price,"onUpdate:modelValue":e[33]||(e[33]=s=>a(m).unit_price=s),modelModifiers:{number:!0},label:"Unit Price",type:"number",placeholder:"0.00",prefix:"SAR",step:"0.01"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[t(u,{modelValue:a(m).stock,"onUpdate:modelValue":e[34]||(e[34]=s=>a(m).stock=s),modelModifiers:{number:!0},label:"Stock Quantity",type:"number",placeholder:"0"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[t(b,{modelValue:a(m).status,"onUpdate:modelValue":e[35]||(e[35]=s=>a(m).status=s),label:"Status",items:Qe,placeholder:"Select status"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(ue,null,{default:l(()=>[t($e),t(V,{color:"secondary",variant:"outlined",onClick:e[36]||(e[36]=s=>T.value=!1)},{default:l(()=>e[86]||(e[86]=[f(" Cancel ")])),_:1,__:[86]}),t(V,{color:"primary",onClick:et},{default:l(()=>[f(r(a(m).id?"Update Product":"Add Product"),1)]),_:1})]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"]),t(Ne,{"is-dialog-visible":a($),"onUpdate:isDialogVisible":e[38]||(e[38]=s=>S($)?$.value=s:null),title:"Delete Product",message:a(dt),onConfirm:at},null,8,["is-dialog-visible","message"]),t(Ne,{"is-dialog-visible":a(M),"onUpdate:isDialogVisible":e[39]||(e[39]=s=>S(M)?M.value=s:null),title:"Confirm Delete",message:a(rt),onConfirm:st},null,8,["is-dialog-visible","message"]),t(Et,{modelValue:a(L).show,"onUpdate:modelValue":e[41]||(e[41]=s=>a(L).show=s),color:a(L).color,location:"top end",timeout:"4000"},{actions:l(()=>[t(V,{color:"white",variant:"text",onClick:e[40]||(e[40]=s=>a(L).show=!1)},{default:l(()=>e[87]||(e[87]=[f(" Close ")])),_:1,__:[87]})]),default:l(()=>[f(r(a(L).message)+" ",1)]),_:1},8,["modelValue","color"])])}}});export{Fa as default};
