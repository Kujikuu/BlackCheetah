import{V as R}from"./VDivider-CTQt1wKM.js";import{V as ee}from"./VPagination-CI4cqEW4.js";import{d as ae,c as te,o as oe,y as o,l as V,t as se,i as le,K as re,L as ne,bR as ie,O as p,aa as r,az as de,M as ue,n as w,F as B,af as me}from"./main-DjrYRpVy.js";import{c as ge,a as ce,b as pe,d as ve,u as Pe,p as be,e as fe,f as he,g as ye,h as De,i as Se,j as Te,k as I,l as k,m as x,n as Ve,o as we,q as Be}from"./VDataTable-sTptgDxR.js";import{V as M}from"./VTable-Bx4Z2wDS.js";const Ie=(e,l)=>{const i=(e.page-1)*e.itemsPerPage+1,a=Math.min(e.page*e.itemsPerPage,l);return`Showing ${l===0?0:i} to ${a} of ${l} entries`},ke={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 px-6 py-3"},xe={class:"text-disabled mb-0"},_e=ae({__name:"TablePagination",props:{page:{},itemsPerPage:{},totalItems:{}},emits:["update:page"],setup(e,{emit:l}){const i=l,a=t=>{i("update:page",t)};return(t,n)=>(oe(),te("div",null,[o(R),V("div",ke,[V("p",xe,se(("paginationMeta"in t?t.paginationMeta:le(Ie))({page:t.page,itemsPerPage:t.itemsPerPage},t.totalItems)),1),o(ee,{"model-value":t.page,"active-color":"primary",length:Math.ceil(t.totalItems/t.itemsPerPage),"total-visible":t.$vuetify.display.xs?1:Math.min(Math.ceil(t.totalItems/t.itemsPerPage),5),"onUpdate:modelValue":a},null,8,["model-value","length","total-visible"])])]))}}),Me=ne({itemsLength:{type:[Number,String],required:!0},...Be(),...we(),...Ve()},"VDataTableServer"),Ne=re()({name:"VDataTableServer",props:Me(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,l){let{attrs:i,slots:a}=l;const{groupBy:t}=ge(e),{sortBy:n,multiSort:F,mustSort:E}=ce(e),{page:u,itemsPerPage:g}=pe(e),{disableSort:G}=ie(e),H=p(()=>parseInt(e.itemsLength,10)),{columns:v,headers:_}=ve(e,{groupBy:t,showSelect:r(()=>e.showSelect),showExpand:r(()=>e.showExpand)}),{items:m}=Pe(e,v),{toggleSort:P}=Te({sortBy:n,multiSort:F,mustSort:E,page:u}),{opened:N,isGroupOpen:C,toggleGroup:L,extractRows:$}=be({groupBy:t,sortBy:n,disableSort:G}),{pageCount:j,setItemsPerPage:O}=fe({page:u,itemsPerPage:g,itemsLength:H}),{flatItems:b}=he(m,t,N),{isSelected:q,select:z,selectAll:A,toggleSelect:K,someSelected:U,allSelected:W}=ye(e,{allItems:m,currentPage:m}),{isExpanded:J,toggleExpand:Q}=De(e),f=p(()=>$(m.value));Se({page:u,itemsPerPage:g,sortBy:n,groupBy:t,search:r(()=>e.search)}),me("v-data-table",{toggleSort:P,sortBy:n}),de({VDataTableRows:{hideNoData:r(()=>e.hideNoData),noDataText:r(()=>e.noDataText),loading:r(()=>e.loading),loadingText:r(()=>e.loadingText)}});const s=p(()=>({page:u.value,itemsPerPage:g.value,sortBy:n.value,pageCount:j.value,toggleSort:P,setItemsPerPage:O,someSelected:U.value,allSelected:W.value,isSelected:q,select:z,selectAll:A,toggleSelect:K,isExpanded:J,toggleExpand:Q,isGroupOpen:C,toggleGroup:L,items:f.value.map(c=>c.raw),internalItems:f.value,groupedItems:b.value,columns:v.value,headers:_.value}));ue(()=>{const c=I.filterProps(e),X=k.filterProps(e),Y=x.filterProps(e),Z=M.filterProps(e);return o(M,w({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},Z,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var d;return(d=a.top)==null?void 0:d.call(a,s.value)},default:()=>{var d,h,y,D,S,T;return a.default?a.default(s.value):o(B,null,[(d=a.colgroup)==null?void 0:d.call(a,s.value),!e.hideDefaultHeader&&o("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[o(k,X,a)]),(h=a.thead)==null?void 0:h.call(a,s.value),!e.hideDefaultBody&&o("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(y=a["body.prepend"])==null?void 0:y.call(a,s.value),a.body?a.body(s.value):o(x,w(i,Y,{items:b.value}),a),(D=a["body.append"])==null?void 0:D.call(a,s.value)]),(S=a.tbody)==null?void 0:S.call(a,s.value),(T=a.tfoot)==null?void 0:T.call(a,s.value)])},bottom:()=>a.bottom?a.bottom(s.value):!e.hideDefaultFooter&&o(B,null,[o(R,null,null),o(I,c,{prepend:a["footer.prepend"]})])})})}});export{Ne as V,_e as _};
