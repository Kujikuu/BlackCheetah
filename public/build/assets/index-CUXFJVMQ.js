import{u as Me}from"./useFranchisorDashboard-CKg2y3cH.js";import{e as he,g as D,aZ as we,a_ as Te,K as me,L as fe,P as Ce,a$ as Ve,w as W,E as pe,M as ve,y as e,n as L,Y as Se,R as Pe,F as U,ax as $e,a7 as j,bl as q,d as F,O as _,a as y,o as g,k as t,i as l,aR as Fe,av as R,c as P,r as O,l as r,t as h,aB as Y,h as E,s as ge,bI as M,q as x}from"./main-CrqE58uP.js";import{f as Ie}from"./franchise-4s5dWC9J.js";import{s as Ue}from"./sidebar-pic-1-DHiKuvcc.js";import{V as ne,m as Re,a as le,b as Ae}from"./VWindowItem-Bkp00TYr.js";import{e as ie,m as ze,f as $,V as A,b as I,a as be,d as _e,h as ye}from"./VCard-CZdMCf39.js";import{V as T,a as p}from"./VRow-CpsRAF9x.js";import{V as ke}from"./VChip-DAJCEXh0.js";import{m as H}from"./vue3-apexcharts-0jVp2Lm_.js";import{V as ce}from"./VDivider-CI--kmsf.js";import{f as B}from"./formatters-aoHiJebZ.js";import{V as Be,a as De,b as Le,c as Oe}from"./VList-lIvAURjR.js";import{_ as xe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as ue,V as de}from"./VAlert-DS-ohESv.js";import"./lead-Bt_fdgcG.js";import"./api-router-Bz2EkdfU.js";import"./users-BIaVoGiF.js";import"./VSlideGroup-0oZ-DmCO.js";import"./_commonjsHelpers-CqkleIqs.js";function Ee(){const o=he(),a=D(!1),c=D(!1);return{isChecking:a,requiresRegistration:c,checkAndRedirect:async()=>{const u=we("userData").value;if(!u||typeof u!="object"||!("role"in u)||u.role!=="franchisor")return!1;a.value=!0;try{const n=await Te("/v1/onboarding/franchise-status",{method:"GET"});return n.success&&n.data&&(c.value=n.data.requires_franchise_registration,n.data.requires_franchise_registration)?(o.push("/franchisor/franchise-registration"),!0):!1}catch(n){return console.error("Failed to check franchise status:",n),!1}finally{a.value=!1}}}}const Ne="/build/assets/sidebar-pic-2-BJAycSir.png",We=fe({color:String,cycle:Boolean,delimiterIcon:{type:Pe,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:o=>Number(o)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...Re({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),je=me()({name:"VCarousel",props:We(),emits:{"update:modelValue":o=>!0},setup(o,a){let{slots:c}=a;const m=Ce(o,"modelValue"),{t:u}=Ve(),s=D();let n=-1;W(m,f),W(()=>o.interval,f),W(()=>o.cycle,b=>{b?f():window.clearTimeout(n)}),pe(i);function i(){!o.cycle||!s.value||(n=window.setTimeout(s.value.group.next,Number(o.interval)>0?Number(o.interval):6e3))}function f(){window.clearTimeout(n),window.requestAnimationFrame(i)}return ve(()=>{const b=ne.filterProps(o);return e(ne,L({ref:s},b,{modelValue:m.value,"onUpdate:modelValue":k=>m.value=k,class:["v-carousel",{"v-carousel--hide-delimiter-background":o.hideDelimiterBackground,"v-carousel--vertical-delimiters":o.verticalDelimiters},o.class],style:[{height:Se(o.height)},o.style]}),{default:c.default,additional:k=>{let{group:w}=k;return e(U,null,[!o.hideDelimiters&&e("div",{class:"v-carousel__controls",style:{left:o.verticalDelimiters==="left"&&o.verticalDelimiters?0:"auto",right:o.verticalDelimiters==="right"?0:"auto"}},[w.items.value.length>0&&e($e,{defaults:{VBtn:{color:o.color,icon:o.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[w.items.value.map((C,v)=>{const S={id:`carousel-item-${C.id}`,"aria-label":u("$vuetify.carousel.ariaLabel.delimiter",v+1,w.items.value.length),class:["v-carousel__controls__item",w.isSelected(C.id)&&"v-btn--active"],onClick:()=>w.select(C.id,!0)};return c.item?c.item({props:S,item:C}):e(j,L(C,S),null)})]})]),o.progress&&e(q,{class:"v-carousel__progress",color:typeof o.progress=="string"?o.progress:void 0,modelValue:(w.getItemIndex(m.value)+1)/w.items.value.length*100},null)])},prev:c.prev,next:c.next})}),{}}}),qe=fe({...ze(),...Ae()},"VCarouselItem"),Ye=me()({name:"VCarouselItem",inheritAttrs:!1,props:qe(),setup(o,a){let{slots:c,attrs:m}=a;ve(()=>{const u=ie.filterProps(o),s=le.filterProps(o);return e(le,L({class:["v-carousel-item",o.class]},s),{default:()=>[e(ie,L(m,u),c)]})})}}),He={class:"text-h6 text-white mb-1 mt-5"},Ge={class:"text-base"},Je={class:"d-inline-block"},Ke=["src"],Ze=F({__name:"FranchiseOverview",props:{totalFranchisees:{default:0},totalUnits:{default:0}},setup(o){const a=o,c=_(()=>[{name:"Franchisees",slideImg:Ue,data:[{number:a.totalFranchisees.toString(),text:"Total Franchisees"},{number:Math.round(a.totalFranchisees*.85).toString(),text:"Active"},{number:Math.round(a.totalFranchisees*.15).toString(),text:"Pending"},{number:a.totalFranchisees>0?"85%":"0%",text:"Active Rate"}]},{name:"Units",slideImg:Ne,data:[{number:a.totalUnits.toString(),text:"Total Units"},{number:Math.round(a.totalUnits*.75).toString(),text:"Operating"},{number:Math.round(a.totalUnits*.2).toString(),text:"In Setup"},{number:Math.round(a.totalUnits*.05).toString(),text:"Inactive"}]}]);return(m,u)=>(g(),y(A,{color:"primary",height:"260"},{default:t(()=>[e(je,{cycle:"",continuous:!1,"show-arrows":!1,"hide-delimiter-background":"","delimiter-icon":()=>("h"in m?m.h:l(Fe))(l(R),{icon:"fa-circle",size:"8"}),height:"260",class:"carousel-delimiter-top-end web-analytics-carousel"},{default:t(()=>[(g(!0),P(U,null,O(l(c),s=>(g(),y(Ye,{key:s.name},{default:t(()=>[e($,{class:"position-relative"},{default:t(()=>[e(T,null,{default:t(()=>[e(p,{cols:"12"},{default:t(()=>u[0]||(u[0]=[r("h5",{class:"text-h5 text-white"}," Franchise Analytics ",-1),r("p",{class:"text-sm mb-0"}," Total Overview ",-1)])),_:1,__:[0]}),e(p,{cols:"12",sm:"6",order:"2","order-sm":"1"},{default:t(()=>[e(T,null,{default:t(()=>[e(p,{cols:"12",class:"pb-0 pt-1"},{default:t(()=>[r("h6",He,h(s.name),1)]),_:2},1024),(g(!0),P(U,null,O(s.data,n=>(g(),y(p,{key:n.text,cols:"6",class:"text-no-wrap pb-2"},{default:t(()=>[e(ke,{label:"",variant:"flat",size:"default",color:"rgb(var(--v-theme-primary-darken-1))",class:"font-weight-medium text-white rounded me-2 px-2",style:{"block-size":"30px"}},{default:t(()=>[r("span",Ge,h(n.number),1)]),_:2},1024),r("span",Je,h(n.text),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),e(p,{cols:"12",sm:"6",order:"1","order-sm":"2",class:"text-center"},{default:t(()=>[r("img",{src:s.slideImg,class:"card-website-analytics-img",style:{filter:"drop-shadow(0 4px 60px rgba(0, 0, 0, 50%))"}},null,8,Ke)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["delimiter-icon"])]),_:1}))}}),Qe={class:"text-h4"},Xe=F({__name:"FranchiseeStats",props:{totalFranchisees:{default:0},change:{default:0}},setup(o){const a=o,c=Y(),m=c.current.value.colors,u=_(()=>[{data:[Math.round(a.totalFranchisees*.7),Math.round(a.totalFranchisees*.5),a.totalFranchisees,Math.round(a.totalFranchisees*.8)]}]),s={chart:{type:"area",toolbar:{show:!1},sparkline:{enabled:!0}},tooltip:{theme:c.current.value.dark?"dark":"light"},markers:{colors:"transparent",strokeColors:"transparent"},grid:{show:!1},colors:[m.success],fill:{type:"gradient",gradient:{shadeIntensity:.8,opacityFrom:.6,opacityTo:.1}},dataLabels:{enabled:!1},stroke:{width:2,curve:"smooth"},xaxis:{show:!0,lines:{show:!1},labels:{show:!1},stroke:{width:0},axisBorder:{show:!1}},yaxis:{stroke:{width:0},show:!1},responsive:[{breakpoint:1387,options:{chart:{height:80}}},{breakpoint:1200,options:{chart:{height:120}}}]};return(n,i)=>{const f=H;return g(),y(A,null,{default:t(()=>[e($,null,{default:t(()=>[i[0]||(i[0]=r("h5",{class:"text-h5 mb-3"}," Total Franchisees ",-1)),i[1]||(i[1]=r("p",{class:"mb-0"}," Active Franchise Partners ",-1)),r("h4",Qe,h(n.totalFranchisees),1),n.change!==0?(g(),P("div",{key:0,class:ge(["text-sm mt-1",n.change>0?"text-success":"text-error"])},h(n.change>0?"+":"")+h(n.change)+"% from last month ",3)):E("",!0)]),_:1,__:[0,1]}),e(f,{options:s,series:l(u),height:80},null,8,["series"])]),_:1})}}}),et={class:"d-flex align-center justify-space-between"},tt={class:"text-success font-weight-medium"},at={class:"text-h4"},st={class:"py-2"},rt={class:"d-flex align-center mb-3"},ot={class:"text-h5"},nt={class:"text-body-2 text-disabled"},lt={class:"d-flex flex-column align-center justify-center h-100"},it={class:"py-2"},ct={class:"d-flex align-center justify-end mb-3"},ut={class:"text-h5"},dt={class:"text-body-2 text-disabled"},ht={class:"mt-6"},mt=F({__name:"UnitStats",props:{totalUnits:{default:0},activeUnits:{default:0},inactiveUnits:{default:0}},setup(o){const a=o,c=_(()=>a.totalUnits===0?0:Math.round(a.activeUnits/a.totalUnits*100)),m=_(()=>a.totalUnits===0?0:Math.round(a.inactiveUnits/a.totalUnits*100));return(u,s)=>(g(),y(A,null,{default:t(()=>[e($,null,{default:t(()=>[r("div",et,[s[0]||(s[0]=r("div",{class:"text-body-1"}," Unit Overview ",-1)),r("div",tt,h(l(c))+"% Active ",1)]),r("h4",at,h(u.totalUnits),1)]),_:1}),e($,null,{default:t(()=>[e(T,{"no-gutters":""},{default:t(()=>[e(p,{cols:"5"},{default:t(()=>[r("div",st,[r("div",rt,[e(I,{color:"success",variant:"tonal",size:24,rounded:"",class:"me-2"},{default:t(()=>[e(R,{size:"18",icon:"tabler-building-store"})]),_:1}),s[1]||(s[1]=r("span",null,"Active",-1))]),r("h5",ot,h(l(c))+"% ",1),r("div",nt,h(u.activeUnits)+" units ",1)])]),_:1}),e(p,{cols:"2"},{default:t(()=>[r("div",lt,[e(ce,{vertical:"",class:"mx-auto"}),e(I,{size:"24",color:"rgba(var(--v-theme-on-surface), var(--v-hover-opacity))",class:"my-2"},{default:t(()=>s[2]||(s[2]=[r("div",{class:"text-overline text-disabled"}," VS ",-1)])),_:1,__:[2]}),e(ce,{vertical:"",class:"mx-auto"})])]),_:1}),e(p,{cols:"5",class:"text-end"},{default:t(()=>[r("div",it,[r("div",ct,[s[3]||(s[3]=r("span",{class:"me-2"},"Inactive",-1)),e(I,{color:"error",variant:"tonal",size:24,rounded:""},{default:t(()=>[e(R,{size:"18",icon:"tabler-building-off"})]),_:1})]),r("h5",ut,h(l(m))+"% ",1),r("div",dt,h(u.inactiveUnits)+" units ",1)])]),_:1})]),_:1}),r("div",ht,[e(q,{"model-value":l(c),color:"success",height:"10","bg-color":"error","rounded-bar":!1,rounded:""},null,8,["model-value"])])]),_:1})]),_:1}))}}),ft={class:"d-flex align-center gap-2 mb-3 flex-wrap"},pt={class:"text-sm text-medium-emphasis"},vt={class:"border rounded mt-5 pa-5"},gt={class:"d-flex align-center"},bt={class:"text-base font-weight-regular"},_t={class:"text-h4 my-2"},yt=F({__name:"RevenueOverview",props:{currentMonthRevenue:{default:0},revenueChange:{default:0},pendingRoyalties:{default:0},currentMonthSales:{default:0},currentMonthExpenses:{default:0},currentMonthProfit:{default:0}},setup(o){const a=o,c=Y(),m=_(()=>[{data:[Math.round(Math.abs(a.currentMonthProfit)*.1),Math.round(Math.abs(a.currentMonthProfit)*.15),Math.round(Math.abs(a.currentMonthProfit)*.12),Math.round(Math.abs(a.currentMonthProfit)*.13),Math.round(Math.abs(a.currentMonthProfit)*.2),Math.round(Math.abs(a.currentMonthProfit)*.15),Math.round(Math.abs(a.currentMonthProfit)*.15)]}]),u=_(()=>{const n=c.current.value.colors,i=c.current.value.variables;return{chart:{parentHeightOffset:0,type:"bar",toolbar:{show:!1}},plotOptions:{bar:{barHeight:"60%",columnWidth:"38%",startingShape:"rounded",endingShape:"rounded",borderRadius:4,distributed:!0}},grid:{show:!1,padding:{top:-30,bottom:0,left:-10,right:-10}},colors:[`rgba(${M(n.primary)},${i["dragged-opacity"]})`,`rgba(${M(n.primary)},${i["dragged-opacity"]})`,`rgba(${M(n.primary)},${i["dragged-opacity"]})`,`rgba(${M(n.primary)},${i["dragged-opacity"]})`,`rgba(${M(n.primary)}, 1)`,`rgba(${M(n.primary)},${i["dragged-opacity"]})`,`rgba(${M(n.primary)},${i["dragged-opacity"]})`],dataLabels:{enabled:!1},legend:{show:!1},xaxis:{categories:["Mo","Tu","We","Th","Fr","Sa","Su"],axisBorder:{show:!1},axisTicks:{show:!1},labels:{style:{colors:`rgba(${M(n["on-surface"])},${i["disabled-opacity"]})`,fontSize:"13px",fontFamily:"allotrope"}}},yaxis:{labels:{show:!1}},tooltip:{enabled:!1},responsive:[{breakpoint:1025,options:{chart:{height:199}}}]}}),s=_(()=>[{color:"success",icon:"tabler-trending-up",title:"Sales",amount:B(a.currentMonthSales,"SAR",!1),progress:"100"},{color:"error",icon:"tabler-trending-down",title:"Expenses",amount:B(a.currentMonthExpenses,"SAR",!1),progress:a.currentMonthSales>0?Math.round(a.currentMonthExpenses/a.currentMonthSales*100).toString():"0"},{color:a.currentMonthProfit>=0?"success":"error",icon:a.currentMonthProfit>=0?"tabler-coins":"tabler-alert-triangle",title:a.currentMonthProfit>=0?"Profit":"Loss",amount:B(Math.abs(a.currentMonthProfit),"SAR",!1),progress:a.currentMonthSales>0?Math.round(Math.abs(a.currentMonthProfit)/a.currentMonthSales*100).toString():"0"}]);return(n,i)=>{const f=H;return g(),y(A,null,{default:t(()=>[e(be,{class:"pb-sm-0"},{default:t(()=>[e(_e,null,{default:t(()=>i[0]||(i[0]=[x("Financial Overview")])),_:1,__:[0]}),e(ye,null,{default:t(()=>i[1]||(i[1]=[x("Monthly Sales, Expenses & Profit")])),_:1,__:[1]})]),_:1}),e($,null,{default:t(()=>[e(T,null,{default:t(()=>[e(p,{cols:"12",sm:"5",lg:"6",class:"d-flex flex-column align-self-center"},{default:t(()=>[r("div",ft,[r("h2",{class:ge(["text-h2",n.currentMonthProfit>=0?"text-success":"text-error"])},h(l(B)(Math.abs(n.currentMonthProfit),"SAR",!1)),3),n.revenueChange!==0?(g(),y(ke,{key:0,label:"",size:"small",color:n.revenueChange>0?"success":"error"},{default:t(()=>[x(h(n.revenueChange>0?"+":"")+h(n.revenueChange)+"% ",1)]),_:1},8,["color"])):E("",!0)]),r("span",pt,h(n.currentMonthProfit>=0?"Current month profit":"Current month loss")+" compared to last month ",1)]),_:1}),e(p,{cols:"12",sm:"7",lg:"6"},{default:t(()=>[e(f,{options:l(u),series:l(m),height:"161"},null,8,["options","series"])]),_:1})]),_:1}),r("div",vt,[e(T,null,{default:t(()=>[(g(!0),P(U,null,O(l(s),b=>(g(),y(p,{key:b.title,cols:"12",sm:"4"},{default:t(()=>[r("div",gt,[e(I,{rounded:"",size:"26",color:b.color,variant:"tonal",class:"me-2"},{default:t(()=>[e(R,{size:"18",icon:b.icon},null,8,["icon"])]),_:2},1032,["color"]),r("h6",bt,h(b.title),1)]),r("h6",_t,h(b.amount),1),e(q,{"model-value":b.progress,color:b.color,height:"4",rounded:"","rounded-bar":""},null,8,["model-value","color"])]),_:2},1024))),128))]),_:1})])]),_:1})]),_:1})}}}),kt={class:"mb-lg-6 mb-4 mt-2"},xt={class:"text-h2"},Mt=F({__name:"TaskTracker",props:{activeTasks:{default:0},completedTasks:{default:0},pendingTasks:{default:0},totalTasks:{default:0}},setup(o){const a=o,c=Y(),m=_(()=>a.totalTasks===0?0:Math.round(a.completedTasks/a.totalTasks*100)),u=_(()=>[m.value]),s=_(()=>{const i=c.current.value.colors,f=c.current.value.variables;return{labels:["Completed Tasks"],chart:{type:"radialBar"},plotOptions:{radialBar:{offsetY:10,startAngle:-140,endAngle:130,hollow:{size:"65%"},track:{background:i.surface,strokeWidth:"100%"},dataLabels:{name:{offsetY:-20,color:`rgba(${M(i["on-surface"])},${f["disabled-opacity"]})`,fontSize:"13px",fontWeight:"400",fontFamily:"allotrope"},value:{offsetY:10,color:`rgba(${M(i["on-background"])},${f["high-emphasis-opacity"]})`,fontSize:"38px",fontWeight:"500",fontFamily:"allotrope"}}}},colors:[i.primary],fill:{type:"gradient",gradient:{shade:"dark",shadeIntensity:.5,gradientToColors:[i.primary],inverseColors:!0,opacityFrom:1,opacityTo:.6,stops:[30,70,100]}},stroke:{dashArray:10},grid:{padding:{top:-20,bottom:5}},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},responsive:[{breakpoint:960,options:{chart:{height:280}}}]}}),n=_(()=>[{avatarColor:"primary",avatarIcon:"tabler-clipboard-list",title:"Active Tasks",subtitle:a.activeTasks.toString()},{avatarColor:"success",avatarIcon:"tabler-check",title:"Completed",subtitle:a.completedTasks.toString()},{avatarColor:"warning",avatarIcon:"tabler-clock",title:"Pending",subtitle:a.pendingTasks.toString()}]);return(i,f)=>{const b=H;return g(),y(A,null,{default:t(()=>[e(be,null,{default:t(()=>[e(_e,null,{default:t(()=>f[0]||(f[0]=[x("Task Tracker")])),_:1,__:[0]}),e(ye,null,{default:t(()=>f[1]||(f[1]=[x("Franchise Operations")])),_:1,__:[1]})]),_:1}),e($,null,{default:t(()=>[e(T,null,{default:t(()=>[e(p,{cols:"12",lg:"4",md:"4"},{default:t(()=>[r("div",kt,[r("h2",xt,h(i.totalTasks),1),f[2]||(f[2]=r("p",{class:"text-base mb-0"}," Total Tasks ",-1))]),e(Be,{class:"card-list"},{default:t(()=>[(g(!0),P(U,null,O(l(n),k=>(g(),y(De,{key:k.title},{prepend:t(()=>[e(I,{rounded:"",size:"34",color:k.avatarColor,variant:"tonal",class:"me-1"},{default:t(()=>[e(R,{size:"22",icon:k.avatarIcon},null,8,["icon"])]),_:2},1032,["color"])]),default:t(()=>[e(Le,{class:"font-weight-medium"},{default:t(()=>[x(h(k.title),1)]),_:2},1024),e(Oe,null,{default:t(()=>[x(h(k.subtitle),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),e(p,{cols:"12",lg:"8",md:"8"},{default:t(()=>[e(b,{options:l(s),series:l(u),height:"360"},null,8,["options","series"])]),_:1})]),_:1})]),_:1})]),_:1})}}}),wt=xe(Mt,[["__scopeId","data-v-a7698c59"]]),Tt={class:"mb-3"},Ct={class:"d-flex align-center justify-space-between"},Vt={class:"text-h2 mb-1"},St=F({__name:"index",setup(o){const a=he(),{checkAndRedirect:c}=Ee(),m=D("Franchisor"),{error:u,dashboardStats:s,isProfileComplete:n,franchiseExists:i,dismissBanner:f,initializeDashboard:b,refreshDashboard:k}=Me(),w=()=>{a.push("/franchisor/franchise-registration")},C=async()=>{var V;try{const d=await Ie.getFranchiseData();d.success&&d.data&&(m.value=((V=d.data.franchiseDetails)==null?void 0:V.franchiseName)||"Franchisor")}catch(d){console.error("Error fetching franchise name:",d)}},v=_(()=>{var V,d,N,G,J,K,Z,Q,X,ee,te,ae,se,re,oe;return{totalFranchisees:((V=s.value)==null?void 0:V.totalFranchisees)||0,totalUnits:((d=s.value)==null?void 0:d.totalUnits)||0,activeUnits:((N=s.value)==null?void 0:N.activeUnits)||0,inactiveUnits:((G=s.value)==null?void 0:G.inactiveUnits)||0,totalLeads:((J=s.value)==null?void 0:J.totalLeads)||0,activeTasks:((K=s.value)==null?void 0:K.activeTasks)||0,completedTasks:((Z=s.value)==null?void 0:Z.completedTasks)||0,pendingTasks:((Q=s.value)==null?void 0:Q.pendingTasks)||0,totalTasks:((X=s.value)==null?void 0:X.totalTasks)||0,currentMonthRevenue:((ee=s.value)==null?void 0:ee.currentMonthRevenue)||0,currentMonthSales:((te=s.value)==null?void 0:te.currentMonthSales)||0,currentMonthExpenses:((ae=s.value)==null?void 0:ae.currentMonthExpenses)||0,currentMonthProfit:((se=s.value)==null?void 0:se.currentMonthProfit)||0,revenueChange:((re=s.value)==null?void 0:re.revenueChange)||0,pendingRoyalties:((oe=s.value)==null?void 0:oe.pendingRoyalties)||0}}),S=_(()=>({total:v.value.totalUnits,active:v.value.activeUnits,inactive:v.value.inactiveUnits})),z=_(()=>({active:v.value.activeTasks,completed:v.value.completedTasks,pending:v.value.pendingTasks,total:v.value.totalTasks}));return pe(async()=>{await c()||(await b(),i.value&&await C())}),(V,d)=>(g(),P("section",null,[l(u)?(g(),y(de,{key:0,type:"error",variant:"tonal",class:"mb-6",closable:"","onClick:close":d[0]||(d[0]=N=>u.value=null)},{default:t(()=>[e(ue,{class:"mb-2"},{default:t(()=>d[1]||(d[1]=[x(" Error Loading Dashboard ")])),_:1,__:[1]}),r("p",Tt,h(l(u)),1),e(j,{color:"error",variant:"elevated",size:"small",onClick:l(k)},{default:t(()=>d[2]||(d[2]=[x(" Retry ")])),_:1,__:[2]},8,["onClick"])]),_:1})):E("",!0),l(n)?E("",!0):(g(),y(de,{key:1,type:"warning",variant:"tonal",class:"mb-6",closable:"","onClick:close":l(f)},{default:t(()=>[e(ue,{class:"mb-2"},{default:t(()=>d[3]||(d[3]=[x(" Complete Your Franchise Profile ")])),_:1,__:[3]}),d[5]||(d[5]=r("p",{class:"mb-3"}," Welcome to your franchisor dashboard! To get started and unlock all features, please complete your franchise registration process. ",-1)),e(j,{color:"info",variant:"elevated",size:"small",onClick:w},{default:t(()=>d[4]||(d[4]=[x(" Complete Onboarding Process ")])),_:1,__:[4]})]),_:1,__:[5]},8,["onClick:close"])),e(T,null,{default:t(()=>[e(p,{cols:"12"},{default:t(()=>[r("div",Ct,[r("div",null,[r("h2",Vt,h(l(m)),1),d[6]||(d[6]=r("p",{class:"text-body-1 text-medium-emphasis"}," Welcome back! Here's what's happening with your franchise. ",-1))])])]),_:1})]),_:1}),e(T,{class:"match-height"},{default:t(()=>[e(p,{cols:"12",md:"6"},{default:t(()=>[e(Ze,{"total-franchisees":l(v).totalFranchisees,"total-units":l(v).totalUnits},null,8,["total-franchisees","total-units"])]),_:1}),e(p,{cols:"12",md:"3",sm:"6"},{default:t(()=>[e(Xe,{"total-franchisees":l(v).totalFranchisees,change:0},null,8,["total-franchisees"])]),_:1}),e(p,{cols:"12",md:"3",sm:"6"},{default:t(()=>[e(mt,{"total-units":l(S).total,"active-units":l(S).active,"inactive-units":l(S).inactive},null,8,["total-units","active-units","inactive-units"])]),_:1}),e(p,{cols:"12",md:"6"},{default:t(()=>[e(yt,{"current-month-revenue":l(v).currentMonthRevenue,"revenue-change":l(v).revenueChange,"pending-royalties":l(v).pendingRoyalties,"current-month-sales":l(v).currentMonthSales,"current-month-expenses":l(v).currentMonthExpenses,"current-month-profit":l(v).currentMonthProfit},null,8,["current-month-revenue","revenue-change","pending-royalties","current-month-sales","current-month-expenses","current-month-profit"])]),_:1}),e(p,{cols:"12",md:"6"},{default:t(()=>[e(wt,{"active-tasks":l(z).active,"completed-tasks":l(z).completed,"pending-tasks":l(z).pending,"total-tasks":l(z).total},null,8,["active-tasks","completed-tasks","pending-tasks","total-tasks"])]),_:1})]),_:1})]))}}),Gt=xe(St,[["__scopeId","data-v-0270a443"]]);export{Gt as default};
