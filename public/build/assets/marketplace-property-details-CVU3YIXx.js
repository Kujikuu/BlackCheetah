import{d as Q,aA as X,u as Y,e as Z,O as C,g as V,E as ee,ap as te,c as b,o as c,y as e,a as h,h as _,i as l,k as t,l as s,bf as se,F as N,s as $,q as v,t as r,a7 as I,av as u,r as M,aI as le}from"./main-CrqE58uP.js";import{m as oe}from"./marketplace-vyRIZHa2.js";import{N as ae,V as L,F as ie}from"./front-page-navbar-Du2nyNwD.js";import{I as re}from"./inquiry-form-Dsmal7Yt.js";import{f as O}from"./formatters-aoHiJebZ.js";import{p as ne}from"./placholder-dqqvaU69.js";import{e as A,V as g,a as w,d as z,f as k,b as y}from"./VCard-CZdMCf39.js";import{V as D,a as f}from"./VRow-CpsRAF9x.js";import{V as U}from"./VChip-DAJCEXh0.js";import{S as de}from"./saudi-riyal-fSafm3au.js";import{V as ce}from"./VDialog-B-G_-ykr.js";import{_ as me}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VNodeRenderer-Cp4LkVpV.js";import"./useGenerateImageVariant-BgC3aKRZ.js";import"./NavbarThemeSwitcher.vue_vue_type_script_setup_true_lang-DFkOOtU7.js";import"./VTooltip-BHFf0L6p.js";import"./VMenu-DgtDpKbJ.js";import"./VList-lIvAURjR.js";import"./VDivider-CI--kmsf.js";import"./VNavigationDrawer-jMCRLIt-.js";import"./VSpacer-aXcnQPec.js";import"./VForm-CFw85RGO.js";import"./form-B3cvC5mg.js";import"./VTextField-D8j7WlPL.js";import"./VField-B7JFJ89s.js";import"./VInput-DSx6x9Bd.js";import"./VTextarea-DM0Hm3il.js";import"./VSlideGroup-0oZ-DmCO.js";const ue={class:"property-details-page"},pe={class:"text-center"},fe={class:"property-hero"},_e={class:"hero-image-wrapper"},he={class:"hero-title text-white font-weight-bold"},ve={key:0,class:"more-images-overlay"},ge={class:"text-h4 font-weight-bold text-white"},ye={class:"text-body-1"},xe={class:"detail-item"},be={class:"flex-grow-1"},ke={class:"text-h6 font-weight-medium"},we={class:"detail-item"},ze={class:"flex-grow-1"},Ce={class:"text-h6 font-weight-medium text-success"},Ve={class:"detail-item"},Ie={class:"flex-grow-1"},Le={class:"text-h6 font-weight-medium"},Ae={class:"detail-item"},De={class:"flex-grow-1"},Pe={class:"text-h6 font-weight-medium"},Se={class:"detail-item"},Ne={class:"flex-grow-1"},Re={class:"text-h6 font-weight-medium"},Fe={class:"detail-item"},Te={class:"flex-grow-1"},Be={class:"text-h6 font-weight-medium text-capitalize"},Ee={class:"d-flex align-start gap-4"},qe={class:"flex-grow-1"},$e={class:"text-body-1 font-weight-medium mb-1"},Me={class:"text-sm text-medium-emphasis"},Oe={class:"d-flex align-start gap-4"},Ue={class:"flex-grow-1"},je={class:"text-h6 font-weight-medium mb-2"},Ke={class:"d-flex align-center gap-2 mb-1"},Je={class:"text-body-2 text-medium-emphasis"},We={key:0,class:"d-flex align-center gap-2"},Ge={class:"text-body-2 text-medium-emphasis"},He={class:"sticky-form-wrapper"},Qe={class:"lightbox-counter"},Xe={class:"lightbox-content"},Ye={key:2,class:"lightbox-thumbnails"},Ze={class:"thumbnail-strip"},et=Q({__name:"marketplace-property-details",setup(tt){const j=X();j.skin="default";const K=Y(),R=Z(),F=C(()=>Number(K.params.id)),i=V(null),P=V(!1),x=V(!1),p=V(0),J=async()=>{try{P.value=!0;const a=await oe.getPropertyDetails(F.value);a.success&&a.data?i.value=a.data:R.push({name:"marketplace"})}catch(a){console.error("Error fetching property details:",a),R.push({name:"marketplace"})}finally{P.value=!1}},W=a=>a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Available now",T=C(()=>{var m;if(!((m=i.value)!=null&&m.property_type))return"";const a=i.value.property_type;return{retail:"Retail",office:"Office",kiosk:"Kiosk",food_court:"Food Court",standalone:"Standalone"}[a.toLowerCase()]||a.split("_").map(d=>d.charAt(0).toUpperCase()+d.slice(1).toLowerCase()).join(" ")}),n=C(()=>{var o,m;if(!((o=i.value)!=null&&o.images))return[];let a=(m=i.value)==null?void 0:m.images;if(typeof a=="string")try{a=JSON.parse(a)}catch{return[]}return Array.isArray(a)?a.filter(d=>d&&typeof d=="string"&&d.trim()!==""&&!d.startsWith("[")):[]}),G=C(()=>n.value.length>0?n.value[0]:ne),S=a=>{p.value=a,x.value=!0},B=()=>{p.value>0?p.value--:p.value=n.value.length-1},E=()=>{p.value<n.value.length-1?p.value++:p.value=0},q=a=>{x.value&&(a.key==="ArrowLeft"?B():a.key==="ArrowRight"?E():a.key==="Escape"&&(x.value=!1))};return ee(()=>{J(),window.addEventListener("keydown",q)}),te(()=>{window.removeEventListener("keydown",q)}),(a,o)=>(c(),b("div",ue,[e(ae),l(P)?(c(),h(L,{key:0,class:"py-16"},{default:t(()=>[s("div",pe,[e(se,{indeterminate:"",color:"primary",size:"64"}),o[4]||(o[4]=s("p",{class:"text-h6 mt-4"}," Loading property details... ",-1))])]),_:1})):l(i)?(c(),b(N,{key:1},[s("section",fe,[s("div",_e,[e(A,{src:l(G),cover:"",class:$(["hero-image",{"cursor-pointer":l(n).length>0}]),onClick:o[0]||(o[0]=m=>l(n).length>0?S(0):null)},null,8,["src","class"]),o[5]||(o[5]=s("div",{class:"hero-overlay"},null,-1)),l(n).length>1?(c(),h(I,{key:0,color:"white",variant:"elevated",class:"view-gallery-btn","prepend-icon":"tabler-photo",onClick:o[1]||(o[1]=m=>S(0))},{default:t(()=>[v(" View All "+r(l(n).length)+" Photos ",1)]),_:1})):_("",!0),e(L,{class:"hero-content"},{default:t(()=>[e(D,null,{default:t(()=>[e(f,{cols:"12",md:"8",lg:"7"},{default:t(()=>[e(U,{color:"success",size:"small",class:"mb-4"},{default:t(()=>[e(u,{icon:"tabler-building",size:"16",class:"me-1"}),v(" "+r(l(T)),1)]),_:1}),s("h1",he,r(l(i).title),1)]),_:1})]),_:1})]),_:1})])]),l(n).length>1?(c(),h(L,{key:0,class:"py-6"},{default:t(()=>[e(g,{elevation:"2",class:"rounded-lg"},{default:t(()=>[e(w,null,{default:t(()=>[e(z,{class:"text-h5"},{default:t(()=>o[6]||(o[6]=[v("Property Images")])),_:1,__:[6]})]),_:1}),e(k,null,{default:t(()=>[e(D,null,{default:t(()=>[(c(!0),b(N,null,M(l(n).slice(0,6),(m,d)=>(c(),h(f,{key:d,cols:"6",sm:"4",md:"2"},{default:t(()=>[e(g,{class:"gallery-thumbnail",elevation:"0",onClick:H=>S(d)},{default:t(()=>[e(A,{src:m,"aspect-ratio":"1",cover:"",class:"rounded cursor-pointer"},null,8,["src"]),d===5&&l(n).length>6?(c(),b("div",ve,[s("div",ge," +"+r(l(n).length-6),1)])):_("",!0)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})):_("",!0),e(L,{class:"py-8"},{default:t(()=>[e(D,null,{default:t(()=>[e(f,{cols:"12",md:"8"},{default:t(()=>[e(g,{elevation:"2",class:"mb-6 rounded-lg"},{default:t(()=>[e(w,null,{default:t(()=>[e(z,{class:"text-h5"},{default:t(()=>o[7]||(o[7]=[v("Property Description")])),_:1,__:[7]})]),_:1}),e(k,null,{default:t(()=>[s("p",ye,r(l(i).description),1)]),_:1})]),_:1}),e(g,{elevation:"2",class:"mb-6 rounded-lg"},{default:t(()=>[e(w,null,{default:t(()=>[e(z,{class:"text-h5"},{default:t(()=>o[8]||(o[8]=[v("Property Details")])),_:1,__:[8]})]),_:1}),e(k,null,{default:t(()=>[e(D,null,{default:t(()=>[e(f,{cols:"12",sm:"6"},{default:t(()=>[s("div",xe,[e(y,{size:"40",color:"primary",variant:"tonal",class:"me-3"},{default:t(()=>[e(u,{icon:"tabler-ruler",size:"20"})]),_:1}),s("div",be,[o[9]||(o[9]=s("div",{class:"text-sm text-medium-emphasis mb-1"}," Size ",-1)),s("div",ke,r((l(i).size_sqm||0).toLocaleString())+" sqm ",1)])])]),_:1}),e(f,{cols:"12",sm:"6"},{default:t(()=>[s("div",we,[e(y,{size:"40",color:"success",variant:"tonal",class:"me-3"},{default:t(()=>[e(u,{icon:l(de),size:"20"},null,8,["icon"])]),_:1}),s("div",ze,[o[10]||(o[10]=s("div",{class:"text-sm text-medium-emphasis mb-1"}," Monthly Rent ",-1)),s("div",Ce,r(l(O)(l(i).monthly_rent)),1)])])]),_:1}),e(f,{cols:"12",sm:"6"},{default:t(()=>[s("div",Ve,[e(y,{size:"40",color:"info",variant:"tonal",class:"me-3"},{default:t(()=>[e(u,{icon:"tabler-coin",size:"20"})]),_:1}),s("div",Ie,[o[11]||(o[11]=s("div",{class:"text-sm text-medium-emphasis mb-1"}," Deposit Amount ",-1)),s("div",Le,r(l(O)(l(i).deposit_amount||0)),1)])])]),_:1}),e(f,{cols:"12",sm:"6"},{default:t(()=>[s("div",Ae,[e(y,{size:"40",color:"warning",variant:"tonal",class:"me-3"},{default:t(()=>[e(u,{icon:"tabler-calendar",size:"20"})]),_:1}),s("div",De,[o[12]||(o[12]=s("div",{class:"text-sm text-medium-emphasis mb-1"}," Lease Term ",-1)),s("div",Pe,r(l(i).lease_term_months)+" months ",1)])])]),_:1}),e(f,{cols:"12",sm:"6"},{default:t(()=>[s("div",Se,[e(y,{size:"40",color:"secondary",variant:"tonal",class:"me-3"},{default:t(()=>[e(u,{icon:"tabler-calendar-check",size:"20"})]),_:1}),s("div",Ne,[o[13]||(o[13]=s("div",{class:"text-sm text-medium-emphasis mb-1"}," Available From ",-1)),s("div",Re,r(W(l(i).available_from)),1)])])]),_:1}),e(f,{cols:"12",sm:"6"},{default:t(()=>[s("div",Fe,[e(y,{size:"40",color:"primary",variant:"tonal",class:"me-3"},{default:t(()=>[e(u,{icon:"tabler-building",size:"20"})]),_:1}),s("div",Te,[o[14]||(o[14]=s("div",{class:"text-sm text-medium-emphasis mb-1"}," Property Type ",-1)),s("div",Be,r(l(T)),1)])])]),_:1})]),_:1})]),_:1})]),_:1}),e(g,{elevation:"2",class:"mb-6 rounded-lg"},{default:t(()=>[e(w,null,{default:t(()=>[e(z,{class:"text-h5"},{default:t(()=>o[15]||(o[15]=[v("Location")])),_:1,__:[15]})]),_:1}),e(k,null,{default:t(()=>[s("div",Ee,[e(y,{size:"48",color:"error",variant:"tonal"},{default:t(()=>[e(u,{icon:"tabler-map-pin",size:"24"})]),_:1}),s("div",qe,[s("div",$e,r(l(i).address),1),s("div",Me,r(l(i).city)+", "+r(l(i).state_province)+" "+r(l(i).postal_code),1)])])]),_:1})]),_:1}),l(i).broker?(c(),h(g,{key:0,elevation:"2",class:"mb-6 rounded-lg"},{default:t(()=>[e(w,null,{default:t(()=>[e(z,{class:"text-h5"},{default:t(()=>o[16]||(o[16]=[v("Listed By")])),_:1,__:[16]})]),_:1}),e(k,null,{default:t(()=>[s("div",Oe,[e(y,{size:"64",color:"primary",variant:"tonal"},{default:t(()=>[e(u,{icon:"tabler-user",size:"32"})]),_:1}),s("div",Ue,[s("div",je,r(l(i).broker.name),1),s("div",Ke,[e(u,{icon:"tabler-mail",size:"18",class:"text-medium-emphasis"}),s("span",Je,r(l(i).broker.email),1)]),l(i).broker.phone?(c(),b("div",We,[e(u,{icon:"tabler-phone",size:"18",class:"text-medium-emphasis"}),s("span",Ge,r(l(i).broker.phone),1)])):_("",!0)])])]),_:1})]),_:1})):_("",!0)]),_:1}),e(f,{cols:"12",md:"4"},{default:t(()=>[s("div",He,[e(re,{"inquiry-type":"property","item-id":l(F),title:"Interested in This Property?"},null,8,["item-id"])])]),_:1})]),_:1})]),_:1})],64)):_("",!0),e(ie),e(ce,{modelValue:l(x),"onUpdate:modelValue":o[3]||(o[3]=m=>le(x)?x.value=m:null),fullscreen:"",transition:"dialog-bottom-transition",class:"lightbox-dialog"},{default:t(()=>[e(g,{color:"black"},{default:t(()=>[e(I,{icon:"",size:"large",color:"white",class:"lightbox-close-btn",onClick:o[2]||(o[2]=m=>x.value=!1)},{default:t(()=>[e(u,{icon:"tabler-x",size:"28"})]),_:1}),s("div",Qe,[e(U,{color:"rgba(0, 0, 0, 0.7)",class:"text-white"},{default:t(()=>[v(r(l(p)+1)+" / "+r(l(n).length),1)]),_:1})]),e(k,{class:"d-flex align-center justify-center pa-0",style:{height:"100vh"}},{default:t(()=>[s("div",Xe,[e(A,{src:l(n)[l(p)],"max-height":"90vh","max-width":"90vw",contain:"",class:"lightbox-image"},null,8,["src"])])]),_:1}),l(n).length>1?(c(),h(I,{key:0,icon:"",size:"large",color:"white",class:"lightbox-nav-btn lightbox-prev-btn",onClick:B},{default:t(()=>[e(u,{icon:"tabler-chevron-left",size:"32"})]),_:1})):_("",!0),l(n).length>1?(c(),h(I,{key:1,icon:"",size:"large",color:"white",class:"lightbox-nav-btn lightbox-next-btn",onClick:E},{default:t(()=>[e(u,{icon:"tabler-chevron-right",size:"32"})]),_:1})):_("",!0),l(n).length>1?(c(),b("div",Ye,[s("div",Ze,[(c(!0),b(N,null,M(l(n),(m,d)=>(c(),h(g,{key:d,class:$(["thumbnail-item",{active:d===l(p)}]),elevation:"0",onClick:H=>p.value=d},{default:t(()=>[e(A,{src:m,"aspect-ratio":"1",cover:"",class:"rounded cursor-pointer"},null,8,["src"])]),_:2},1032,["class","onClick"]))),128))])])):_("",!0)]),_:1})]),_:1},8,["modelValue"])]))}}),Dt=me(et,[["__scopeId","data-v-72ab0c4c"]]);export{Dt as default};
