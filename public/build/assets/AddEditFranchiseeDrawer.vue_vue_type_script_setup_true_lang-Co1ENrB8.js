import{r as u,e as U}from"./validators-BHkKs9Dp.js";import{d as C,g as c,w as S,a as _,o as A,k as r,y as l,b7 as M,aI as O,i as t,a7 as D,q as b,t as g}from"./main-CjIXzPPN.js";import{_ as T}from"./AppSelect.vue_vue_type_script_setup_true_lang-cQft3JvN.js";import{_ as $}from"./AppTextField.vue_vue_type_script_setup_true_lang-FOohyJD1.js";import{b as B}from"./ViewUserDialog.vue_vue_type_script_setup_true_lang-CpRLGfu-.js";import{V as R}from"./VDivider-BfvNl_GQ.js";import{V as E,f as J}from"./VCard-DsOmZPOW.js";import{V as I}from"./VForm-DPrjrYwI.js";import{V as K,a as d}from"./VRow-B0XS-9G3.js";import{V as P}from"./VNavigationDrawer-I1Op2Mot.js";const x=C({__name:"AddEditFranchiseeDrawer",props:{isDrawerOpen:{type:Boolean},franchisee:{default:void 0}},emits:["update:isDrawerOpen","franchiseeData"],setup(q,{emit:k}){const s=q,n=k,m=c(!1),p=c(),o=c({id:null,fullName:"",email:"",phone:"",location:"",status:"active",avatar:""}),N=[{title:"Active",value:"active"},{title:"Pending",value:"pending"},{title:"Inactive",value:"inactive"}],y=[{title:"Riyadh",value:"Riyadh"},{title:"Jeddah",value:"Jeddah"},{title:"Makkah",value:"Makkah"},{title:"Madinah",value:"Madinah"},{title:"Dammam",value:"Dammam"},{title:"Khobar",value:"Khobar"},{title:"Tabuk",value:"Tabuk"}],f=()=>{var e;o.value={id:null,fullName:"",email:"",phone:"",location:"",status:"active",avatar:""},(e=p.value)==null||e.reset()};S(()=>s.franchisee,e=>{e?o.value={id:e.id,fullName:e.fullName,email:e.email,phone:e.phone,location:e.location,status:e.status,avatar:e.avatar||""}:f()},{immediate:!0});const F=()=>{var e;(e=p.value)==null||e.validate().then(({valid:a})=>{a&&(n("franchiseeData",{...o.value}),n("update:isDrawerOpen",!1),f())})},V=e=>{n("update:isDrawerOpen",e),e||f()};return(e,a)=>{const w=B,v=$,h=T;return A(),_(P,{temporary:"",location:"end","model-value":s.isDrawerOpen,width:"400","onUpdate:modelValue":V},{default:r(()=>[l(w,{title:s.franchisee?"Edit Franchisee":"Add New Franchisee",onCancel:a[0]||(a[0]=i=>V(!1))},null,8,["title"]),l(R),l(E,{flat:""},{default:r(()=>[l(J,null,{default:r(()=>[l(I,{ref_key:"refForm",ref:p,modelValue:t(m),"onUpdate:modelValue":a[7]||(a[7]=i=>O(m)?m.value=i:null),onSubmit:M(F,["prevent"])},{default:r(()=>[l(K,null,{default:r(()=>[l(d,{cols:"12"},{default:r(()=>[l(v,{modelValue:t(o).fullName,"onUpdate:modelValue":a[1]||(a[1]=i=>t(o).fullName=i),label:"Full Name",placeholder:"Jane Smith",rules:["requiredValidator"in e?e.requiredValidator:t(u)]},null,8,["modelValue","rules"])]),_:1}),l(d,{cols:"12"},{default:r(()=>[l(v,{modelValue:t(o).email,"onUpdate:modelValue":a[2]||(a[2]=i=>t(o).email=i),label:"Email",type:"email",placeholder:"jane.smith@example.com",rules:["requiredValidator"in e?e.requiredValidator:t(u),"emailValidator"in e?e.emailValidator:t(U)]},null,8,["modelValue","rules"])]),_:1}),l(d,{cols:"12"},{default:r(()=>[l(v,{modelValue:t(o).phone,"onUpdate:modelValue":a[3]||(a[3]=i=>t(o).phone=i),label:"Phone",placeholder:"+966 50 123 4567",rules:["requiredValidator"in e?e.requiredValidator:t(u)]},null,8,["modelValue","rules"])]),_:1}),l(d,{cols:"12"},{default:r(()=>[l(h,{modelValue:t(o).location,"onUpdate:modelValue":a[4]||(a[4]=i=>t(o).location=i),label:"Location",items:y,rules:["requiredValidator"in e?e.requiredValidator:t(u)]},null,8,["modelValue","rules"])]),_:1}),l(d,{cols:"12"},{default:r(()=>[l(h,{modelValue:t(o).status,"onUpdate:modelValue":a[5]||(a[5]=i=>t(o).status=i),label:"Status",items:N,rules:["requiredValidator"in e?e.requiredValidator:t(u)]},null,8,["modelValue","rules"])]),_:1}),l(d,{cols:"12"},{default:r(()=>[l(D,{type:"submit",class:"me-3"},{default:r(()=>[b(g(s.franchisee?"Update":"Submit"),1)]),_:1}),l(D,{variant:"outlined",color:"secondary",onClick:a[6]||(a[6]=i=>V(!1))},{default:r(()=>a[8]||(a[8]=[b(" Cancel ")])),_:1,__:[8]})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model-value"])}}});export{x as _};
