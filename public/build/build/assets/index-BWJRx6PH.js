import{u as W}from"./useFranchisorDashboard-DDNfaIck.js";import{d as q,j as G,P as H,G as Q,c as m,o,g as f,l as v,b as e,m as r,f as t,e as l,t as i,v as n,a3 as x,F as g,i as k,a$ as T,aa as b,x as Y}from"./main-DDcdwm3V.js";import{a as $,V as S}from"./VAlert-CP8IXMK2.js";import{a as d,V as y}from"./VRow-Du7OY2aM.js";import{V as c,a as z,b as D}from"./VCard-Da4wWZa-.js";import{V as u}from"./VCardText-ATWVip1e.js";import{V as M}from"./VAvatar-C3D4PMay.js";import{V as J,a as w,b as R,d as K}from"./VList-2Ufa-KEk.js";import{V as U}from"./VDivider-CRFyNRVK.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css              */import"./VImg-NWIUnknk.js";import"./ssrBoot-DP6bgzRb.js";const Z={class:"mb-3"},ee={class:"d-flex align-center justify-space-between"},te={class:"d-flex align-center gap-3"},se={class:"ms-4"},ae={class:"text-body-2 text-disabled"},le={class:"d-flex align-center flex-wrap"},oe={class:"text-h4 me-2"},re={class:"text-body-2 text-disabled"},ie={class:"text-body-2 font-weight-medium"},ne=q({__name:"index",setup(de){const N=G(),{isLoading:C,error:V,dashboardStats:_,salesAssociates:B,recentActivities:A,isProfileComplete:I,dismissBanner:O,initializeDashboard:F,refreshDashboard:L}=W(),P=H(()=>_.value?[{title:"Total Leads",value:_.value.totalLeads.toString(),change:0,desc:"Active leads in pipeline",icon:"tabler-users",iconColor:"primary"},{title:"Active Tasks",value:_.value.activeTasks.toString(),change:0,desc:"Ongoing operations",icon:"tabler-settings",iconColor:"success"},{title:"Sales Associates",value:B.value.length.toString(),change:0,desc:"Active team members",icon:"tabler-user-check",iconColor:"info"},{title:"Monthly Revenue",value:`$${_.value.currentMonthRevenue.toLocaleString()}`,change:_.value.revenueChange,desc:"This month's revenue",icon:"tabler-currency-riyal",iconColor:"warning"}]:[{title:"Total Leads",value:"0",change:0,desc:"Active leads in pipeline",icon:"tabler-users",iconColor:"primary"},{title:"Active Tasks",value:"0",change:0,desc:"Ongoing operations",icon:"tabler-settings",iconColor:"success"},{title:"Sales Associates",value:"0",change:0,desc:"Active team members",icon:"tabler-user-check",iconColor:"info"},{title:"Monthly Revenue",value:"$0",change:0,desc:"This month's revenue",icon:"tabler-currency-riyal",iconColor:"warning"}]),j=[{title:"Add New Lead",icon:"tabler-user-plus",color:"primary",to:"/franchisor/add-lead"},{title:"Manage Leads",icon:"tabler-users",color:"success",to:"/franchisor/lead-management"},{title:"View Operations",icon:"tabler-settings",color:"info",to:"/franchisor/dashboard/operations"},{title:"Sales Team",icon:"tabler-user-check",color:"warning",to:"/franchisor/sales-associates"}],E=()=>{N.push("/franchisor/franchise-registration")};return Q(async()=>{await F()}),(h,s)=>(o(),m("section",null,[r(V)?(o(),f(S,{key:0,type:"error",variant:"tonal",class:"mb-6",closable:"","onClick:close":s[0]||(s[0]=a=>V.value=null)},{default:t(()=>[e($,{class:"mb-2"},{default:t(()=>s[4]||(s[4]=[i(" Error Loading Dashboard ")])),_:1,__:[4]}),l("p",Z,n(r(V)),1),e(x,{color:"error",variant:"elevated",size:"small",onClick:r(L)},{default:t(()=>s[5]||(s[5]=[i(" Retry ")])),_:1,__:[5]},8,["onClick"])]),_:1})):v("",!0),r(I)?v("",!0):(o(),f(S,{key:1,type:"warning",variant:"tonal",class:"mb-6",closable:"","onClick:close":r(O)},{default:t(()=>[e($,{class:"mb-2"},{default:t(()=>s[6]||(s[6]=[i(" Complete Your Franchise Profile ")])),_:1,__:[6]}),s[8]||(s[8]=l("p",{class:"mb-3"}," Welcome to your franchisor dashboard! To get started and unlock all features, please complete your franchise registration process. ",-1)),e(x,{color:"info",variant:"elevated",size:"small",onClick:E},{default:t(()=>s[7]||(s[7]=[i(" Complete Onboarding Process ")])),_:1,__:[7]})]),_:1,__:[8]},8,["onClick:close"])),e(y,{class:"mb-6"},{default:t(()=>[e(d,{cols:"12"},{default:t(()=>[l("div",ee,[s[11]||(s[11]=l("div",null,[l("h2",{class:"text-h2 mb-1"}," Franchisor Dashboard "),l("p",{class:"text-body-1 text-medium-emphasis"}," Welcome back! Here's what's happening with your franchise. ")],-1)),l("div",te,[r(C)?v("",!0):(o(),f(x,{key:0,color:"secondary",variant:"outlined","prepend-icon":"tabler-refresh",onClick:r(L)},{default:t(()=>s[9]||(s[9]=[i(" Refresh ")])),_:1,__:[9]},8,["onClick"])),e(x,{color:"primary","prepend-icon":"tabler-plus",to:"/franchisor/add-lead"},{default:t(()=>s[10]||(s[10]=[i(" Add New Lead ")])),_:1,__:[10]})])])]),_:1})]),_:1}),e(y,{class:"mb-6"},{default:t(()=>[r(C)?(o(),m(g,{key:0},k(4,a=>e(d,{key:`loading-${a}`,cols:"12",md:"3",sm:"6"},{default:t(()=>[e(c,null,{default:t(()=>[e(u,{class:"d-flex align-center justify-center",style:{"min-height":"100px"}},{default:t(()=>[e(T,{indeterminate:"",color:"primary"})]),_:1})]),_:1})]),_:2},1024)),64)):(o(!0),m(g,{key:1},k(r(P),(a,p)=>(o(),f(d,{key:p,cols:"12",md:"3",sm:"6"},{default:t(()=>[e(c,null,{default:t(()=>[e(u,{class:"d-flex align-center"},{default:t(()=>[e(M,{size:"44",rounded:"",color:a.iconColor,variant:"tonal"},{default:t(()=>[e(b,{icon:a.icon,size:"26"},null,8,["icon"])]),_:2},1032,["color"]),l("div",se,[l("div",ae,n(a.title),1),l("div",le,[l("h4",oe,n(a.value),1),a.change!==0?(o(),m("div",{key:0,class:Y(["text-body-2",a.change>0?"text-success":"text-error"])},n(a.change>0?"+":"")+n(a.change)+"% ",3)):v("",!0)]),l("div",re,n(a.desc),1)])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(y,null,{default:t(()=>[e(d,{cols:"12",md:"6"},{default:t(()=>[e(c,null,{default:t(()=>[e(z,{class:"pb-4"},{default:t(()=>[e(D,null,{default:t(()=>s[12]||(s[12]=[i("Quick Actions")])),_:1,__:[12]})]),_:1}),e(u,null,{default:t(()=>[e(y,null,{default:t(()=>[(o(),m(g,null,k(j,(a,p)=>e(d,{key:p,cols:"6"},{default:t(()=>[e(c,{variant:"tonal",color:a.color,class:"cursor-pointer",onClick:ce=>h.$router.push(a.to)},{default:t(()=>[e(u,{class:"text-center pa-4"},{default:t(()=>[e(b,{icon:a.icon,size:"32",class:"mb-2"},null,8,["icon"]),l("div",ie,n(a.title),1)]),_:2},1024)]),_:2},1032,["color","onClick"])]),_:2},1024)),64))]),_:1})]),_:1})]),_:1})]),_:1}),e(d,{cols:"12",md:"6"},{default:t(()=>[e(c,null,{default:t(()=>[e(z,{class:"pb-4"},{default:t(()=>[e(D,null,{default:t(()=>s[13]||(s[13]=[i("Recent Activity")])),_:1,__:[13]})]),_:1}),e(u,null,{default:t(()=>[e(J,{class:"card-list"},{default:t(()=>[r(C)?(o(),f(w,{key:0,class:"text-center py-8"},{default:t(()=>[e(T,{indeterminate:"",color:"primary"}),s[14]||(s[14]=l("div",{class:"mt-2 text-body-2 text-disabled"}," Loading recent activities... ",-1))]),_:1,__:[14]})):r(A).length>0?(o(!0),m(g,{key:1},k(r(A),(a,p)=>(o(),m(g,{key:p},[e(w,null,{prepend:t(()=>[e(M,{size:"32",color:a.color,variant:"tonal"},{default:t(()=>[e(b,{icon:a.icon,size:"18"},null,8,["icon"])]),_:2},1032,["color"])]),default:t(()=>[e(R,{class:"text-body-2 font-weight-medium"},{default:t(()=>[i(n(a.title),1)]),_:2},1024),e(K,{class:"text-body-2"},{default:t(()=>[i(n(a.time),1)]),_:2},1024)]),_:2},1024),p!==r(A).length-1?(o(),f(U,{key:0})):v("",!0)],64))),128)):(o(),f(w,{key:2},{default:t(()=>[e(R,{class:"text-center text-disabled"},{default:t(()=>s[15]||(s[15]=[i(" No recent activities ")])),_:1,__:[15]})]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(y,{class:"mt-6"},{default:t(()=>[e(d,{cols:"12",md:"4"},{default:t(()=>[e(c,{class:"cursor-pointer",onClick:s[1]||(s[1]=a=>h.$router.push("/franchisor/dashboard/leads"))},{default:t(()=>[e(u,{class:"text-center pa-6"},{default:t(()=>[e(b,{icon:"tabler-users",size:"48",color:"primary",class:"mb-4"}),s[16]||(s[16]=l("h5",{class:"text-h5 mb-2"}," Leads Dashboard ",-1)),s[17]||(s[17]=l("p",{class:"text-body-2 text-disabled mb-0"}," Manage and track all your leads ",-1))]),_:1,__:[16,17]})]),_:1})]),_:1}),e(d,{cols:"12",md:"4"},{default:t(()=>[e(c,{class:"cursor-pointer",onClick:s[2]||(s[2]=a=>h.$router.push("/franchisor/dashboard/operations"))},{default:t(()=>[e(u,{class:"text-center pa-6"},{default:t(()=>[e(b,{icon:"tabler-settings",size:"48",color:"success",class:"mb-4"}),s[18]||(s[18]=l("h5",{class:"text-h5 mb-2"}," Operations Dashboard ",-1)),s[19]||(s[19]=l("p",{class:"text-body-2 text-disabled mb-0"}," Monitor operational activities ",-1))]),_:1,__:[18,19]})]),_:1})]),_:1}),e(d,{cols:"12",md:"4"},{default:t(()=>[e(c,{class:"cursor-pointer",onClick:s[3]||(s[3]=a=>h.$router.push("/franchisor/sales-associates"))},{default:t(()=>[e(u,{class:"text-center pa-6"},{default:t(()=>[e(b,{icon:"tabler-user-check",size:"48",color:"info",class:"mb-4"}),s[20]||(s[20]=l("h5",{class:"text-h5 mb-2"}," Sales Associates ",-1)),s[21]||(s[21]=l("p",{class:"text-body-2 text-disabled mb-0"}," Manage your sales team ",-1))]),_:1,__:[20,21]})]),_:1})]),_:1})]),_:1})]))}}),Ve=X(ne,[["__scopeId","data-v-572c5f87"]]);export{Ve as default};
