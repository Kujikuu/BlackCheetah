import{u as He,_ as Ee,T as Ne,a as Fe,P as Oe,S as $e}from"./CreateTaskModal.vue_vue_type_script_setup_true_lang-De13Aryb.js";import{d as Le,r as y,P as b,w as _e,G as qe,c as $,b as t,f as a,au as z,m as l,aO as L,j as Me,o as g,e as i,a3 as k,t as u,aa as f,g as D,l as B,v as m,a$ as be,F as ye}from"./main-D0PmdS1Y.js";import{V as q,a as c}from"./VRow-Cak-Lgex.js";import{a as Re,V as ge}from"./VTabs-vqvC9gYI.js";import{a as Be,V as xe}from"./VWindowItem-DulLYl-I.js";import{V as Q}from"./VDialog-sZu71cKP.js";import{V as Ve}from"./VAlert-D8c2ku7U.js";import{V as x,a as X,b as M,c as Te,d as Z}from"./VCard-B7UpWRaQ.js";import{V}from"./VCardText-CIwjKnf_.js";import{V as w}from"./VAvatar-CxHe0yBd.js";import{V as I}from"./VDivider-BtoRnDHG.js";import{q as ke}from"./VDataTable-CPa50lFd.js";import{V as De}from"./VMenu-DOD60N4z.js";import{V as we,a as P,b as U}from"./VList-pUfpgzrf.js";import{V as A}from"./VChip-DdEqOyic.js";import{V as ee}from"./VSpacer-CdkRG-y7.js";import{V as H}from"./VTextField-B880wQkJ.js";import{V as je}from"./VTextarea-l0aNL8-w.js";import{V as j}from"./VSelect-RqmmXubD.js";import"./VForm-aksOmHMd.js";import"./form-BAdaD-wq.js";import"./forwardRefs-C-GTDzx5.js";/* empty css              */import"./easing-Bybner-F.js";import"./VSlideGroup-CFIWL1zD.js";import"./scopeId-BKGdYQgZ.js";import"./lazy-D5mATHLk.js";import"./ssrBoot-BefThYZR.js";import"./VImg-jjfUM9_b.js";import"./VOverlay-B9QLNbJM.js";import"./dialog-transition-CIZ4lwe7.js";import"./VPagination-DkAbFOUn.js";import"./VCheckboxBtn-Zi_PB_hu.js";import"./VSelectionControl-mXH6gVlO.js";import"./VTable-CN_P_eEe.js";import"./filter-L-0-N-uW.js";/* empty css                   */import"./VCounter-DBvBtD1O.js";import"./VField-D5-MFzvq.js";import"./VInput-DP_kSFGC.js";const Ge={class:"d-flex align-center justify-space-between"},Ke={key:1,class:"text-center py-12"},We={class:"ms-4"},Ye={class:"text-h4"},Je={class:"ms-4"},Qe={class:"text-h4"},Xe={class:"ms-4"},Ze={class:"text-h4"},et={class:"ms-4"},tt={class:"text-h4"},at={class:"text-base font-weight-medium"},st={class:"text-body-2 text-disabled"},lt={class:"text-body-1"},ot={class:"text-center"},it={key:1,class:"text-center py-12"},dt={class:"ms-4"},rt={class:"text-h4"},nt={class:"ms-4"},ut={class:"text-h4"},mt={class:"ms-4"},ct={class:"text-h4"},ft={class:"ms-4"},pt={class:"text-h4"},vt={class:"text-base font-weight-medium"},_t={class:"text-body-2 text-disabled"},bt={class:"text-body-1"},yt={class:"text-center"},gt={class:"text-h6 mb-2"},xt={class:"text-body-1 mb-4"},Vt={class:"text-body-1"},Tt={class:"text-body-1"},kt={class:"text-body-1"},Dt={class:"text-body-1"},ca=Le({__name:"tasks-management",setup(wt){Me();const{getUsersForSelect:Ce,initializeUsers:G,loading:Se}=He(),p=y("franchisee"),E=y(!1),C=y(!1),S=y(!1),o=y(null),h=y(null),v=y([]),_=y([]),K=y(!1),W=y(!1),N=y(null),F=y(null),R=y(!1),he=async()=>{var d,e;K.value=!0,N.value=null;try{const s=await L("/v1/franchisor/tasks");s.success&&((d=s.data)!=null&&d.data)?v.value=s.data.data.map(r=>{var n,T;return{id:r.id,title:r.title,description:r.description,category:r.type||"other",assignedTo:((n=r.assigned_to)==null?void 0:n.name)||"Unassigned",unitName:((T=r.unit)==null?void 0:T.unit_name)||"N/A",startDate:r.started_at?new Date(r.started_at).toISOString().split("T")[0]:null,dueDate:r.due_date?new Date(r.due_date).toISOString().split("T")[0]:null,priority:r.priority||"medium",status:r.status||"pending",estimatedHours:r.estimated_hours||0,actualHours:r.actual_hours||0,completionPercentage:r.completion_percentage||0,createdAt:r.created_at,updatedAt:r.updated_at}}):v.value=[]}catch(s){console.error("Failed to load franchisee tasks:",s),N.value=((e=s==null?void 0:s.data)==null?void 0:e.message)||"Failed to load franchisee tasks",v.value=[]}finally{K.value=!1}},ze=async()=>{var d,e;W.value=!0,F.value=null;try{const s=await L("/v1/franchisor/tasks");if(s.success&&((d=s.data)!=null&&d.data)){const r=s.data.data.filter(n=>{var O,fe,pe,ve;return["Marketing","Customer Service"].includes(n.type)||((O=n.assigned_to)==null?void 0:O.role)==="sales"||((fe=n.title)==null?void 0:fe.toLowerCase().includes("sales"))||((pe=n.title)==null?void 0:pe.toLowerCase().includes("lead"))||((ve=n.title)==null?void 0:ve.toLowerCase().includes("client"))});_.value=r.map(n=>{var T,O;return{id:n.id,title:n.title,description:n.description,category:n.type||"other",assignedTo:((T=n.assigned_to)==null?void 0:T.name)||"Unassigned",unitName:((O=n.unit)==null?void 0:O.unit_name)||"N/A",startDate:n.started_at?new Date(n.started_at).toISOString().split("T")[0]:null,dueDate:n.due_date?new Date(n.due_date).toISOString().split("T")[0]:null,priority:n.priority||"medium",status:n.status||"pending",estimatedHours:n.estimated_hours||0,actualHours:n.actual_hours||0,completionPercentage:n.completion_percentage||0,createdAt:n.created_at,updatedAt:n.updated_at}})}else _.value=[]}catch(s){console.error("Failed to load sales tasks:",s),F.value=((e=s==null?void 0:s.data)==null?void 0:e.message)||"Failed to load sales tasks",_.value=[]}finally{W.value=!1}},te=b(()=>v.value.length),ae=b(()=>v.value.filter(d=>d.status==="completed").length),se=b(()=>v.value.filter(d=>d.status==="in_progress").length),le=b(()=>{const d=new Date;return v.value.filter(e=>e.dueDate?new Date(e.dueDate)<=d&&e.status!=="completed":!1).length}),oe=b(()=>_.value.length),ie=b(()=>_.value.filter(d=>d.status==="completed").length),de=b(()=>_.value.filter(d=>d.status==="in_progress").length),re=b(()=>{const d=new Date;return _.value.filter(e=>e.dueDate?new Date(e.dueDate)<=d&&e.status!=="completed":!1).length});b(()=>p.value==="franchisee"?v.value:_.value),b(()=>p.value==="franchisee"?te.value:oe.value),b(()=>p.value==="franchisee"?ae.value:ie.value),b(()=>p.value==="franchisee"?se.value:de.value),b(()=>p.value==="franchisee"?le.value:re.value);const Ie=b(()=>Ce(p.value)),Y=d=>d==="completed"?"success":d==="in_progress"?"warning":d==="pending"?"info":"secondary",J=d=>d==="high"?"error":d==="medium"?"warning":d==="low"?"info":"secondary",Pe=async d=>{var e,s;try{const r=await L("/v1/franchisor/tasks",{method:"POST",body:{title:d.title,description:d.description,category:d.category,priority:d.priority,status:d.status||"pending",due_date:d.dueDate,estimated_hours:d.estimatedHours}});if(r.success){const n={id:r.data.id,title:r.data.title,description:r.data.description,category:r.data.type||"other",assignedTo:((e=r.data.assigned_to)==null?void 0:e.name)||"Unassigned",unitName:((s=r.data.unit)==null?void 0:s.unit_name)||"N/A",startDate:r.data.started_at?new Date(r.data.started_at).toISOString().split("T")[0]:null,dueDate:r.data.due_date?new Date(r.data.due_date).toISOString().split("T")[0]:null,priority:r.data.priority||"medium",status:r.data.status||"pending",estimatedHours:r.data.estimated_hours||0,actualHours:r.data.actual_hours||0,completionPercentage:r.data.completion_percentage||0,createdAt:r.data.created_at,updatedAt:r.data.updated_at};p.value==="franchisee"?v.value.unshift(n):_.value.unshift(n)}else console.error("Failed to create task:",r)}catch(r){console.error("Error creating task:",r)}},ne=[...Ne],ue=d=>{o.value=d,E.value=!0},me=d=>{o.value={...d},C.value=!0},ce=d=>{h.value=d,S.value=!0},Ue=async()=>{if(h.value!==null){try{const d=await L(`/v1/franchisor/tasks/${h.value}`,{method:"DELETE"});if(d.success)if(p.value==="franchisee"){const e=v.value.findIndex(s=>s.id===h.value);e!==-1&&v.value.splice(e,1)}else{const e=_.value.findIndex(s=>s.id===h.value);e!==-1&&_.value.splice(e,1)}else console.error("Failed to delete task:",d)}catch(d){console.error("Error deleting task:",d)}S.value=!1,h.value=null}},Ae=async()=>{var d,e;if(o.value){try{const s=await L(`/v1/franchisor/tasks/${o.value.id}`,{method:"PUT",body:{title:o.value.title,description:o.value.description,category:o.value.category,priority:o.value.priority,status:o.value.status,due_date:o.value.dueDate,estimated_hours:o.value.estimatedHours,actual_hours:o.value.actualHours,completion_percentage:o.value.completionPercentage}});if(s.success){const r={id:s.data.id,title:s.data.title,description:s.data.description,category:s.data.type||"other",assignedTo:((d=s.data.assigned_to)==null?void 0:d.name)||o.value.assignedTo,unitName:((e=s.data.unit)==null?void 0:e.unit_name)||o.value.unitName,startDate:s.data.started_at?new Date(s.data.started_at).toISOString().split("T")[0]:o.value.startDate,dueDate:s.data.due_date?new Date(s.data.due_date).toISOString().split("T")[0]:o.value.dueDate,priority:s.data.priority||o.value.priority,status:s.data.status||o.value.status,estimatedHours:s.data.estimated_hours||o.value.estimatedHours,actualHours:s.data.actual_hours||o.value.actualHours,completionPercentage:s.data.completion_percentage||o.value.completionPercentage,createdAt:s.data.created_at,updatedAt:s.data.updated_at};if(p.value==="franchisee"){const n=v.value.findIndex(T=>T.id===o.value.id);n!==-1&&(v.value[n]=r)}else{const n=_.value.findIndex(T=>T.id===o.value.id);n!==-1&&(_.value[n]=r)}}else console.error("Failed to update task:",s)}catch(s){console.error("Error updating task:",s)}C.value=!1,o.value=null}};return _e(p,async d=>{await G(d)}),_e(C,async d=>{d&&await G(p.value)}),qe(async()=>{he(),ze(),await G(p.value)}),(d,e)=>(g(),$("section",null,[t(q,{class:"mb-6"},{default:a(()=>[t(c,{cols:"12"},{default:a(()=>[i("div",Ge,[e[24]||(e[24]=i("div",null,[i("h2",{class:"text-h2 mb-1"}," Tasks Management "),i("p",{class:"text-body-1 text-medium-emphasis"}," Manage and track tasks across franchisees and sales teams ")],-1)),t(k,{color:"primary","prepend-icon":"tabler-plus",onClick:e[0]||(e[0]=s=>R.value=!0)},{default:a(()=>e[23]||(e[23]=[u(" Create Task ")])),_:1,__:[23]})])]),_:1})]),_:1}),t(Re,{modelValue:l(p),"onUpdate:modelValue":e[1]||(e[1]=s=>z(p)?p.value=s:null),class:"mb-6"},{default:a(()=>[t(ge,{value:"franchisee"},{default:a(()=>[t(f,{icon:"tabler-building-store",start:""}),e[25]||(e[25]=u(" Franchisee Tasks "))]),_:1,__:[25]}),t(ge,{value:"sales"},{default:a(()=>[t(f,{icon:"tabler-user-star",start:""}),e[26]||(e[26]=u(" Sales Tasks "))]),_:1,__:[26]})]),_:1},8,["modelValue"]),t(Be,{modelValue:l(p),"onUpdate:modelValue":e[4]||(e[4]=s=>z(p)?p.value=s:null),class:"disable-tab-transition"},{default:a(()=>[t(xe,{value:"franchisee"},{default:a(()=>[l(N)?(g(),D(Ve,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[2]||(e[2]=s=>N.value=null)},{default:a(()=>[u(m(l(N)),1)]),_:1})):B("",!0),l(K)?(g(),$("div",Ke,[t(be,{indeterminate:"",size:"64",class:"mb-4"}),e[27]||(e[27]=i("h3",{class:"text-h3 mb-2"}," Loading Franchisee Tasks... ",-1)),e[28]||(e[28]=i("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the task information. ",-1))])):(g(),$(ye,{key:2},[t(q,{class:"mb-6"},{default:a(()=>[t(c,{cols:"12",md:"3"},{default:a(()=>[t(x,null,{default:a(()=>[t(V,{class:"d-flex align-center"},{default:a(()=>[t(w,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:a(()=>[t(f,{icon:"tabler-checklist",size:"26"})]),_:1}),i("div",We,[e[29]||(e[29]=i("div",{class:"text-body-2 text-disabled"}," Total Tasks ",-1)),i("h4",Ye,m(l(te)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:a(()=>[t(x,null,{default:a(()=>[t(V,{class:"d-flex align-center"},{default:a(()=>[t(w,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:a(()=>[t(f,{icon:"tabler-check",size:"26"})]),_:1}),i("div",Je,[e[30]||(e[30]=i("div",{class:"text-body-2 text-disabled"}," Completed ",-1)),i("h4",Qe,m(l(ae)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:a(()=>[t(x,null,{default:a(()=>[t(V,{class:"d-flex align-center"},{default:a(()=>[t(w,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:a(()=>[t(f,{icon:"tabler-clock",size:"26"})]),_:1}),i("div",Xe,[e[31]||(e[31]=i("div",{class:"text-body-2 text-disabled"}," In Progress ",-1)),i("h4",Ze,m(l(se)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:a(()=>[t(x,null,{default:a(()=>[t(V,{class:"d-flex align-center"},{default:a(()=>[t(w,{size:"44",rounded:"",color:"error",variant:"tonal"},{default:a(()=>[t(f,{icon:"tabler-alert-circle",size:"26"})]),_:1}),i("div",et,[e[32]||(e[32]=i("div",{class:"text-body-2 text-disabled"}," Due ",-1)),i("h4",tt,m(l(le)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(x,null,{default:a(()=>[t(X,{class:"pb-4"},{default:a(()=>[t(M,null,{default:a(()=>e[33]||(e[33]=[u("Franchisee Tasks")])),_:1,__:[33]}),t(Te,{class:"text-body-2 text-disabled"},{default:a(()=>e[34]||(e[34]=[u(" View and manage tasks assigned to your franchisees ")])),_:1,__:[34]})]),_:1}),t(I),l(v).length>0?(g(),D(ke,{key:0,items:l(v),headers:ne,class:"text-no-wrap","item-value":"id"},{"item.taskInfo":a(({item:s})=>[i("div",null,[i("h6",at,m(s.title),1),i("div",st,m(s.description),1)])]),"item.unitName":a(({item:s})=>[i("div",lt,m(s.unitName),1)]),"item.priority":a(({item:s})=>[t(A,{color:J(s.priority),size:"small",label:"",class:"text-capitalize"},{default:a(()=>[u(m(s.priority),1)]),_:2},1032,["color"])]),"item.status":a(({item:s})=>[t(A,{color:Y(s.status),size:"small",label:"",class:"text-capitalize"},{default:a(()=>[u(m(s.status),1)]),_:2},1032,["color"])]),"item.actions":a(({item:s})=>[t(k,{icon:"",variant:"text",color:"medium-emphasis",size:"small"},{default:a(()=>[t(f,{icon:"tabler-dots-vertical"}),t(De,{activator:"parent"},{default:a(()=>[t(we,null,{default:a(()=>[t(P,{onClick:r=>ue(s)},{prepend:a(()=>[t(f,{icon:"tabler-eye"})]),default:a(()=>[t(U,null,{default:a(()=>e[35]||(e[35]=[u("View")])),_:1,__:[35]})]),_:2},1032,["onClick"]),t(P,{onClick:r=>me(s)},{prepend:a(()=>[t(f,{icon:"tabler-edit"})]),default:a(()=>[t(U,null,{default:a(()=>e[36]||(e[36]=[u("Edit")])),_:1,__:[36]})]),_:2},1032,["onClick"]),t(P,{onClick:r=>ce(s.id)},{prepend:a(()=>[t(f,{icon:"tabler-trash"})]),default:a(()=>[t(U,null,{default:a(()=>e[37]||(e[37]=[u("Delete")])),_:1,__:[37]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["items"])):(g(),D(V,{key:1,class:"py-8"},{default:a(()=>[i("div",ot,[t(f,{icon:"tabler-checklist",size:"64",class:"text-disabled mb-4"}),e[38]||(e[38]=i("h4",{class:"text-h4 mb-2"}," No Franchisee Tasks Found ",-1)),e[39]||(e[39]=i("p",{class:"text-body-1 text-medium-emphasis"}," There are no tasks assigned to franchisees yet. Create tasks to manage operations across your franchise network. ",-1))])]),_:1}))]),_:1})],64))]),_:1}),t(xe,{value:"sales"},{default:a(()=>[l(F)?(g(),D(Ve,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[3]||(e[3]=s=>F.value=null)},{default:a(()=>[u(m(l(F)),1)]),_:1})):B("",!0),l(W)?(g(),$("div",it,[t(be,{indeterminate:"",size:"64",class:"mb-4"}),e[40]||(e[40]=i("h3",{class:"text-h3 mb-2"}," Loading Sales Tasks... ",-1)),e[41]||(e[41]=i("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the sales team task information. ",-1))])):(g(),$(ye,{key:2},[t(q,{class:"mb-6"},{default:a(()=>[t(c,{cols:"12",md:"3"},{default:a(()=>[t(x,null,{default:a(()=>[t(V,{class:"d-flex align-center"},{default:a(()=>[t(w,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:a(()=>[t(f,{icon:"tabler-checklist",size:"26"})]),_:1}),i("div",dt,[e[42]||(e[42]=i("div",{class:"text-body-2 text-disabled"}," Total Tasks ",-1)),i("h4",rt,m(l(oe)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:a(()=>[t(x,null,{default:a(()=>[t(V,{class:"d-flex align-center"},{default:a(()=>[t(w,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:a(()=>[t(f,{icon:"tabler-check",size:"26"})]),_:1}),i("div",nt,[e[43]||(e[43]=i("div",{class:"text-body-2 text-disabled"}," Completed ",-1)),i("h4",ut,m(l(ie)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:a(()=>[t(x,null,{default:a(()=>[t(V,{class:"d-flex align-center"},{default:a(()=>[t(w,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:a(()=>[t(f,{icon:"tabler-clock",size:"26"})]),_:1}),i("div",mt,[e[44]||(e[44]=i("div",{class:"text-body-2 text-disabled"}," In Progress ",-1)),i("h4",ct,m(l(de)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:a(()=>[t(x,null,{default:a(()=>[t(V,{class:"d-flex align-center"},{default:a(()=>[t(w,{size:"44",rounded:"",color:"error",variant:"tonal"},{default:a(()=>[t(f,{icon:"tabler-alert-circle",size:"26"})]),_:1}),i("div",ft,[e[45]||(e[45]=i("div",{class:"text-body-2 text-disabled"}," Due ",-1)),i("h4",pt,m(l(re)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(x,null,{default:a(()=>[t(X,{class:"pb-4"},{default:a(()=>[t(M,null,{default:a(()=>e[46]||(e[46]=[u("Sales Team Tasks")])),_:1,__:[46]}),t(Te,{class:"text-body-2 text-disabled"},{default:a(()=>e[47]||(e[47]=[u(" View and manage tasks assigned to your sales team ")])),_:1,__:[47]})]),_:1}),t(I),l(_).length>0?(g(),D(ke,{key:0,items:l(_),headers:ne,class:"text-no-wrap","item-value":"id"},{"item.taskInfo":a(({item:s})=>[i("div",null,[i("h6",vt,m(s.title),1),i("div",_t,m(s.description),1)])]),"item.unitName":a(({item:s})=>[i("div",bt,m(s.unitName),1)]),"item.priority":a(({item:s})=>[t(A,{color:J(s.priority),size:"small",label:"",class:"text-capitalize"},{default:a(()=>[u(m(s.priority),1)]),_:2},1032,["color"])]),"item.status":a(({item:s})=>[t(A,{color:Y(s.status),size:"small",label:"",class:"text-capitalize"},{default:a(()=>[u(m(s.status),1)]),_:2},1032,["color"])]),"item.actions":a(({item:s})=>[t(k,{icon:"",variant:"text",color:"medium-emphasis",size:"small"},{default:a(()=>[t(f,{icon:"tabler-dots-vertical"}),t(De,{activator:"parent"},{default:a(()=>[t(we,null,{default:a(()=>[t(P,{onClick:r=>ue(s)},{prepend:a(()=>[t(f,{icon:"tabler-eye"})]),default:a(()=>[t(U,null,{default:a(()=>e[48]||(e[48]=[u("View")])),_:1,__:[48]})]),_:2},1032,["onClick"]),t(P,{onClick:r=>me(s)},{prepend:a(()=>[t(f,{icon:"tabler-edit"})]),default:a(()=>[t(U,null,{default:a(()=>e[49]||(e[49]=[u("Edit")])),_:1,__:[49]})]),_:2},1032,["onClick"]),t(P,{onClick:r=>ce(s.id)},{prepend:a(()=>[t(f,{icon:"tabler-trash"})]),default:a(()=>[t(U,null,{default:a(()=>e[50]||(e[50]=[u("Delete")])),_:1,__:[50]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["items"])):(g(),D(V,{key:1,class:"py-8"},{default:a(()=>[i("div",yt,[t(f,{icon:"tabler-user-star",size:"64",class:"text-disabled mb-4"}),e[51]||(e[51]=i("h4",{class:"text-h4 mb-2"}," No Sales Tasks Found ",-1)),e[52]||(e[52]=i("p",{class:"text-body-1 text-medium-emphasis"}," There are no tasks assigned to the sales team yet. Create tasks to track sales activities and goals. ",-1))])]),_:1}))]),_:1})],64))]),_:1})]),_:1},8,["modelValue"]),t(Ee,{"is-dialog-visible":l(R),"onUpdate:isDialogVisible":e[5]||(e[5]=s=>z(R)?R.value=s:null),"current-tab":l(p),onTaskCreated:Pe},null,8,["is-dialog-visible","current-tab"]),t(Q,{modelValue:l(E),"onUpdate:modelValue":e[7]||(e[7]=s=>z(E)?E.value=s:null),"max-width":"600"},{default:a(()=>[t(x,null,{default:a(()=>[t(M,{class:"text-h5 pa-6 pb-4"},{default:a(()=>e[53]||(e[53]=[u(" Task Details ")])),_:1,__:[53]}),t(I),l(o)?(g(),D(V,{key:0,class:"pa-6"},{default:a(()=>[t(q,null,{default:a(()=>[t(c,{cols:"12"},{default:a(()=>[i("h6",gt,m(l(o).title),1),i("p",xt,m(l(o).description),1)]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[e[54]||(e[54]=i("div",{class:"text-body-2 text-disabled mb-1"}," Category ",-1)),i("div",Vt,m(l(o).category),1)]),_:1,__:[54]}),t(c,{cols:"12",md:"6"},{default:a(()=>[e[55]||(e[55]=i("div",{class:"text-body-2 text-disabled mb-1"}," Assigned To ",-1)),i("div",Tt,m(l(o).assignedTo),1)]),_:1,__:[55]}),t(c,{cols:"12",md:"6"},{default:a(()=>[e[56]||(e[56]=i("div",{class:"text-body-2 text-disabled mb-1"}," Start Date ",-1)),i("div",kt,m(l(o).startDate),1)]),_:1,__:[56]}),t(c,{cols:"12",md:"6"},{default:a(()=>[e[57]||(e[57]=i("div",{class:"text-body-2 text-disabled mb-1"}," Due Date ",-1)),i("div",Dt,m(l(o).dueDate),1)]),_:1,__:[57]}),t(c,{cols:"12",md:"6"},{default:a(()=>[e[58]||(e[58]=i("div",{class:"text-body-2 text-disabled mb-1"}," Priority ",-1)),t(A,{color:J(l(o).priority),size:"small",label:"",class:"text-capitalize"},{default:a(()=>[u(m(l(o).priority),1)]),_:1},8,["color"])]),_:1,__:[58]}),t(c,{cols:"12",md:"6"},{default:a(()=>[e[59]||(e[59]=i("div",{class:"text-body-2 text-disabled mb-1"}," Status ",-1)),t(A,{color:Y(l(o).status),size:"small",label:"",class:"text-capitalize"},{default:a(()=>[u(m(l(o).status),1)]),_:1},8,["color"])]),_:1,__:[59]})]),_:1})]),_:1})):B("",!0),t(I),t(Z,{class:"pa-6"},{default:a(()=>[t(ee),t(k,{color:"secondary",variant:"tonal",onClick:e[6]||(e[6]=s=>E.value=!1)},{default:a(()=>e[60]||(e[60]=[u(" Close ")])),_:1,__:[60]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Q,{modelValue:l(C),"onUpdate:modelValue":e[20]||(e[20]=s=>z(C)?C.value=s:null),"max-width":"600",persistent:""},{default:a(()=>[t(x,null,{default:a(()=>[t(M,{class:"text-h5 pa-6 pb-4"},{default:a(()=>e[61]||(e[61]=[u(" Edit Task ")])),_:1,__:[61]}),t(I),l(o)?(g(),D(V,{key:0,class:"pa-6"},{default:a(()=>[t(q,null,{default:a(()=>[t(c,{cols:"12"},{default:a(()=>[t(H,{modelValue:l(o).title,"onUpdate:modelValue":e[8]||(e[8]=s=>l(o).title=s),label:"Task Title",placeholder:"Enter task title",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12"},{default:a(()=>[t(je,{modelValue:l(o).description,"onUpdate:modelValue":e[9]||(e[9]=s=>l(o).description=s),label:"Description",placeholder:"Enter task description",rows:"3",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(j,{modelValue:l(o).category,"onUpdate:modelValue":e[10]||(e[10]=s=>l(o).category=s),label:"Category",placeholder:"Select category",items:l(Fe),required:""},null,8,["modelValue","items"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(j,{modelValue:l(o).assignedTo,"onUpdate:modelValue":e[11]||(e[11]=s=>l(o).assignedTo=s),label:"Assigned To",placeholder:"Select user",items:l(Ie),loading:l(Se),"item-title":"title","item-value":"value",required:""},null,8,["modelValue","items","loading"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(H,{modelValue:l(o).startDate,"onUpdate:modelValue":e[12]||(e[12]=s=>l(o).startDate=s),label:"Start Date",type:"date",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(H,{modelValue:l(o).dueDate,"onUpdate:modelValue":e[13]||(e[13]=s=>l(o).dueDate=s),label:"Due Date",type:"date",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(j,{modelValue:l(o).priority,"onUpdate:modelValue":e[14]||(e[14]=s=>l(o).priority=s),label:"Priority",items:l(Oe),required:""},null,8,["modelValue","items"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(j,{modelValue:l(o).status,"onUpdate:modelValue":e[15]||(e[15]=s=>l(o).status=s),label:"Status",items:l($e),required:""},null,8,["modelValue","items"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(H,{modelValue:l(o).estimatedHours,"onUpdate:modelValue":e[16]||(e[16]=s=>l(o).estimatedHours=s),label:"Estimated Hours",type:"number",min:"0"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(H,{modelValue:l(o).actualHours,"onUpdate:modelValue":e[17]||(e[17]=s=>l(o).actualHours=s),label:"Actual Hours",type:"number",min:"0"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(H,{modelValue:l(o).completionPercentage,"onUpdate:modelValue":e[18]||(e[18]=s=>l(o).completionPercentage=s),label:"Completion %",type:"number",min:"0",max:"100"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})):B("",!0),t(I),t(Z,{class:"pa-6"},{default:a(()=>[t(ee),t(k,{color:"secondary",variant:"tonal",onClick:e[19]||(e[19]=s=>C.value=!1)},{default:a(()=>e[62]||(e[62]=[u(" Cancel ")])),_:1,__:[62]}),t(k,{color:"primary",onClick:Ae},{default:a(()=>e[63]||(e[63]=[u(" Save Changes ")])),_:1,__:[63]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Q,{modelValue:l(S),"onUpdate:modelValue":e[22]||(e[22]=s=>z(S)?S.value=s:null),"max-width":"500"},{default:a(()=>[t(x,null,{default:a(()=>[t(X,null,{default:a(()=>[t(M,null,{default:a(()=>e[64]||(e[64]=[u("Confirm Delete")])),_:1,__:[64]})]),_:1}),t(V,null,{default:a(()=>e[65]||(e[65]=[u(" Are you sure you want to delete this task? This action cannot be undone. ")])),_:1,__:[65]}),t(Z,null,{default:a(()=>[t(ee),t(k,{color:"secondary",variant:"tonal",onClick:e[21]||(e[21]=s=>S.value=!1)},{default:a(()=>e[66]||(e[66]=[u(" Cancel ")])),_:1,__:[66]}),t(k,{color:"error",onClick:Ue},{default:a(()=>e[67]||(e[67]=[u(" Delete ")])),_:1,__:[67]})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}});export{ca as default};
