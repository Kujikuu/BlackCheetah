import{d as h,r as E,G as S,c as v,o as i,e as n,b as a,g as m,l as _,f as o,t as r,v as u,m as l,a3 as g,aO as T}from"./main-CA5_5-fk.js";import{b as c,V as p}from"./VCard-BlRUAaMY.js";import{V as d}from"./VCardText-A5LE6kSN.js";import"./VAvatar-DYIYaXHU.js";import"./VImg-FsxkdVsl.js";const k={BASE_URL:"/build/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"/api",VITE_APP_NAME:"BlackCheetah",VITE_MAPBOX_ACCESS_TOKEN:""},R={class:"pa-8"},N=h({__name:"debug-login",setup(V){const s=E({viteApiBaseUrl:"/api",apiBaseUrl:"",testResult:"",error:""}),f=async()=>{try{s.value.error="",s.value.testResult="Testing...",console.log("Environment variables:",k),console.log("VITE_API_BASE_URL:","/api"),console.log("Making API call to:","/auth/login"),console.log("With base URL:","/api");const e=await T("/auth/login",{method:"POST",body:{email:"john.smith@example.com",password:"password"}});console.log("API response:",e),s.value.testResult=JSON.stringify(e,null,2)}catch(e){console.error("Login error details:",e),console.error("Error type:",typeof e),console.error("Error constructor:",e.constructor.name),console.error("Error keys:",Object.keys(e)),s.value.error=JSON.stringify({message:e.message,name:e.name,stack:e.stack,data:e.data,response:e.response,status:e.status,statusText:e.statusText,cause:e.cause,toString:e.toString()},null,2)}},y=async()=>{try{s.value.error="",s.value.testResult="Testing with fetch...";const t=await(await fetch("https://blackcheetah.test/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({email:"john.smith@example.com",password:"password"})})).json();console.log("Fetch response:",t),s.value.testResult=JSON.stringify(t,null,2)}catch(e){console.error("Fetch error:",e),s.value.error=JSON.stringify({message:e.message,name:e.name,stack:e.stack},null,2)}};return S(()=>{s.value.apiBaseUrl="/api"}),(e,t)=>(i(),v("div",R,[t[5]||(t[5]=n("h1",null,"Login Debug Page",-1)),a(p,{class:"mb-4"},{default:o(()=>[a(c,null,{default:o(()=>t[0]||(t[0]=[r("Environment Variables")])),_:1,__:[0]}),a(d,null,{default:o(()=>[n("pre",null,u(JSON.stringify(l(s),null,2)),1)]),_:1})]),_:1}),a(g,{color:"primary",class:"mr-2",onClick:f},{default:o(()=>t[1]||(t[1]=[r(" Test $api Call ")])),_:1,__:[1]}),a(g,{color:"secondary",onClick:y},{default:o(()=>t[2]||(t[2]=[r(" Test with Fetch ")])),_:1,__:[2]}),l(s).testResult?(i(),m(p,{key:0,class:"mt-4"},{default:o(()=>[a(c,null,{default:o(()=>t[3]||(t[3]=[r("API Response")])),_:1,__:[3]}),a(d,null,{default:o(()=>[n("pre",null,u(l(s).testResult),1)]),_:1})]),_:1})):_("",!0),l(s).error?(i(),m(p,{key:1,class:"mt-4",color:"error"},{default:o(()=>[a(c,null,{default:o(()=>t[4]||(t[4]=[r("Error")])),_:1,__:[4]}),a(d,null,{default:o(()=>[n("pre",null,u(l(s).error),1)]),_:1})]),_:1})):_("",!0)]))}});export{N as default};
