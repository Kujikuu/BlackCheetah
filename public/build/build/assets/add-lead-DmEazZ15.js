import{_ as $}from"./AppStepper.vue_vue_type_style_index_0_lang-CyYc2fwp.js";import{_ as F}from"./AppTextarea.vue_vue_type_script_setup_true_lang-Df47XM_g.js";import{_ as O}from"./AppDateTimePicker.vue_vue_type_style_index_0_lang-CPLpDHY8.js";import{_ as k}from"./AppSelect.vue_vue_type_script_setup_true_lang-CDeD-2O6.js";import{V as g,a as r}from"./VRow-Cak-Lgex.js";import{V as T}from"./VFileInput-CNXbIWfi.js";import{d as w,r as b,w as L,g as V,o as v,f as o,b as e,e as _,m as l,c2 as B,j as M,x as P,au as U,a3 as y,t as C,aa as x,aO as j}from"./main-D0PmdS1Y.js";import{_ as E}from"./AppTextField.vue_vue_type_script_setup_true_lang-Bd9HByxJ.js";import{V as R}from"./VCard-B7UpWRaQ.js";import{V as A}from"./VCardText-CIwjKnf_.js";import{a as W,V as I}from"./VWindowItem-DulLYl-I.js";import"./VSlideGroup-CFIWL1zD.js";import"./VAvatar-CxHe0yBd.js";import"./VImg-jjfUM9_b.js";import"./form-BAdaD-wq.js";import"./VTextarea-l0aNL8-w.js";/* empty css                   */import"./VCounter-DBvBtD1O.js";import"./VField-D5-MFzvq.js";import"./easing-Bybner-F.js";import"./VInput-DP_kSFGC.js";import"./forwardRefs-C-GTDzx5.js";import"./VSelect-RqmmXubD.js";import"./VTextField-B880wQkJ.js";import"./VList-pUfpgzrf.js";import"./ssrBoot-BefThYZR.js";import"./VDivider-BtoRnDHG.js";import"./dialog-transition-CIZ4lwe7.js";import"./VMenu-DOD60N4z.js";import"./VOverlay-B9QLNbJM.js";import"./lazy-D5mATHLk.js";import"./scopeId-BKGdYQgZ.js";import"./VCheckboxBtn-Zi_PB_hu.js";import"./VSelectionControl-mXH6gVlO.js";import"./VChip-DdEqOyic.js";/* empty css              */const z=w({__name:"AdditionalDetails",props:{formData:{}},emits:["update:formData"],setup(S,{emit:f}){const c=S,u=f,a=b(c.formData);L(a,()=>{u("update:formData",a.value)},{deep:!0});const i=[{title:"Website",value:"website"},{title:"Referral",value:"referral"},{title:"Social Media",value:"social_media"},{title:"Advertisement",value:"advertisement"},{title:"Cold Call",value:"cold_call"},{title:"Event",value:"event"},{title:"Other",value:"other"}],p=[{title:"New",value:"new"},{title:"Contacted",value:"contacted"},{title:"Qualified",value:"qualified"},{title:"Proposal Sent",value:"proposal_sent"},{title:"Negotiating",value:"negotiating"},{title:"Closed Won",value:"closed_won"},{title:"Closed Lost",value:"closed_lost"}],D=[{title:"Sarah Johnson",value:"sarah_johnson"},{title:"John Smith",value:"john_smith"},{title:"Michael Brown",value:"michael_brown"}],s=t=>{const d=t.target;d.files&&(a.value.attachments=Array.from(d.files))};return(t,d)=>{const n=k,N=O,h=F;return v(),V(g,null,{default:o(()=>[e(r,{cols:"12"},{default:o(()=>d[6]||(d[6]=[_("h5",{class:"text-h5 mb-1"}," Additional Details ",-1),_("p",{class:"text-body-1 mb-6"}," Provide lead management and tracking information ",-1)])),_:1,__:[6]}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(n,{modelValue:l(a).leadSource,"onUpdate:modelValue":d[0]||(d[0]=m=>l(a).leadSource=m),label:"Lead Source",placeholder:"Select Source",items:i},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(n,{modelValue:l(a).leadStatus,"onUpdate:modelValue":d[1]||(d[1]=m=>l(a).leadStatus=m),label:"Lead Status",placeholder:"Select Status",items:p},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(n,{modelValue:l(a).leadOwner,"onUpdate:modelValue":d[2]||(d[2]=m=>l(a).leadOwner=m),label:"Lead Owner",placeholder:"Select Owner",items:D},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(N,{modelValue:l(a).lastContactedDate,"onUpdate:modelValue":d[3]||(d[3]=m=>l(a).lastContactedDate=m),label:"Last Contacted Date",placeholder:"Select Date"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(N,{modelValue:l(a).scheduledMeetingDate,"onUpdate:modelValue":d[4]||(d[4]=m=>l(a).scheduledMeetingDate=m),label:"Scheduled Meeting Date",placeholder:"Select Date"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12"},{default:o(()=>[e(h,{modelValue:l(a).note,"onUpdate:modelValue":d[5]||(d[5]=m=>l(a).note=m),label:"Note",placeholder:"Add any additional notes about this lead...",rows:"4"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12"},{default:o(()=>[e(T,{label:"Attachments",multiple:"","prepend-icon":"tabler-paperclip",placeholder:"Upload files",chips:"","show-size":"",counter:"",onChange:s})]),_:1})]),_:1})}}}),J=w({__name:"BasicInfo",props:{formData:{}},emits:["update:formData"],setup(S,{emit:f}){const c=S,u=f,a=b(c.formData);L(a,()=>{u("update:formData",a.value)},{deep:!0});const i=[{title:"United States",value:"USA"},{title:"Canada",value:"Canada"},{title:"United Kingdom",value:"UK"},{title:"Australia",value:"Australia"}],p=[{title:"California",value:"California"},{title:"New York",value:"New York"},{title:"Texas",value:"Texas"},{title:"Florida",value:"Florida"}];return(D,s)=>{const t=E,d=k;return v(),V(g,null,{default:o(()=>[e(r,{cols:"12"},{default:o(()=>s[8]||(s[8]=[_("h5",{class:"text-h5 mb-1"}," Basic Information ",-1),_("p",{class:"text-body-1 mb-6"}," Enter lead's personal and contact details ",-1)])),_:1,__:[8]}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(t,{modelValue:l(a).firstName,"onUpdate:modelValue":s[0]||(s[0]=n=>l(a).firstName=n),label:"First Name",placeholder:"John"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(t,{modelValue:l(a).lastName,"onUpdate:modelValue":s[1]||(s[1]=n=>l(a).lastName=n),label:"Last Name",placeholder:"Doe"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(t,{modelValue:l(a).email,"onUpdate:modelValue":s[2]||(s[2]=n=>l(a).email=n),label:"Email Address",type:"email",placeholder:"john.doe@example.com"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(t,{modelValue:l(a).contactNumber,"onUpdate:modelValue":s[3]||(s[3]=n=>l(a).contactNumber=n),label:"Contact Number",placeholder:"+1 234-567-8900"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(d,{modelValue:l(a).country,"onUpdate:modelValue":s[4]||(s[4]=n=>l(a).country=n),label:"Country",placeholder:"Select Country",items:i},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(d,{modelValue:l(a).state,"onUpdate:modelValue":s[5]||(s[5]=n=>l(a).state=n),label:"State",placeholder:"Select State",items:p},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(t,{modelValue:l(a).city,"onUpdate:modelValue":s[6]||(s[6]=n=>l(a).city=n),label:"City",placeholder:"San Francisco"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(t,{modelValue:l(a).companyName,"onUpdate:modelValue":s[7]||(s[7]=n=>l(a).companyName=n),label:"Company Name",placeholder:"Tech Corp"},null,8,["modelValue"])]),_:1})]),_:1})}}}),K={class:"d-flex flex-wrap gap-4 justify-space-between mt-6"},Ie=w({__name:"add-lead",setup(S){const{mdAndUp:f}=B(),c=[{title:"Basic Information",subtitle:"Personal & Contact Details",icon:"tabler-user"},{title:"Additional Details",subtitle:"Lead Management Info",icon:"tabler-file-info"}],u=b(0),a=M(),i=b({basicInfo:{firstName:"",lastName:"",email:"",contactNumber:"",country:null,state:null,city:"",companyName:""},additionalDetails:{leadSource:null,leadStatus:null,leadOwner:null,lastContactedDate:"",scheduledMeetingDate:"",note:"",attachments:[]}}),p=b(!1),D=async()=>{try{p.value=!0;const s={first_name:i.value.basicInfo.firstName,last_name:i.value.basicInfo.lastName,email:i.value.basicInfo.email,phone:i.value.basicInfo.contactNumber,company:i.value.basicInfo.companyName||null,country:i.value.basicInfo.country||null,state:i.value.basicInfo.state||null,city:i.value.basicInfo.city||null,source:i.value.additionalDetails.leadSource||"website",status:i.value.additionalDetails.leadStatus||"new",priority:"medium",notes:i.value.additionalDetails.note||null},t=await j("/v1/franchisor/leads",{method:"POST",body:s});t.success&&(console.log("Lead created successfully:",t.data),a.push({name:"franchisor-lead-management"}))}catch(s){console.error("Error adding lead:",s)}finally{p.value=!1}};return(s,t)=>{const d=$;return v(),V(R,null,{default:o(()=>[e(g,{"no-gutters":""},{default:o(()=>[e(r,{cols:"12",md:"4",lg:"3",class:P(l(f)?"border-e":"border-b")},{default:o(()=>[e(A,null,{default:o(()=>[e(d,{"current-step":l(u),"onUpdate:currentStep":t[0]||(t[0]=n=>U(u)?u.value=n:null),direction:"vertical",items:c,"icon-size":"22",class:"stepper-icon-step-bg"},null,8,["current-step"])]),_:1})]),_:1},8,["class"]),e(r,{cols:"12",md:"8",lg:"9"},{default:o(()=>[e(A,null,{default:o(()=>[e(W,{modelValue:l(u),"onUpdate:modelValue":t[3]||(t[3]=n=>U(u)?u.value=n:null),class:"disable-tab-transition"},{default:o(()=>[e(I,null,{default:o(()=>[e(J,{"form-data":l(i).basicInfo,"onUpdate:formData":t[1]||(t[1]=n=>l(i).basicInfo=n)},null,8,["form-data"])]),_:1}),e(I,null,{default:o(()=>[e(z,{"form-data":l(i).additionalDetails,"onUpdate:formData":t[2]||(t[2]=n=>l(i).additionalDetails=n)},null,8,["form-data"])]),_:1})]),_:1},8,["modelValue"]),_("div",K,[e(y,{color:"secondary",variant:"tonal",disabled:l(u)===0,onClick:t[4]||(t[4]=n=>u.value--)},{default:o(()=>[e(x,{icon:"tabler-arrow-left",start:"",class:"flip-in-rtl"}),t[6]||(t[6]=C(" Previous "))]),_:1,__:[6]},8,["disabled"]),c.length-1===l(u)?(v(),V(y,{key:0,color:"success",loading:l(p),disabled:l(p),onClick:D},{default:o(()=>t[7]||(t[7]=[C(" Submit ")])),_:1,__:[7]},8,["loading","disabled"])):(v(),V(y,{key:1,onClick:t[5]||(t[5]=n=>u.value++)},{default:o(()=>[t[8]||(t[8]=C(" Next ")),e(x,{icon:"tabler-arrow-right",end:"",class:"flip-in-rtl"})]),_:1,__:[8]}))])]),_:1})]),_:1})]),_:1})]),_:1})}}});export{Ie as default};
