import{_ as w}from"./AppStepper.vue_vue_type_style_index_0_lang-BwGxemvd.js";import{l as C}from"./lead-CW0oUHwc.js";import{_ as S,a as k}from"./BasicInfo.vue_vue_type_script_setup_true_lang-NL0TSGzE.js";import{d as x,bf as L,g as d,e as B,a as u,o as m,k as o,y as e,s as U,i as l,aM as b,l as $,a7 as p,q as f,av as v}from"./main-CJoUlw71.js";import{V as A,a as y}from"./VRow-I0aFN3ft.js";import{f as _,V as M}from"./VCard-D0Kr6jJ3.js";import{V as R,a as V}from"./VWindowItem-Sru_LTmb.js";import"./VSlideGroup-CFd1UCPD.js";import"./api-router-CWf8jKcZ.js";import"./AppTextarea.vue_vue_type_script_setup_true_lang-B1eRZ8g1.js";import"./form-TZVfOcgQ.js";import"./VTextarea-DlMZvYlN.js";import"./VTextField-D8E1qX-C.js";import"./VField-BK8GYuQp.js";import"./forwardRefs-B931MWyl.js";import"./VInput-ljW8JGQT.js";import"./AppDateTimePicker.vue_vue_type_style_index_0_lang-Bzsz1vmo.js";import"./AppSelect.vue_vue_type_script_setup_true_lang-BPi_8I55.js";import"./VSelect-DrBKrWpC.js";import"./VList-dBGtPQa1.js";import"./VDivider-BaGqyL8B.js";import"./VMenu-ChdF8Fzb.js";import"./VOverlay-DNweL6TL.js";import"./scopeId-BW4ci1pC.js";import"./VCheckboxBtn-ClRj4-k1.js";import"./VSelectionControl-DPYfPVD0.js";import"./VChip-B4nRRsDL.js";import"./VFileInput-CLfIo29r.js";import"./AppTextField.vue_vue_type_script_setup_true_lang-DBBt0k22.js";/* empty css              */const z={class:"d-flex flex-wrap gap-4 justify-space-between mt-6"},ca=x({__name:"add-lead",setup(P){const{mdAndUp:g}=L(),c=[{title:"Basic Information",subtitle:"Personal & Contact Details",icon:"tabler-user"},{title:"Additional Details",subtitle:"Lead Management Info",icon:"tabler-file-info"}],s=d(0),D=B(),t=d({basicInfo:{firstName:"",lastName:"",email:"",contactNumber:"",country:null,state:null,city:"",companyName:""},additionalDetails:{leadSource:null,leadStatus:null,leadOwner:null,lastContactedDate:"",scheduledMeetingDate:"",note:"",attachments:[]}}),n=d(!1),I=async()=>{try{n.value=!0;const r={firstName:t.value.basicInfo.firstName,lastName:t.value.basicInfo.lastName,email:t.value.basicInfo.email,phone:t.value.basicInfo.contactNumber,company:t.value.basicInfo.companyName||"",country:t.value.basicInfo.country||"",state:t.value.basicInfo.state||"",city:t.value.basicInfo.city||"",source:t.value.additionalDetails.leadSource||"website",status:t.value.additionalDetails.leadStatus||"new",priority:"medium",note:t.value.additionalDetails.note||""},a=await C.createLead(r);a.success&&(console.log("Lead created successfully:",a.data),D.push({name:"sales-lead-management"}))}catch(r){console.error("Error adding lead:",r)}finally{n.value=!1}};return(r,a)=>{const N=w;return m(),u(M,null,{default:o(()=>[e(A,{"no-gutters":""},{default:o(()=>[e(y,{cols:"12",md:"4",lg:"3",class:U(l(g)?"border-e":"border-b")},{default:o(()=>[e(_,null,{default:o(()=>[e(N,{"current-step":l(s),"onUpdate:currentStep":a[0]||(a[0]=i=>b(s)?s.value=i:null),direction:"vertical",items:c,"icon-size":"22",class:"stepper-icon-step-bg"},null,8,["current-step"])]),_:1})]),_:1},8,["class"]),e(y,{cols:"12",md:"8",lg:"9"},{default:o(()=>[e(_,null,{default:o(()=>[e(R,{modelValue:l(s),"onUpdate:modelValue":a[3]||(a[3]=i=>b(s)?s.value=i:null),class:"disable-tab-transition"},{default:o(()=>[e(V,null,{default:o(()=>[e(S,{"form-data":l(t).basicInfo,"onUpdate:formData":a[1]||(a[1]=i=>l(t).basicInfo=i)},null,8,["form-data"])]),_:1}),e(V,null,{default:o(()=>[e(k,{"form-data":l(t).additionalDetails,"onUpdate:formData":a[2]||(a[2]=i=>l(t).additionalDetails=i)},null,8,["form-data"])]),_:1})]),_:1},8,["modelValue"]),$("div",z,[e(p,{color:"secondary",variant:"tonal",disabled:l(s)===0,onClick:a[4]||(a[4]=i=>s.value--)},{default:o(()=>[e(v,{icon:"tabler-arrow-left",start:"",class:"flip-in-rtl"}),a[6]||(a[6]=f(" Previous "))]),_:1,__:[6]},8,["disabled"]),c.length-1===l(s)?(m(),u(p,{key:0,color:"success",loading:l(n),disabled:l(n),onClick:I},{default:o(()=>a[7]||(a[7]=[f(" Submit ")])),_:1,__:[7]},8,["loading","disabled"])):(m(),u(p,{key:1,onClick:a[5]||(a[5]=i=>s.value++)},{default:o(()=>[a[8]||(a[8]=f(" Next ")),e(v,{icon:"tabler-arrow-right",end:"",class:"flip-in-rtl"})]),_:1,__:[8]}))])]),_:1})]),_:1})]),_:1})]),_:1})}}});export{ca as default};
