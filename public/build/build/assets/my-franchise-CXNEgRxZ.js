import{V as X,_ as He}from"./VDialog-CEq2jzbd.js";import{_ as Xe}from"./AppTextarea.vue_vue_type_script_setup_true_lang-yoNOmpMf.js";import{_ as Ye}from"./AppSelect.vue_vue_type_script_setup_true_lang-DOrgpFkU.js";import{_ as Ze}from"./AppTextField.vue_vue_type_script_setup_true_lang-Dp8jGCw7.js";import{d as et,r as g,G as tt,P as J,c as _,b as t,f as l,aR as P,m as s,b5 as S,j as lt,a as at,o as u,aF as st,e as i,a9 as V,t as p,v as r,ax as F,g as x,l as ot,F as De,i as it}from"./main-B8QbR-yS.js";import{a as nt}from"./VOverlay-B3La6Ajr.js";import{V as U,a as c}from"./VRow-LlT6Azsr.js";import{a as dt,V as se}from"./VTabs-DXRKnteB.js";import{a as ut,V as oe}from"./VWindowItem-CHtlO5gs.js";import{V as rt}from"./VSnackbar-NyFIQu1q.js";import{V as w,d as B,a as ct,b as mt}from"./VCard-D9PhtsJ0.js";import{V as C}from"./VCardText-Cbtr6Qhr.js";import{V as K}from"./VAvatar-87LH5tAk.js";import{V as ft}from"./VImg-Ceu2Mboj.js";import{V as Ve}from"./VFileInput-Ip2n4ssl.js";import{V as xe}from"./VChip-CgHwmC-k.js";import{V as W}from"./VSpacer-BSXBFFTK.js";import{V as vt}from"./VDataTable-FYAU2aQJ.js";import{V as ke}from"./VForm-C9sxpau4.js";import"./forwardRefs--KQCZfKO.js";import"./scopeId-DyQ6a1uN.js";import"./dialog-transition-Dy2Gj1XO.js";import"./form-Dt-W1fp6.js";import"./VTextarea-1ursQqQ2.js";import"./VTextField-C7_y5spr.js";import"./VField-Bw51LFql.js";import"./VInput-DB3XZUVb.js";import"./VSelect-GSzN3Qps.js";import"./VList-BJCgULVd.js";import"./VDivider-DOfIMbJY.js";import"./VMenu-TQcmpCCv.js";import"./VCheckboxBtn-CWPoGbRz.js";import"./VSelectionControl-DDEVNAf7.js";/* empty css              */import"./VSlideGroup-BuNiGLv2.js";import"./VTable-CgkStP3y.js";const pt={class:"d-flex align-center justify-space-between"},bt={class:"ms-4"},yt={class:"text-h4"},gt={class:"ms-4"},_t={class:"text-h4"},Dt={class:"mb-4"},Vt={key:0,class:"text-body-1 font-weight-medium"},xt={class:"mb-4"},kt={key:0,class:"text-body-1"},ht=["href"],wt={class:"mb-4"},Ct={key:0,class:"text-body-1"},St={key:0,class:"d-flex align-center"},Ft={key:1,class:"text-disabled"},Nt={class:"mb-4"},Ut={key:0,class:"text-body-1"},Et={class:"mb-4"},Pt={key:0,class:"text-body-1"},It={class:"mb-4"},At={key:0,class:"text-body-1"},$t={class:"mb-4"},Tt={key:0,class:"text-body-1"},Lt={class:"mb-4"},Mt={key:0,class:"text-body-1 font-weight-medium text-success"},zt={class:"mb-4"},Bt={key:0,class:"text-body-1"},Ot={class:"mb-4"},jt={key:0,class:"text-body-1"},Rt={class:"mb-4"},qt={key:0,class:"text-body-1"},Jt=["href"],Kt={class:"mb-4"},Wt={key:0,class:"text-body-1"},Qt={class:"mb-4"},Gt={key:0,class:"text-body-1"},Ht={class:"mb-4"},Xt={key:0,class:"text-body-1"},Yt={class:"mb-4"},Zt={key:0,class:"text-body-1"},el={class:"d-flex justify-space-between align-center mb-4"},tl={class:"d-flex align-center mb-3"},ll={class:"text-h6"},al={class:"text-body-2 text-disabled mb-0"},sl={class:"text-body-2 mb-3"},ol={class:"d-flex align-center justify-space-between mb-3"},il={class:"text-body-2 text-disabled"},nl={class:"text-body-2 text-disabled mb-3"},dl={class:"d-flex align-center gap-x-4"},ul={class:"d-flex flex-column"},rl={class:"text-base font-weight-medium"},cl={class:"text-sm text-medium-emphasis"},ml={class:"text-body-1 text-high-emphasis"},fl={class:"text-body-1 text-high-emphasis"},vl={class:"text-body-1 text-high-emphasis"},Yl=et({__name:"my-franchise",setup(pl){lt();const T=g("overview"),O=g(!0),Q=g(!1),b=g(!1),L=g({show:!1,message:"",color:"success"}),m=(n,e="success")=>{L.value={show:!0,message:n,color:e}},o=g({id:0,personalInfo:{contactNumber:"",country:"",state:"",city:"",address:""},franchiseDetails:{franchiseName:"",website:"",logo:null},legalDetails:{legalEntityName:"",businessStructure:"",taxId:"",industry:"",fundingAmount:"",fundingSource:""},contactDetails:{contactNumber:"",email:"",address:"",country:"",state:"",city:""}}),Y=g([]),G=g([]),I=g(null),Z=g(!1),ie=async()=>{var n,e,d,v,k,h,N,a,z,de,ue,re,ce,me,fe,ve,pe,be,ye,ge,_e;try{O.value=!0;const q=await S("/v1/franchisor/franchise/data");if(q.success&&q.data){const y=q.data.franchise;y&&(o.value={id:y.id,personalInfo:{contactNumber:((n=y.contactDetails)==null?void 0:n.contactNumber)||"",address:((e=y.contactDetails)==null?void 0:e.address)||"",city:((d=y.contactDetails)==null?void 0:d.city)||"",state:((v=y.contactDetails)==null?void 0:v.state)||"",country:((k=y.contactDetails)==null?void 0:k.country)||""},franchiseDetails:{franchiseName:((h=y.franchiseDetails)==null?void 0:h.franchiseName)||"",website:((N=y.franchiseDetails)==null?void 0:N.website)||"",logo:((a=y.franchiseDetails)==null?void 0:a.logo)||null},legalDetails:{legalEntityName:((z=y.legalDetails)==null?void 0:z.legalEntityName)||"",businessStructure:((ue=(de=y.legalDetails)==null?void 0:de.businessStructure)==null?void 0:ue.toLowerCase())||"",taxId:((re=y.legalDetails)==null?void 0:re.taxId)||"",industry:((ce=y.legalDetails)==null?void 0:ce.industry)||"",fundingAmount:((me=y.legalDetails)==null?void 0:me.fundingAmount)||"",fundingSource:((fe=y.legalDetails)==null?void 0:fe.fundingSource)||""},contactDetails:{contactNumber:((ve=y.contactDetails)==null?void 0:ve.contactNumber)||"",email:((pe=y.contactDetails)==null?void 0:pe.email)||"",address:((be=y.contactDetails)==null?void 0:be.address)||"",city:((ye=y.contactDetails)==null?void 0:ye.city)||"",state:((ge=y.contactDetails)==null?void 0:ge.state)||"",country:((_e=y.contactDetails)==null?void 0:_e.country)||""}})}}catch(q){console.error("Failed to load franchise data:",q),m("Failed to load franchise data","error")}finally{O.value=!1}},ee=async()=>{var n;try{if(!((n=o.value)!=null&&n.id)){console.warn("No franchise ID available for loading documents");return}const e=await S(`/v1/franchises/${o.value.id}/documents`);e.success&&e.data&&(Y.value=e.data.data||[])}catch(e){console.error("Failed to load documents:",e),m("Failed to load documents","error")}},te=async()=>{var n;try{if(!((n=o.value)!=null&&n.id)){console.warn("No franchise ID available for loading products");return}const e=await S(`/v1/franchises/${o.value.id}/products`);e.success&&e.data&&(G.value=e.data.data||[])}catch(e){console.error("Failed to load products:",e),m("Failed to load products","error")}},he=async()=>{if(!I.value)return null;Z.value=!0;try{const n=new FormData;n.append("logo",I.value);const e=await S("/v1/franchisor/franchise/upload-logo",{method:"POST",body:n});return e.success?e.data.logo_url:(m(e.message||"Failed to upload logo","error"),null)}catch(n){return console.error("Failed to upload logo:",n),m("Failed to upload logo","error"),null}finally{Z.value=!1}},we=async()=>{var n;try{Q.value=!0;let e=o.value.franchiseDetails.logo;if(I.value){const k=await he();if(k)e=k,o.value.franchiseDetails.logo=e;else return}const d={personalInfo:{contactNumber:o.value.personalInfo.contactNumber||null,address:o.value.personalInfo.address||null,city:o.value.personalInfo.city||null,state:o.value.personalInfo.state||null,country:o.value.personalInfo.country||null},franchiseDetails:{franchiseDetails:{franchiseName:o.value.franchiseDetails.franchiseName||null,website:o.value.franchiseDetails.website||null,logo:o.value.franchiseDetails.logo||null},legalDetails:{legalEntityName:o.value.legalDetails.legalEntityName||null,businessStructure:o.value.legalDetails.businessStructure,taxId:o.value.legalDetails.taxId||null,industry:o.value.legalDetails.industry||null,fundingAmount:o.value.legalDetails.fundingAmount||null,fundingSource:o.value.legalDetails.fundingSource||null},contactDetails:{contactNumber:o.value.contactDetails.contactNumber||null,email:o.value.contactDetails.email||null,address:o.value.contactDetails.address||null,city:o.value.contactDetails.city||null,state:o.value.contactDetails.state||null,country:o.value.contactDetails.country||null}}},v=await S("/v1/franchisor/franchise/update",{method:"PUT",body:d});v.success?(m("Franchise information updated successfully","success"),I.value=null,await ie()):m(v.message||"Failed to update franchise information","error")}catch(e){if(console.error("Failed to update franchise data:",e),e.status===422&&((n=e.data)!=null&&n.errors)){const d=Object.values(e.data.errors).flat();m(`Validation failed: ${d.join(", ")}`,"error")}else m("Failed to update franchise information","error")}finally{Q.value=!1}},H=g(null),Ce=()=>{H.value&&(o.value=JSON.parse(JSON.stringify(H.value))),b.value=!1,H.value=null},Se=async()=>{await we(),Q.value||(b.value=!1,H.value=null)};tt(async()=>{var n;await ie(),(n=o.value)!=null&&n.id&&await Promise.all([ee(),te()])});const E=g(!1),ne=g(!1),le=g(!1),ae=g(!1),A=g(!1),$=g(!1),Fe=J({get:()=>E.value||ne.value,set:n=>{n||(E.value=!1,ne.value=!1)}}),M=J({get:()=>le.value||ae.value,set:n=>{n||(le.value=!1,ae.value=!1)}}),D=g({id:null,name:"",description:"",file:null,type:"other",status:"active",is_confidential:!1,expiry_date:null}),f=g({id:null,name:"",description:"",unit_price:0,category:"",status:"active",stock:0,sku:""}),j=g(null),R=g(null),Ne=[{title:"Corporation",value:"corporation"},{title:"LLC",value:"llc"},{title:"Partnership",value:"partnership"},{title:"Sole Proprietorship",value:"sole_proprietorship"}],Ue=[{title:"Food & Beverage",value:"food_beverage"},{title:"Retail",value:"retail"},{title:"Services",value:"services"},{title:"Health & Fitness",value:"health_fitness"},{title:"Education",value:"education"},{title:"Technology",value:"technology"},{title:"Real Estate",value:"real_estate"},{title:"Automotive",value:"automotive"}],Ee=[{title:"Personal Savings",value:"personal_savings"},{title:"Bank Loan",value:"bank_loan"},{title:"Investors",value:"investors"},{title:"SBA Loan",value:"sba_loan"},{title:"Other",value:"other"}],Pe=[{title:"Saudi Arabia",value:"Saudi Arabia"},{title:"United Arab Emirates",value:"United Arab Emirates"},{title:"Qatar",value:"Qatar"},{title:"Kuwait",value:"Kuwait"},{title:"Oman",value:"Oman"},{title:"Bahrain",value:"Bahrain"},{title:"Jordan",value:"Jordan"},{title:"Lebanon",value:"Lebanon"},{title:"Egypt",value:"Egypt"},{title:"Iraq",value:"Iraq"}],Ie=[{title:"Coffee",value:"Coffee"},{title:"Tea",value:"Tea"},{title:"Pastries",value:"Pastries"},{title:"Merchandise",value:"Merchandise"},{title:"Equipment",value:"Equipment"}],Ae=[{title:"Active",value:"active"},{title:"Inactive",value:"inactive"},{title:"Discontinued",value:"discontinued"}],$e=()=>{D.value={id:null,name:"",description:"",type:"other",file:null,expiry_date:null,is_confidential:!1,status:"active"},E.value=!0},Te=async()=>{var n,e;try{if(!((n=o.value)!=null&&n.id)){m("No franchise ID available","error");return}const d=new FormData;d.append("name",D.value.name),d.append("description",D.value.description||""),d.append("type",D.value.type),d.append("status",D.value.status),d.append("is_confidential",D.value.is_confidential?"1":"0"),D.value.expiry_date&&d.append("expiry_date",D.value.expiry_date),D.value.file&&d.append("file",D.value.file);let v;D.value.id!==null?v=await S(`/v1/franchises/${o.value.id}/documents/${D.value.id}`,{method:"PUT",body:d}):v=await S(`/v1/franchises/${o.value.id}/documents`,{method:"POST",body:d}),v.success?(m(D.value.id!==null?"Document updated successfully":"Document uploaded successfully","success"),Fe.value=!1,await ee()):m(v.message||"Failed to save document","error")}catch(d){if(console.error("Failed to save document:",d),d.status===422&&((e=d.data)!=null&&e.errors)){const v=Object.values(d.data.errors).flat();m(`Validation failed: ${v.join(", ")}`,"error")}else m("Failed to save document","error")}},Le=async n=>{var e;try{if(!((e=o.value)!=null&&e.id)){m("No franchise ID available","error");return}const d=await S(`/v1/franchises/${o.value.id}/documents/${n.id}/download`,{method:"GET"}),v=new Blob([d],{type:"application/octet-stream"}),k=window.URL.createObjectURL(v),h=n.createElement("a");h.href=k,h.download=n.file_name||n.name,n.body.appendChild(h),h.click(),n.body.removeChild(h),window.URL.revokeObjectURL(k),m("Document downloaded successfully","success")}catch(d){console.error("Failed to download document:",d),m("Failed to download document","error")}},Me=n=>{R.value=n,$.value=!0},ze=async()=>{var n;try{if(!((n=o.value)!=null&&n.id)||!R.value){m("Invalid request","error");return}const e=await S(`/v1/franchises/${o.value.id}/documents/${R.value.id}`,{method:"DELETE"});e.success?(m("Document deleted successfully","success"),await ee()):m(e.message||"Failed to delete document","error")}catch(e){console.error("Failed to delete document:",e),m("Failed to delete document","error")}finally{$.value=!1,R.value=null}},Be=()=>{f.value={id:null,name:"",description:"",unit_price:0,category:"",status:"active",stock:0,sku:""},le.value=!0},Oe=n=>{f.value={...n},ae.value=!0},je=async()=>{var n,e;try{if(!((n=o.value)!=null&&n.id)){m("No franchise ID available","error");return}const d={name:f.value.name||"",description:f.value.description||"",category:f.value.category||"",unit_price:f.value.unit_price||0,stock:f.value.stock||0,status:f.value.status||"active",sku:f.value.sku||""};let v;const k=f.value.id!==null?`/v1/franchises/${o.value.id}/products/${f.value.id}`:`/v1/franchises/${o.value.id}/products`;if(f.value.id!==null)v=await S(k,{method:"PUT",body:d});else{const h=new FormData;Object.entries(d).forEach(([N,a])=>{h.append(N,a.toString())}),v=await S(k,{method:"POST",body:h})}v.success?(m(f.value.id!==null?"Product updated successfully":"Product created successfully","success"),M.value=!1,await te()):m(v.message||"Failed to save product","error")}catch(d){if(console.error("Failed to save product:",d),d.status===422&&((e=d.data)!=null&&e.errors)){const v=Object.values(d.data.errors).flat();m(`Validation failed: ${v.join(", ")}`,"error")}else m("Failed to save product","error")}},Re=n=>{j.value=n,A.value=!0},qe=async()=>{var n;try{if(!((n=o.value)!=null&&n.id)||!j.value){m("Invalid request","error");return}const e=await S(`/v1/franchises/${o.value.id}/products/${j.value.id}`,{method:"DELETE"});e.success?(m("Product deleted successfully","success"),await te()):m(e.message||"Failed to delete product","error")}catch(e){console.error("Failed to delete product:",e),m("Failed to delete product","error")}finally{A.value=!1,j.value=null}},Je=J(()=>G.value.length),Ke=J(()=>G.value.filter(n=>n.status==="active").length),We=J(()=>Y.value.length),Qe=[{title:"Product Name",key:"name"},{title:"Description",key:"description"},{title:"Category",key:"category"},{title:"Unit Price",key:"unit_price"},{title:"Stock",key:"stock"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],Ge=n=>n==="active"?"success":n==="inactive"?"warning":n==="discontinued"?"error":"secondary";return(n,e)=>{const d=Ze,v=Ye,k=Xe,h=at("IconBtn"),N=He;return u(),_("section",null,[t(nt,{modelValue:s(O),"onUpdate:modelValue":e[0]||(e[0]=a=>P(O)?O.value=a:null),class:"align-center justify-center"},{default:l(()=>[t(st,{color:"primary",indeterminate:"",size:"64"})]),_:1},8,["modelValue"]),t(U,{class:"mb-6"},{default:l(()=>[t(c,{cols:"12"},{default:l(()=>[i("div",pt,[e[43]||(e[43]=i("div",null,[i("h2",{class:"text-h2 mb-1"}," My Franchise "),i("p",{class:"text-body-1 text-medium-emphasis"}," Manage your franchise details, documents, and products ")],-1)),t(V,{color:s(b)?"secondary":"primary","prepend-icon":s(b)?"tabler-x":"tabler-edit",onClick:e[1]||(e[1]=a=>b.value=!s(b))},{default:l(()=>[p(r(s(b)?"Cancel Edit":"Edit Franchise Details"),1)]),_:1},8,["color","prepend-icon"])])]),_:1})]),_:1}),t(U,{class:"mb-6"},{default:l(()=>[t(c,{cols:"12",md:"4"},{default:l(()=>[t(w,null,{default:l(()=>[t(C,{class:"d-flex align-center"},{default:l(()=>[t(K,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:l(()=>[t(F,{icon:"tabler-building-store",size:"26"})]),_:1}),e[44]||(e[44]=i("div",{class:"ms-4"},[i("div",{class:"text-body-2 text-disabled"}," Franchise Status "),i("h4",{class:"text-h4"}," Active ")],-1))]),_:1,__:[44]})]),_:1})]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[t(w,null,{default:l(()=>[t(C,{class:"d-flex align-center"},{default:l(()=>[t(K,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:l(()=>[t(F,{icon:"tabler-files",size:"26"})]),_:1}),i("div",bt,[e[45]||(e[45]=i("div",{class:"text-body-2 text-disabled"}," Total Documents ",-1)),i("h4",yt,r(s(We)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[t(w,null,{default:l(()=>[t(C,{class:"d-flex align-center"},{default:l(()=>[t(K,{size:"44",rounded:"",color:"info",variant:"tonal"},{default:l(()=>[t(F,{icon:"tabler-package",size:"26"})]),_:1}),i("div",gt,[e[46]||(e[46]=i("div",{class:"text-body-2 text-disabled"}," Active Products ",-1)),i("h4",_t,r(s(Ke))+" / "+r(s(Je)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(dt,{modelValue:s(T),"onUpdate:modelValue":e[2]||(e[2]=a=>P(T)?T.value=a:null),class:"mb-6"},{default:l(()=>[t(se,{value:"overview"},{default:l(()=>[t(F,{icon:"tabler-info-circle",start:""}),e[47]||(e[47]=p(" Overview "))]),_:1,__:[47]}),t(se,{value:"documents"},{default:l(()=>[t(F,{icon:"tabler-files",start:""}),e[48]||(e[48]=p(" Documents "))]),_:1,__:[48]}),t(se,{value:"products"},{default:l(()=>[t(F,{icon:"tabler-package",start:""}),e[49]||(e[49]=p(" Products "))]),_:1,__:[49]})]),_:1},8,["modelValue"]),t(ut,{modelValue:s(T),"onUpdate:modelValue":e[18]||(e[18]=a=>P(T)?T.value=a:null),class:"disable-tab-transition"},{default:l(()=>[t(oe,{value:"overview"},{default:l(()=>[t(w,null,{default:l(()=>[t(C,null,{default:l(()=>[t(U,null,{default:l(()=>[t(c,{cols:"12"},{default:l(()=>[e[54]||(e[54]=i("h4",{class:"text-h6 mb-4"}," Franchise Information ",-1)),t(w,{variant:"outlined"},{default:l(()=>[t(C,null,{default:l(()=>[t(U,null,{default:l(()=>[t(c,{cols:"12",md:"6"},{default:l(()=>[i("div",Dt,[e[50]||(e[50]=i("div",{class:"text-sm text-disabled mb-1"}," Franchise Name ",-1)),s(b)?(u(),x(d,{key:1,modelValue:s(o).franchiseDetails.franchiseName,"onUpdate:modelValue":e[3]||(e[3]=a=>s(o).franchiseDetails.franchiseName=a),label:"Franchise Name",placeholder:"Enter franchise name"},null,8,["modelValue"])):(u(),_("div",Vt,r(s(o).franchiseDetails.franchiseName),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[i("div",xt,[e[51]||(e[51]=i("div",{class:"text-sm text-disabled mb-1"}," Website ",-1)),s(b)?(u(),x(d,{key:1,modelValue:s(o).franchiseDetails.website,"onUpdate:modelValue":e[4]||(e[4]=a=>s(o).franchiseDetails.website=a),label:"Website",placeholder:"https://example.com"},null,8,["modelValue"])):(u(),_("div",kt,[i("a",{href:s(o).franchiseDetails.website,target:"_blank",class:"text-primary"},r(s(o).franchiseDetails.website),9,ht)]))])]),_:1}),t(c,{cols:"12"},{default:l(()=>[i("div",wt,[e[53]||(e[53]=i("div",{class:"text-sm text-disabled mb-1"}," Franchise Logo ",-1)),s(b)?(u(),x(Ve,{key:1,modelValue:s(I),"onUpdate:modelValue":e[5]||(e[5]=a=>P(I)?I.value=a:null),label:"Franchise Logo",accept:"image/*","prepend-icon":"tabler-upload",loading:s(Z)},null,8,["modelValue","loading"])):(u(),_("div",Ct,[s(o).franchiseDetails.logo?(u(),_("div",St,[t(K,{size:"40",class:"me-3"},{default:l(()=>[t(ft,{src:s(o).franchiseDetails.logo,alt:"Franchise Logo"},null,8,["src"])]),_:1}),e[52]||(e[52]=i("span",null,"Logo uploaded",-1))])):(u(),_("span",Ft,"No logo uploaded"))]))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1,__:[54]}),t(c,{cols:"12"},{default:l(()=>[e[61]||(e[61]=i("h4",{class:"text-h6 mb-4"}," Legal Information ",-1)),t(w,{variant:"outlined"},{default:l(()=>[t(C,null,{default:l(()=>[t(U,null,{default:l(()=>[t(c,{cols:"12",md:"6"},{default:l(()=>[i("div",Nt,[e[55]||(e[55]=i("div",{class:"text-sm text-disabled mb-1"}," Legal Entity Name ",-1)),s(b)?(u(),x(d,{key:1,modelValue:s(o).legalDetails.legalEntityName,"onUpdate:modelValue":e[6]||(e[6]=a=>s(o).legalDetails.legalEntityName=a),label:"Legal Entity Name",placeholder:"Enter legal entity name"},null,8,["modelValue"])):(u(),_("div",Ut,r(s(o).legalDetails.legalEntityName),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[i("div",Et,[e[56]||(e[56]=i("div",{class:"text-sm text-disabled mb-1"}," Business Structure ",-1)),s(b)?(u(),x(v,{key:1,modelValue:s(o).legalDetails.businessStructure,"onUpdate:modelValue":e[7]||(e[7]=a=>s(o).legalDetails.businessStructure=a),label:"Business Structure",placeholder:"Select business structure",items:Ne},null,8,["modelValue"])):(u(),_("div",Pt,r(s(o).legalDetails.businessStructure),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[i("div",It,[e[57]||(e[57]=i("div",{class:"text-sm text-disabled mb-1"}," Tax ID ",-1)),s(b)?(u(),x(d,{key:1,modelValue:s(o).legalDetails.taxId,"onUpdate:modelValue":e[8]||(e[8]=a=>s(o).legalDetails.taxId=a),label:"Tax ID",placeholder:"Enter tax ID"},null,8,["modelValue"])):(u(),_("div",At,r(s(o).legalDetails.taxId),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[i("div",$t,[e[58]||(e[58]=i("div",{class:"text-sm text-disabled mb-1"}," Industry ",-1)),s(b)?(u(),x(v,{key:1,modelValue:s(o).legalDetails.industry,"onUpdate:modelValue":e[9]||(e[9]=a=>s(o).legalDetails.industry=a),label:"Industry",placeholder:"Select industry",items:Ue},null,8,["modelValue"])):(u(),_("div",Tt,r(s(o).legalDetails.industry),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[i("div",Lt,[e[59]||(e[59]=i("div",{class:"text-sm text-disabled mb-1"}," Funding Amount ",-1)),s(b)?(u(),x(d,{key:1,modelValue:s(o).legalDetails.fundingAmount,"onUpdate:modelValue":e[10]||(e[10]=a=>s(o).legalDetails.fundingAmount=a),label:"Funding Amount",placeholder:"Enter funding amount",type:"number"},null,8,["modelValue"])):(u(),_("div",Mt,r(s(o).legalDetails.fundingAmount),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[i("div",zt,[e[60]||(e[60]=i("div",{class:"text-sm text-disabled mb-1"}," Funding Source ",-1)),s(b)?(u(),x(v,{key:1,modelValue:s(o).legalDetails.fundingSource,"onUpdate:modelValue":e[11]||(e[11]=a=>s(o).legalDetails.fundingSource=a),label:"Funding Source",placeholder:"Select funding source",items:Ee},null,8,["modelValue"])):(u(),_("div",Bt,r(s(o).legalDetails.fundingSource),1))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1,__:[61]}),t(c,{cols:"12"},{default:l(()=>[e[68]||(e[68]=i("h4",{class:"text-h6 mb-4"}," Contact Information ",-1)),t(w,{variant:"outlined"},{default:l(()=>[t(C,null,{default:l(()=>[t(U,null,{default:l(()=>[t(c,{cols:"12",md:"6"},{default:l(()=>[i("div",Ot,[e[62]||(e[62]=i("div",{class:"text-sm text-disabled mb-1"}," Contact Number ",-1)),s(b)?(u(),x(d,{key:1,modelValue:s(o).contactDetails.contactNumber,"onUpdate:modelValue":e[12]||(e[12]=a=>s(o).contactDetails.contactNumber=a),label:"Contact Number",placeholder:"Enter contact number"},null,8,["modelValue"])):(u(),_("div",jt,r(s(o).contactDetails.contactNumber),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[i("div",Rt,[e[63]||(e[63]=i("div",{class:"text-sm text-disabled mb-1"}," Email ",-1)),s(b)?(u(),x(d,{key:1,modelValue:s(o).contactDetails.email,"onUpdate:modelValue":e[13]||(e[13]=a=>s(o).contactDetails.email=a),label:"Email",placeholder:"Enter email address",type:"email"},null,8,["modelValue"])):(u(),_("div",qt,[i("a",{href:`mailto:${s(o).contactDetails.email}`,class:"text-primary"},r(s(o).contactDetails.email),9,Jt)]))])]),_:1}),t(c,{cols:"12"},{default:l(()=>[i("div",Kt,[e[64]||(e[64]=i("div",{class:"text-sm text-disabled mb-1"}," Address ",-1)),s(b)?(u(),x(k,{key:1,modelValue:s(o).contactDetails.address,"onUpdate:modelValue":e[14]||(e[14]=a=>s(o).contactDetails.address=a),label:"Address",placeholder:"Enter full address",rows:"2"},null,8,["modelValue"])):(u(),_("div",Wt,r(s(o).contactDetails.address),1))])]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[i("div",Qt,[e[65]||(e[65]=i("div",{class:"text-sm text-disabled mb-1"}," Country ",-1)),s(b)?(u(),x(v,{key:1,modelValue:s(o).contactDetails.country,"onUpdate:modelValue":e[15]||(e[15]=a=>s(o).contactDetails.country=a),label:"Country",placeholder:"Select country",items:Pe},null,8,["modelValue"])):(u(),_("div",Gt,r(s(o).contactDetails.country),1))])]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[i("div",Ht,[e[66]||(e[66]=i("div",{class:"text-sm text-disabled mb-1"}," State ",-1)),s(b)?(u(),x(d,{key:1,modelValue:s(o).contactDetails.state,"onUpdate:modelValue":e[16]||(e[16]=a=>s(o).contactDetails.state=a),label:"State",placeholder:"Enter state"},null,8,["modelValue"])):(u(),_("div",Xt,r(s(o).contactDetails.state),1))])]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[i("div",Yt,[e[67]||(e[67]=i("div",{class:"text-sm text-disabled mb-1"}," City ",-1)),s(b)?(u(),x(d,{key:1,modelValue:s(o).contactDetails.city,"onUpdate:modelValue":e[17]||(e[17]=a=>s(o).contactDetails.city=a),label:"City",placeholder:"Enter city"},null,8,["modelValue"])):(u(),_("div",Zt,r(s(o).contactDetails.city),1))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1,__:[68]})]),_:1})]),_:1}),t(B,{class:"justify-end"},{default:l(()=>[s(b)?(u(),_(De,{key:0},[t(V,{variant:"outlined","prepend-icon":"tabler-x",class:"me-2",onClick:Ce},{default:l(()=>e[69]||(e[69]=[p(" Cancel ")])),_:1,__:[69]}),t(V,{color:"primary",loading:s(Q),"prepend-icon":"tabler-device-floppy",onClick:Se},{default:l(()=>e[70]||(e[70]=[p(" Save Changes ")])),_:1,__:[70]},8,["loading"])],64)):ot("",!0)]),_:1})]),_:1})]),_:1}),t(oe,{value:"documents"},{default:l(()=>[t(w,null,{default:l(()=>[t(C,null,{default:l(()=>[i("div",el,[e[72]||(e[72]=i("h4",{class:"text-h6"}," Franchise Documents ",-1)),t(V,{color:"primary","prepend-icon":"tabler-plus",onClick:$e},{default:l(()=>e[71]||(e[71]=[p(" Add Document ")])),_:1,__:[71]})]),t(U,null,{default:l(()=>[(u(!0),_(De,null,it(s(Y),a=>(u(),x(c,{key:a.id,cols:"12",md:"6",lg:"4"},{default:l(()=>[t(w,null,{default:l(()=>[t(C,null,{default:l(()=>[i("div",tl,[t(F,{icon:"tabler-file-text",size:"24",color:"primary",class:"me-3"}),i("div",null,[i("h6",ll,r(a.name),1),i("p",al,r(a.type),1)])]),i("p",sl,r(a.description),1),i("div",ol,[i("span",il,r(a.file_name),1),t(xe,{size:"small",color:"secondary"},{default:l(()=>[p(r(a.file_size),1)]),_:2},1024)]),i("div",nl," Uploaded: "+r(a.created_at),1)]),_:2},1024),t(B,null,{default:l(()=>[t(V,{size:"small",variant:"text",color:"primary","prepend-icon":"tabler-download",onClick:z=>Le(a)},{default:l(()=>e[73]||(e[73]=[p(" Download ")])),_:2,__:[73]},1032,["onClick"]),t(W),t(V,{size:"small",variant:"text",color:"error",icon:"tabler-trash",onClick:z=>Me(a)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),t(oe,{value:"products"},{default:l(()=>[t(w,null,{default:l(()=>[t(ct,{class:"pb-4"},{append:l(()=>[t(V,{color:"primary","prepend-icon":"tabler-plus",onClick:Be},{default:l(()=>e[75]||(e[75]=[p(" Add Product ")])),_:1,__:[75]})]),default:l(()=>[t(mt,null,{default:l(()=>e[74]||(e[74]=[p("Franchise Products")])),_:1,__:[74]})]),_:1}),t(C,null,{default:l(()=>[t(vt,{headers:Qe,items:s(G),"item-value":"id",class:"text-no-wrap","show-select":""},{"item.name":l(({item:a})=>[i("div",dl,[t(K,{size:"34",color:"primary",variant:"tonal",class:"text-primary"},{default:l(()=>[t(F,{icon:"tabler-package"})]),_:1}),i("div",ul,[i("h6",rl,r(a.name),1),i("div",cl,r(a.category),1)])])]),"item.description":l(({item:a})=>[i("div",ml,r(a.description),1)]),"item.unit_price":l(({item:a})=>[i("div",fl,r(Number(a.unit_price).toFixed(2))+" SAR ",1)]),"item.stock":l(({item:a})=>[i("div",vl,r(a.stock),1)]),"item.status":l(({item:a})=>[t(xe,{color:Ge(a.status),size:"small",class:"text-capitalize",label:""},{default:l(()=>[p(r(a.status),1)]),_:2},1032,["color"])]),"item.actions":l(({item:a})=>[t(h,{onClick:z=>Oe(a)},{default:l(()=>[t(F,{icon:"tabler-edit"})]),_:2},1032,["onClick"]),t(h,{onClick:z=>Re(a)},{default:l(()=>[t(F,{icon:"tabler-trash"})]),_:2},1032,["onClick"])]),_:1},8,["items"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(X,{modelValue:s(E),"onUpdate:modelValue":e[24]||(e[24]=a=>P(E)?E.value=a:null),"max-width":"600"},{default:l(()=>[t(N,{onClick:e[19]||(e[19]=a=>E.value=!1)}),t(w,{title:"Add New Document"},{default:l(()=>[t(C,null,{default:l(()=>[t(ke,null,{default:l(()=>[t(U,null,{default:l(()=>[t(c,{cols:"12"},{default:l(()=>[t(d,{modelValue:s(D).name,"onUpdate:modelValue":e[20]||(e[20]=a=>s(D).name=a),label:"Document Name",placeholder:"Enter document name",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12"},{default:l(()=>[t(k,{modelValue:s(D).description,"onUpdate:modelValue":e[21]||(e[21]=a=>s(D).description=a),label:"Description",placeholder:"Enter document description",rows:"3"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12"},{default:l(()=>[t(Ve,{modelValue:s(D).file,"onUpdate:modelValue":e[22]||(e[22]=a=>s(D).file=a),label:"Attach File",accept:".pdf,.doc,.docx","prepend-icon":"tabler-paperclip",required:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(B,null,{default:l(()=>[t(W),t(V,{color:"secondary",variant:"outlined",onClick:e[23]||(e[23]=a=>E.value=!1)},{default:l(()=>e[76]||(e[76]=[p(" Cancel ")])),_:1,__:[76]}),t(V,{color:"primary",onClick:Te},{default:l(()=>e[77]||(e[77]=[p(" Add Document ")])),_:1,__:[77]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(X,{modelValue:s(M),"onUpdate:modelValue":e[34]||(e[34]=a=>P(M)?M.value=a:null),"max-width":"600"},{default:l(()=>[t(N,{onClick:e[25]||(e[25]=a=>M.value=!1)}),t(w,{title:s(f).id?"Edit Product":"Add New Product"},{default:l(()=>[t(C,null,{default:l(()=>[t(ke,null,{default:l(()=>[t(U,null,{default:l(()=>[t(c,{cols:"12",md:"6"},{default:l(()=>[t(d,{modelValue:s(f).name,"onUpdate:modelValue":e[26]||(e[26]=a=>s(f).name=a),label:"Product Name",placeholder:"Enter product name",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[t(d,{modelValue:s(f).sku,"onUpdate:modelValue":e[27]||(e[27]=a=>s(f).sku=a),label:"SKU",placeholder:"Enter product SKU",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[t(v,{modelValue:s(f).category,"onUpdate:modelValue":e[28]||(e[28]=a=>s(f).category=a),label:"Category",items:Ie,placeholder:"Select category"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12"},{default:l(()=>[t(k,{modelValue:s(f).description,"onUpdate:modelValue":e[29]||(e[29]=a=>s(f).description=a),label:"Description",placeholder:"Enter product description",rows:"3"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[t(d,{modelValue:s(f).unit_price,"onUpdate:modelValue":e[30]||(e[30]=a=>s(f).unit_price=a),modelModifiers:{number:!0},label:"Unit Price",type:"number",placeholder:"0.00",prefix:"SAR",step:"0.01"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[t(d,{modelValue:s(f).stock,"onUpdate:modelValue":e[31]||(e[31]=a=>s(f).stock=a),modelModifiers:{number:!0},label:"Stock Quantity",type:"number",placeholder:"0"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[t(v,{modelValue:s(f).status,"onUpdate:modelValue":e[32]||(e[32]=a=>s(f).status=a),label:"Status",items:Ae,placeholder:"Select status"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(B,null,{default:l(()=>[t(W),t(V,{color:"secondary",variant:"outlined",onClick:e[33]||(e[33]=a=>M.value=!1)},{default:l(()=>e[78]||(e[78]=[p(" Cancel ")])),_:1,__:[78]}),t(V,{color:"primary",onClick:je},{default:l(()=>[p(r(s(f).id?"Update Product":"Add Product"),1)]),_:1})]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"]),t(X,{modelValue:s(A),"onUpdate:modelValue":e[37]||(e[37]=a=>P(A)?A.value=a:null),"max-width":"600"},{default:l(()=>[t(N,{onClick:e[35]||(e[35]=a=>A.value=!1)}),t(w,{title:"Delete Product"},{default:l(()=>[t(C,null,{default:l(()=>{var a;return[p(' Are you sure you want to delete "'+r((a=s(j))==null?void 0:a.name)+'"? This action cannot be undone. ',1)]}),_:1}),t(B,null,{default:l(()=>[t(W),t(V,{color:"secondary",variant:"outlined",onClick:e[36]||(e[36]=a=>A.value=!1)},{default:l(()=>e[79]||(e[79]=[p(" Cancel ")])),_:1,__:[79]}),t(V,{color:"error",onClick:qe},{default:l(()=>e[80]||(e[80]=[p(" Delete ")])),_:1,__:[80]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(X,{modelValue:s($),"onUpdate:modelValue":e[40]||(e[40]=a=>P($)?$.value=a:null),"max-width":"600"},{default:l(()=>[t(N,{onClick:e[38]||(e[38]=a=>$.value=!1)}),t(w,{title:"Confirm Delete"},{default:l(()=>[t(C,null,{default:l(()=>{var a;return[p(' Are you sure you want to delete "'+r((a=s(R))==null?void 0:a.name)+'"? This action cannot be undone. ',1)]}),_:1}),t(B,null,{default:l(()=>[t(W),t(V,{color:"secondary",variant:"tonal",onClick:e[39]||(e[39]=a=>$.value=!1)},{default:l(()=>e[81]||(e[81]=[p(" Cancel ")])),_:1,__:[81]}),t(V,{color:"error",onClick:ze},{default:l(()=>e[82]||(e[82]=[p(" Delete ")])),_:1,__:[82]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(rt,{modelValue:s(L).show,"onUpdate:modelValue":e[42]||(e[42]=a=>s(L).show=a),color:s(L).color,location:"top end",timeout:"4000"},{actions:l(()=>[t(V,{color:"white",variant:"text",onClick:e[41]||(e[41]=a=>s(L).show=!1)},{default:l(()=>e[83]||(e[83]=[p(" Close ")])),_:1,__:[83]})]),default:l(()=>[p(r(s(L).message)+" ",1)]),_:1},8,["modelValue","color"])])}}});export{Yl as default};
