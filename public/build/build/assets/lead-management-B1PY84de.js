import{V as Oe,_ as Be}from"./VDataTableServer-BjfPMN38.js";import{_ as Fe}from"./AppTextField.vue_vue_type_script_setup_true_lang-cll0KdiE.js";import{_ as je}from"./AppSelect.vue_vue_type_script_setup_true_lang-DYWNHqEN.js";import{d as Z,r,w as ve,g as K,f as l,b as e,t as i,m as o,au as _,aV as ze,aW as qe,v,a3 as C,aO as I,o as E,e as d,P as se,G as We,c as de,j as Ge,a as Qe,F as Je,i as He,x as Ke,aa as U,l as Xe}from"./main-C-XcYpJA.js";import{V as X}from"./VDialog-BDDv80YG.js";import{a as z,b as q,V as M,d as ue}from"./VCard-DISeXwr4.js";import{V as A}from"./VCardText-CEySelaG.js";import{V as ge}from"./VSelect-5-kca9Hr.js";import{a as F,b as j,d as Ye,V as Ze}from"./VList-9s1GRErj.js";import{V as el}from"./VTextarea-BQT8izNQ.js";import{_ as ll}from"./AddNoteModal.vue_vue_type_script_setup_true_lang-BUqdpyVg.js";import{p as tl,a as al}from"./formatters-WDr9EcLN.js";import{V as me,a as Y}from"./VRow-CWZpCBwA.js";import{V as ce}from"./VAvatar-D2epmcpy.js";import{V as pe}from"./VDivider-Bk49LTaU.js";import{V as ne}from"./VSpacer-C2eiFnqr.js";import{V as ol}from"./VMenu-CeGarMgs.js";import{V as fe}from"./VChip-CzBtwj53.js";import{V as sl}from"./VFileInput-eH_XIi2N.js";import"./VPagination-D_9eGm75.js";import"./VDataTable-CGq7nwqb.js";import"./VCheckboxBtn-BSH2AfDu.js";import"./VSelectionControl-CAJyj1-L.js";import"./form-DuADsac0.js";import"./VTable-DQh4H7Sz.js";import"./filter-CV9LUcWC.js";import"./VTextField-CSI95_ey.js";/* empty css                   */import"./VCounter-C_LbNd2E.js";import"./VImg-D1uZhlk0.js";import"./VField-DIWiONsX.js";import"./easing-Bybner-F.js";import"./VInput-BTftOa-l.js";import"./forwardRefs-C-GTDzx5.js";import"./VOverlay-EFD0dTaV.js";import"./lazy-CYX4z4FS.js";import"./scopeId-Cz5VrSPP.js";import"./dialog-transition-B1a2-QrP.js";import"./ssrBoot-DtjyrkNE.js";import"./AppTextarea.vue_vue_type_script_setup_true_lang-Cbu5QOEk.js";import"./VForm-WiHkdlYr.js";/* empty css              */import"./VSlideGroup-BQAU8ct_.js";const nl=Z({__name:"AssignLeadModal",props:{isDialogVisible:{type:Boolean},leadId:{},currentAssigneeId:{}},emits:["update:isDialogVisible","leadAssigned"],setup(T,{emit:k}){const p=T,x=k,u=r(p.currentAssigneeId||null),m=r([]),g=r(!1),w=r(!1),L=b=>{x("update:isDialogVisible",b),b||(u.value=p.currentAssigneeId||null)},n=async()=>{w.value=!0;try{const b=await I("/v1/franchisor/sales-associates");b.success?m.value=b.data.map(y=>({id:y.id,name:y.name,email:y.email})):m.value=[]}catch(b){console.error("Error fetching sales associates:",b),m.value=[]}finally{w.value=!1}},c=async()=>{if(!(!p.leadId||u.value===null)){g.value=!0;try{await I(`/v1/franchisor/leads/${p.leadId}/assign`,{method:"PATCH",body:{assigned_to:u.value}}),x("leadAssigned"),L(!1)}catch(b){console.error("Error assigning lead:",b)}finally{g.value=!1}}};return ve(()=>p.isDialogVisible,b=>{b&&(n(),u.value=p.currentAssigneeId||null)}),(b,y)=>(E(),K(X,{"max-width":"500","model-value":p.isDialogVisible,"onUpdate:modelValue":L},{default:l(()=>[e(M,null,{default:l(()=>[e(z,null,{default:l(()=>[e(q,null,{default:l(()=>y[2]||(y[2]=[i("Assign Lead")])),_:1,__:[2]})]),_:1}),e(A,null,{default:l(()=>[e(ge,{modelValue:o(u),"onUpdate:modelValue":y[0]||(y[0]=h=>_(u)?u.value=h:null),items:o(m),"item-title":"name","item-value":"id",label:"Sales Associate",placeholder:"Select a sales associate",variant:"outlined",loading:o(w),disabled:o(g)},{item:l(({props:h,item:R})=>[e(F,ze(qe(h)),{default:l(()=>[e(j,null,{default:l(()=>[i(v(R.raw.name),1)]),_:2},1024),e(Ye,null,{default:l(()=>[i(v(R.raw.email),1)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","items","loading","disabled"])]),_:1}),e(A,{class:"d-flex align-center justify-end gap-2"},{default:l(()=>[e(C,{color:"secondary",variant:"tonal",disabled:o(g),onClick:y[1]||(y[1]=h=>L(!1))},{default:l(()=>y[3]||(y[3]=[i(" Cancel ")])),_:1,__:[3]},8,["disabled"]),e(C,{color:"primary",variant:"elevated",loading:o(g),disabled:o(u)===null,onClick:c},{default:l(()=>y[4]||(y[4]=[i(" Assign Lead ")])),_:1,__:[4]},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}}),il={class:"mb-4"},rl={class:"text-body-1 mb-2"},dl=Z({__name:"ConvertLeadModal",props:{isDialogVisible:{type:Boolean},leadId:{},leadName:{}},emits:["update:isDialogVisible","leadConverted"],setup(T,{emit:k}){const p=T,x=k,u=r(""),m=r(!1),g=L=>{x("update:isDialogVisible",L),L||(u.value="")},w=async()=>{if(p.leadId){m.value=!0;try{await I(`/v1/franchisor/leads/${p.leadId}/convert`,{method:"POST",body:{notes:u.value.trim()}}),x("leadConverted"),g(!1)}catch(L){console.error("Error converting lead:",L)}finally{m.value=!1}}};return(L,n)=>(E(),K(X,{"max-width":"500","model-value":p.isDialogVisible,"onUpdate:modelValue":g},{default:l(()=>[e(M,null,{default:l(()=>[e(z,null,{default:l(()=>[e(q,null,{default:l(()=>n[2]||(n[2]=[i("Convert Lead to Customer")])),_:1,__:[2]})]),_:1}),e(A,null,{default:l(()=>[d("div",il,[d("p",rl,[n[3]||(n[3]=i(" Are you sure you want to convert ")),d("strong",null,v(p.leadName||"this lead"),1),n[4]||(n[4]=i(" to a customer? "))]),n[5]||(n[5]=d("p",{class:"text-body-2 text-medium-emphasis"},' This action will change the lead status to "Converted" and cannot be undone. ',-1))]),e(el,{modelValue:o(u),"onUpdate:modelValue":n[0]||(n[0]=c=>_(u)?u.value=c:null),label:"Conversion Notes (Optional)",placeholder:"Add any notes about the conversion...",rows:"3",variant:"outlined",disabled:o(m)},null,8,["modelValue","disabled"])]),_:1}),e(A,{class:"d-flex align-center justify-end gap-2"},{default:l(()=>[e(C,{color:"secondary",variant:"tonal",disabled:o(m),onClick:n[1]||(n[1]=c=>g(!1))},{default:l(()=>n[6]||(n[6]=[i(" Cancel ")])),_:1,__:[6]},8,["disabled"]),e(C,{color:"success",variant:"elevated",loading:o(m),onClick:w},{default:l(()=>n[7]||(n[7]=[i(" Convert to Customer ")])),_:1,__:[7]},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}}),ul={class:"mb-4"},ml={class:"text-body-1 mb-2"},cl=Z({__name:"MarkAsLostModal",props:{isDialogVisible:{type:Boolean},leadId:{},leadName:{}},emits:["update:isDialogVisible","leadMarkedAsLost"],setup(T,{emit:k}){const p=T,x=k,u=r(""),m=r(!1),g=["Not interested","Budget constraints","Chose competitor","Timing not right","No response","Other"],w=n=>{x("update:isDialogVisible",n),n||(u.value="")},L=async()=>{if(!(!p.leadId||!u.value)){m.value=!0;try{await I(`/v1/franchisor/leads/${p.leadId}/mark-lost`,{method:"POST",body:{reason:u.value}}),x("leadMarkedAsLost"),w(!1)}catch(n){console.error("Error marking lead as lost:",n)}finally{m.value=!1}}};return(n,c)=>(E(),K(X,{"max-width":"500","model-value":p.isDialogVisible,"onUpdate:modelValue":w},{default:l(()=>[e(M,null,{default:l(()=>[e(z,null,{default:l(()=>[e(q,null,{default:l(()=>c[2]||(c[2]=[i("Mark Lead as Lost")])),_:1,__:[2]})]),_:1}),e(A,null,{default:l(()=>[d("div",ul,[d("p",ml,[c[3]||(c[3]=i(" Are you sure you want to mark ")),d("strong",null,v(p.leadName||"this lead"),1),c[4]||(c[4]=i(" as lost? "))]),c[5]||(c[5]=d("p",{class:"text-body-2 text-medium-emphasis"},' This action will change the lead status to "Lost" and cannot be undone. ',-1))]),e(ge,{modelValue:o(u),"onUpdate:modelValue":c[0]||(c[0]=b=>_(u)?u.value=b:null),items:g,label:"Reason for Loss",placeholder:"Select a reason",variant:"outlined",disabled:o(m),required:""},null,8,["modelValue","disabled"])]),_:1}),e(A,{class:"d-flex align-center justify-end gap-2"},{default:l(()=>[e(C,{color:"secondary",variant:"tonal",disabled:o(m),onClick:c[1]||(c[1]=b=>w(!1))},{default:l(()=>c[6]||(c[6]=[i(" Cancel ")])),_:1,__:[6]},8,["disabled"]),e(C,{color:"error",variant:"elevated",loading:o(m),disabled:!o(u),onClick:L},{default:l(()=>c[7]||(c[7]=[i(" Mark as Lost ")])),_:1,__:[7]},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}}),pl={class:"d-flex mb-6"},fl={class:"d-flex justify-space-between"},vl={class:"d-flex flex-column gap-y-1"},gl={class:"text-body-1 text-high-emphasis"},_l={class:"d-flex gap-x-2 align-center"},bl={class:"text-h4"},Vl={class:"me-3 d-flex gap-3"},yl={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},Cl={style:{"inline-size":"15.625rem"}},xl={class:"text-body-1 font-weight-medium"},Ll={class:"d-flex align-center gap-x-4"},wl={class:"d-flex flex-column"},kl={class:"text-base font-weight-medium"},Sl={class:"text-body-1"},Al={class:"text-body-1"},$l={class:"text-body-1"},hl={class:"text-body-1"},Dl={class:"text-body-1"},Ul={class:"text-body-1"},Il={class:"mb-4"},xt=Z({__name:"lead-management",setup(T){const k=r(""),p=r(""),x=r(""),u=r(""),m=r(10),g=r(1),w=r(),L=r(),n=r([]),c=r(!1),b=s=>{var t,V;w.value=(t=s.sortBy[0])==null?void 0:t.key,L.value=(V=s.sortBy[0])==null?void 0:V.order,D()},y=[{title:"#",key:"index",sortable:!1},{title:"Lead Name",key:"name"},{title:"Company",key:"company"},{title:"Email",key:"email"},{title:"Phone",key:"phone"},{title:"Location",key:"location"},{title:"Source",key:"source"},{title:"Status",key:"status"},{title:"Owner",key:"owner"},{title:"Last Contacted",key:"lastContacted"},{title:"Actions",key:"actions",sortable:!1}],h=r({leads:[],total:0}),R=se(()=>h.value.leads),ie=se(()=>h.value.total),D=async()=>{try{c.value=!0;const s=new URLSearchParams({page:g.value.toString(),per_page:m.value.toString()});k.value&&s.append("search",k.value),p.value&&s.append("status",p.value),x.value&&s.append("source",x.value),u.value&&s.append("owner",u.value),w.value&&s.append("sort_by",w.value),L.value&&s.append("sort_order",L.value);const t=await I(`/v1/franchisor/leads?${s.toString()}`,{method:"GET"});t.success&&(h.value={leads:t.data||[],total:t.total||0})}catch(s){console.error("Error fetching leads:",s)}finally{c.value=!1}},re=r([{title:"Total Leads",value:"0",change:0,icon:"tabler-users",iconColor:"primary"},{title:"Qualified",value:"0",change:0,icon:"tabler-user-check",iconColor:"success"},{title:"Unqualified",value:"0",change:0,icon:"tabler-user-x",iconColor:"error"}]),_e=async()=>{var s,t,V,S;try{const $=await I("/v1/franchisor/dashboard/leads",{method:"GET"});if($.success){const f=$.data.stats;re.value=[{title:"Total Leads",value:((s=f.total_leads)==null?void 0:s.toString())||"0",change:f.total_leads_change||0,icon:"tabler-users",iconColor:"primary"},{title:"Pending",value:((t=f.pending_leads)==null?void 0:t.toString())||"0",change:f.pending_leads_change||0,icon:"tabler-clock",iconColor:"warning"},{title:"Won",value:((V=f.won_leads)==null?void 0:V.toString())||"0",change:f.won_leads_change||0,icon:"tabler-user-check",iconColor:"success"},{title:"Lost",value:((S=f.lost_leads)==null?void 0:S.toString())||"0",change:f.lost_leads_change||0,icon:"tabler-user-x",iconColor:"error"}]}}catch($){console.error("Error fetching stats:",$)}},W=r(!1),ee=r(null),P=r(!1),O=r(!1),G=r(null),Q=r(!1),le=r(null),J=r(!1),te=r(null),H=r(!1),ae=r(null),be=[{title:"Website",value:"website"},{title:"Referral",value:"referral"},{title:"Social Media",value:"social_media"},{title:"Email Campaign",value:"email"}],Ve=[{title:"Qualified",value:"qualified"},{title:"Unqualified",value:"unqualified"}],oe=r([]),ye=async()=>{try{const s=await I("/v1/franchisor/sales-associates",{method:"GET"});s.success&&(oe.value=s.data||[])}catch(s){console.error("Error fetching sales associates:",s)}},Ce=se(()=>oe.value.map(s=>({title:`${s.first_name} ${s.last_name}`,value:s.id.toString()}))),xe=s=>{const t=s.toLowerCase();return t==="qualified"?"success":t==="unqualified"?"error":"primary"},Le=s=>{le.value=s,Q.value=!0},we=s=>{te.value=s,J.value=!0},ke=s=>{ae.value=s,H.value=!0},Se=s=>{ee.value=s,W.value=!0},Ae=s=>{G.value=s,O.value=!0},$e=async()=>{if(G.value!==null)try{if((await I(`/v1/franchisor/leads/${G.value}`,{method:"DELETE"})).success){await D();const t=n.value.findIndex(V=>V===G.value);t!==-1&&n.value.splice(t,1)}}catch(s){console.error("Error deleting lead:",s)}finally{O.value=!1,G.value=null}},he=()=>{D(),Q.value=!1,le.value=null},De=()=>{D(),J.value=!1,te.value=null},Ue=()=>{D(),H.value=!1,ae.value=null},Ie=()=>{D(),W.value=!1,ee.value=null},N=r(null),Ne=s=>{const t=s.target;t.files&&t.files[0]&&(N.value=t.files[0])},Ee=()=>{const s=`First Name,Last Name,Email,Phone,Company,Country,State,City,Lead Source,Lead Status,Lead Owner
John,Doe,john.doe@example.com,+1234567890,Example Corp,USA,California,Los Angeles,Website,Qualified,Sarah Johnson`,t=new Blob([s],{type:"text/csv"}),V=window.URL.createObjectURL(t),S=document.createElement("a");S.href=V,S.download="leads_example.csv",S.click(),window.URL.revokeObjectURL(V)},Me=()=>{N.value&&(console.log("Importing CSV:",N.value),P.value=!1,N.value=null)},Te=()=>{const t=["First Name,Last Name,Company,Email,Phone,City,State,Source,Status,Owner,Last Contacted",...(n.value.length>0?R.value.filter(f=>n.value.includes(f.id)):R.value).map(f=>`"${f.firstName}","${f.lastName}","${f.company}","${f.email}","${f.phone}","${f.city}","${f.state}","${f.source}","${f.status}","${f.owner}","${f.lastContacted}"`)].join(`
`),V=new Blob([t],{type:"text/csv"}),S=window.URL.createObjectURL(V),$=document.createElement("a");$.href=S,$.download=`leads_${n.value.length>0?"selected":"all"}_${new Date().toISOString().split("T")[0]}.csv`,$.click(),window.URL.revokeObjectURL(S)},Re=Ge(),Pe=()=>{Re.push({name:"franchisor-add-lead"})};return We(async()=>{await Promise.all([D(),_e(),ye()])}),ve([k,p,x,u],()=>{g.value=1,D()}),(s,t)=>{const V=je,S=Fe,$=Qe("RouterLink"),f=Be;return E(),de("section",null,[d("div",pl,[e(me,null,{default:l(()=>[(E(!0),de(Je,null,He(o(re),(a,B)=>(E(),K(Y,{key:B,cols:"12",md:"4",sm:"6"},{default:l(()=>[e(M,null,{default:l(()=>[e(A,null,{default:l(()=>[d("div",fl,[d("div",vl,[d("div",gl,v(a.title),1),d("div",_l,[d("h4",bl,v(a.value),1),d("div",{class:Ke(["text-base",a.change>0?"text-success":"text-error"])}," ("+v(o(tl)(a.change))+"%) ",3)])]),e(ce,{color:a.iconColor,variant:"tonal",rounded:"",size:"42"},{default:l(()=>[e(U,{icon:a.icon,size:"26"},null,8,["icon"])]),_:2},1032,["color"])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),e(M,{class:"mb-6"},{default:l(()=>[e(z,{class:"pb-4"},{default:l(()=>[e(q,null,{default:l(()=>t[19]||(t[19]=[i("Filters")])),_:1,__:[19]})]),_:1}),e(A,null,{default:l(()=>[e(me,null,{default:l(()=>[e(Y,{cols:"12",sm:"4"},{default:l(()=>[e(V,{modelValue:o(x),"onUpdate:modelValue":t[0]||(t[0]=a=>_(x)?x.value=a:null),placeholder:"Select Source",items:be,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),e(Y,{cols:"12",sm:"4"},{default:l(()=>[e(V,{modelValue:o(p),"onUpdate:modelValue":t[1]||(t[1]=a=>_(p)?p.value=a:null),placeholder:"Select Status",items:Ve,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),e(Y,{cols:"12",sm:"4"},{default:l(()=>[e(V,{modelValue:o(u),"onUpdate:modelValue":t[2]||(t[2]=a=>_(u)?u.value=a:null),placeholder:"Select Owner",items:o(Ce),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),e(pe),e(A,{class:"d-flex flex-wrap gap-4"},{default:l(()=>[d("div",Vl,[e(V,{"model-value":o(m),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"6.25rem"},"onUpdate:modelValue":t[3]||(t[3]=a=>m.value=parseInt(a,10))},null,8,["model-value"]),o(n).length>0?(E(),K(C,{key:0,variant:"tonal",color:"error",onClick:s.bulkDelete},{default:l(()=>[e(U,{icon:"tabler-trash",class:"me-2"}),i(" Delete Selected ("+v(o(n).length)+") ",1)]),_:1},8,["onClick"])):Xe("",!0)]),e(ne),d("div",yl,[d("div",Cl,[e(S,{modelValue:o(k),"onUpdate:modelValue":t[4]||(t[4]=a=>_(k)?k.value=a:null),placeholder:"Search Lead"},null,8,["modelValue"])]),e(C,{variant:"tonal",color:"secondary","prepend-icon":"tabler-file-import",onClick:t[5]||(t[5]=a=>P.value=!0)},{default:l(()=>t[20]||(t[20]=[i(" Import ")])),_:1,__:[20]}),e(C,{variant:"tonal",color:"secondary","prepend-icon":"tabler-upload",onClick:Te},{default:l(()=>[i(" Export "+v(o(n).length>0?`(${o(n).length})`:"All"),1)]),_:1}),e(C,{"prepend-icon":"tabler-plus",onClick:Pe},{default:l(()=>t[21]||(t[21]=[i(" Add Lead ")])),_:1,__:[21]})])]),_:1}),e(pe),e(Oe,{"items-per-page":o(m),"onUpdate:itemsPerPage":t[7]||(t[7]=a=>_(m)?m.value=a:null),"model-value":o(n),"onUpdate:modelValue":t[8]||(t[8]=a=>_(n)?n.value=a:null),page:o(g),"onUpdate:page":t[9]||(t[9]=a=>_(g)?g.value=a:null),items:o(R),"item-value":"id","items-length":o(ie),headers:y,loading:o(c),class:"text-no-wrap","show-select":"","onUpdate:options":b},{"item.index":l(({index:a})=>[d("div",xl,v((o(g)-1)*o(m)+a+1),1)]),"item.name":l(({item:a})=>[d("div",Ll,[e(ce,{size:"34",variant:"tonal",color:"primary"},{default:l(()=>[d("span",null,v(o(al)(`${a.firstName} ${a.lastName}`)),1)]),_:2},1024),d("div",wl,[d("h6",kl,[e($,{to:{name:"franchisor-leads-id",params:{id:a.id}},class:"text-link"},{default:l(()=>[i(v(a.firstName)+" "+v(a.lastName),1)]),_:2},1032,["to"])])])])]),"item.company":l(({item:a})=>[d("div",Sl,v(a.company),1)]),"item.email":l(({item:a})=>[d("div",Al,v(a.email),1)]),"item.phone":l(({item:a})=>[d("div",$l,v(a.phone),1)]),"item.location":l(({item:a})=>[d("div",hl,v(a.city)+", "+v(a.state),1)]),"item.source":l(({item:a})=>[e(fe,{size:"small",color:"primary",variant:"tonal"},{default:l(()=>[i(v(a.source),1)]),_:2},1024)]),"item.status":l(({item:a})=>[e(fe,{size:"small",color:xe(a.status),variant:"tonal"},{default:l(()=>[i(v(a.status),1)]),_:2},1032,["color"])]),"item.owner":l(({item:a})=>[d("div",Dl,v(a.owner),1)]),"item.lastContacted":l(({item:a})=>[d("div",Ul,v(a.lastContacted),1)]),"item.actions":l(({item:a})=>[e(C,{icon:"",variant:"text",color:"medium-emphasis"},{default:l(()=>[e(U,{icon:"tabler-dots-vertical"}),e(ol,{activator:"parent"},{default:l(()=>[e(Ze,null,{default:l(()=>[e(F,{onClick:B=>Le(a.id)},{prepend:l(()=>[e(U,{icon:"tabler-user-plus"})]),default:l(()=>[e(j,null,{default:l(()=>t[22]||(t[22]=[i("Assign Lead")])),_:1,__:[22]})]),_:2},1032,["onClick"]),e(F,{onClick:B=>we(a.id)},{prepend:l(()=>[e(U,{icon:"tabler-check"})]),default:l(()=>[e(j,null,{default:l(()=>t[23]||(t[23]=[i("Convert Lead")])),_:1,__:[23]})]),_:2},1032,["onClick"]),e(F,{onClick:B=>ke(a.id)},{prepend:l(()=>[e(U,{icon:"tabler-x"})]),default:l(()=>[e(j,null,{default:l(()=>t[24]||(t[24]=[i("Mark as Lost")])),_:1,__:[24]})]),_:2},1032,["onClick"]),e(F,{onClick:B=>Se(a.id)},{prepend:l(()=>[e(U,{icon:"tabler-note"})]),default:l(()=>[e(j,null,{default:l(()=>t[25]||(t[25]=[i("Add Note")])),_:1,__:[25]})]),_:2},1032,["onClick"]),e(F,{onClick:B=>Ae(a.id)},{prepend:l(()=>[e(U,{icon:"tabler-trash"})]),default:l(()=>[e(j,null,{default:l(()=>t[26]||(t[26]=[i("Delete")])),_:1,__:[26]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:l(()=>[e(f,{page:o(g),"onUpdate:page":t[6]||(t[6]=a=>_(g)?g.value=a:null),"items-per-page":o(m),"total-items":o(ie)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","model-value","page","items","items-length","loading"])]),_:1}),e(X,{modelValue:o(P),"onUpdate:modelValue":t[12]||(t[12]=a=>_(P)?P.value=a:null),"max-width":"600"},{default:l(()=>[e(M,null,{default:l(()=>[e(z,null,{default:l(()=>[e(q,null,{default:l(()=>t[27]||(t[27]=[i("Import Leads from CSV")])),_:1,__:[27]})]),_:1}),e(A,null,{default:l(()=>[d("div",Il,[e(C,{variant:"tonal",color:"secondary",size:"small","prepend-icon":"tabler-download",onClick:Ee},{default:l(()=>t[28]||(t[28]=[i(" Download Example CSV ")])),_:1,__:[28]})]),e(sl,{modelValue:o(N),"onUpdate:modelValue":t[10]||(t[10]=a=>_(N)?N.value=a:null),label:"Select CSV File",accept:".csv","prepend-icon":"tabler-file-upload","show-size":"",onChange:Ne},null,8,["modelValue"])]),_:1}),e(ue,null,{default:l(()=>[e(ne),e(C,{color:"secondary",variant:"tonal",onClick:t[11]||(t[11]=a=>P.value=!1)},{default:l(()=>t[29]||(t[29]=[i(" Cancel ")])),_:1,__:[29]}),e(C,{color:"primary",onClick:Me},{default:l(()=>t[30]||(t[30]=[i(" Import ")])),_:1,__:[30]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(X,{modelValue:o(O),"onUpdate:modelValue":t[14]||(t[14]=a=>_(O)?O.value=a:null),"max-width":"500"},{default:l(()=>[e(M,null,{default:l(()=>[e(z,null,{default:l(()=>[e(q,null,{default:l(()=>t[31]||(t[31]=[i("Confirm Delete")])),_:1,__:[31]})]),_:1}),e(A,null,{default:l(()=>t[32]||(t[32]=[i(" Are you sure you want to delete this lead? This action cannot be undone. ")])),_:1,__:[32]}),e(ue,null,{default:l(()=>[e(ne),e(C,{color:"secondary",variant:"tonal",onClick:t[13]||(t[13]=a=>O.value=!1)},{default:l(()=>t[33]||(t[33]=[i(" Cancel ")])),_:1,__:[33]}),e(C,{color:"error",onClick:$e},{default:l(()=>t[34]||(t[34]=[i(" Delete ")])),_:1,__:[34]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(nl,{"is-dialog-visible":o(Q),"onUpdate:isDialogVisible":t[15]||(t[15]=a=>_(Q)?Q.value=a:null),"lead-id":o(le)||0,"sales-associates":o(oe),onLeadAssigned:he},null,8,["is-dialog-visible","lead-id","sales-associates"]),e(dl,{"is-dialog-visible":o(J),"onUpdate:isDialogVisible":t[16]||(t[16]=a=>_(J)?J.value=a:null),"lead-id":o(te)||0,onLeadConverted:De},null,8,["is-dialog-visible","lead-id"]),e(cl,{"is-dialog-visible":o(H),"onUpdate:isDialogVisible":t[17]||(t[17]=a=>_(H)?H.value=a:null),"lead-id":o(ae)||0,onLeadMarkedLost:Ue},null,8,["is-dialog-visible","lead-id"]),e(ll,{"is-dialog-visible":o(W),"onUpdate:isDialogVisible":t[18]||(t[18]=a=>_(W)?W.value=a:null),"lead-id":o(ee)||0,onNoteAdded:Ie},null,8,["is-dialog-visible","lead-id"])])}}});export{xt as default};
