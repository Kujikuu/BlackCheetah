import{cy as o,cz as c,b2 as n}from"./main-gemCwVks.js";const i=()=>{var t;const e="/api";return e.trim()===""?"/api":typeof window<"u"&&((t=window.location)==null?void 0:t.protocol)==="https:"&&e.startsWith("http://")?e.replace(/^http:\/\//,"https://"):e},h=o({baseUrl:i(),fetchOptions:{headers:{Accept:"application/json"}},options:{refetch:!0,async beforeFetch({options:e}){const t=n("accessToken").value;return t&&(e.headers={...e.headers,Authorization:`Bearer ${t}`}),{options:e}},afterFetch(e){const{data:t,response:a}=e;let r=null;try{r=c(t)}catch(s){console.error(s)}return{data:r,response:a}}}});export{h as u};
