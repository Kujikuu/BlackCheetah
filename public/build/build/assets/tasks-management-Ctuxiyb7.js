import{u as Ee,_ as Ne,T as Fe,a as Oe,P as Pe,S as $e}from"./CreateTaskModal.vue_vue_type_script_setup_true_lang-MfD7aAFJ.js";import{d as Le,r as g,P as b,w as _e,G as qe,c as P,b as t,f as a,au as I,m as l,aO as $,j as Me,o as x,e as o,a3 as D,t as u,aa as f,g as w,l as B,v as m,a$ as be,F as ye}from"./main-DWvNZBrn.js";import{V as L,a as c}from"./VRow-DHZpC2G_.js";import{a as Re,V as ge}from"./VTabs-BkhtUFBH.js";import{a as Be,V as xe}from"./VWindowItem-Bd9WiS1z.js";import{V as Q}from"./VDialog-CAk6kYZi.js";import{V as Ve}from"./VAlert-DkP4tiR6.js";import{V,a as X,b as q,c as Te,d as Z}from"./VCard-BRrHEmo0.js";import{V as T}from"./VCardText-CYct27oJ.js";import{V as C}from"./VAvatar-BF957B0g.js";import{V as A}from"./VDivider-zd98jbKy.js";import{q as ke}from"./VDataTable-DPzeyqZA.js";import{V as De}from"./VMenu-B8htNi0n.js";import{V as we,a as U,b as H}from"./VList-BI-6-ue7.js";import{V as E}from"./VChip-HJm3k2du.js";import{V as ee}from"./VSpacer-CR5exMSt.js";import{V as M}from"./VTextField-BNKDrFXd.js";import{V as je}from"./VTextarea-Dd1Z3Bm2.js";import{V as j}from"./VSelect-Chb4OroE.js";import"./VForm-DAJfMT5j.js";import"./form-tczHMY3v.js";import"./forwardRefs-C-GTDzx5.js";/* empty css              */import"./easing-Bybner-F.js";import"./VSlideGroup-BSWxDDfs.js";import"./scopeId-HdLjUcVL.js";import"./lazy-6xXLFjDI.js";import"./ssrBoot-CPO92_z_.js";import"./VImg-g4h63Uey.js";import"./VOverlay-C5oQOIIo.js";import"./dialog-transition-QH9NzXuH.js";import"./VPagination-DJWbeBTo.js";import"./VCheckboxBtn-BASNK5CT.js";import"./VSelectionControl-BQfaGVgy.js";import"./VTable-C2Gn40nP.js";import"./filter-CyJxu-d7.js";/* empty css                   */import"./VCounter-Bl262PHw.js";import"./VField-CIhBnyVR.js";import"./VInput-CUQxW0lR.js";const Ge={class:"d-flex align-center justify-space-between"},Ke={key:1,class:"text-center py-12"},We={class:"ms-4"},Ye={class:"text-h4"},Je={class:"ms-4"},Qe={class:"text-h4"},Xe={class:"ms-4"},Ze={class:"text-h4"},et={class:"ms-4"},tt={class:"text-h4"},at={class:"text-base font-weight-medium"},st={class:"text-body-2 text-disabled"},lt={class:"text-body-1"},ot={class:"text-center"},it={key:1,class:"text-center py-12"},dt={class:"ms-4"},rt={class:"text-h4"},nt={class:"ms-4"},ut={class:"text-h4"},mt={class:"ms-4"},ct={class:"text-h4"},ft={class:"ms-4"},pt={class:"text-h4"},vt={class:"text-base font-weight-medium"},_t={class:"text-body-2 text-disabled"},bt={class:"text-body-1"},yt={class:"text-center"},gt={class:"text-h6 mb-2"},xt={class:"text-body-1 mb-4"},Vt={class:"text-body-1"},Tt={class:"text-body-1"},kt={class:"text-body-1"},Dt={class:"text-body-1"},ca=Le({__name:"tasks-management",setup(wt){Me();const{getUsersForSelect:Ce,initializeUsers:G,loading:he}=Ee(),p=g("franchisee"),N=g(!1),h=g(!1),S=g(!1),i=g(null),z=g(null),v=g([]),_=g([]),K=g(!1),W=g(!1),F=g(null),O=g(null),R=g(!1),Se=async()=>{var d,e;K.value=!0,F.value=null;try{const s=await $("/v1/franchisor/tasks");if(s.success&&((d=s.data)!=null&&d.data)){const n=s.data.data.filter(r=>{var y,k;return((y=r.assigned_to)==null?void 0:y.role)==="franchisee"||((k=r.assigned_to)==null?void 0:k.role)==="unit_manager"});v.value=n.map(r=>{var y,k;return{id:r.id,title:r.title,description:r.description,category:r.type||"other",assignedTo:((y=r.assigned_to)==null?void 0:y.name)||"Unassigned",unitName:((k=r.unit)==null?void 0:k.unit_name)||"N/A",startDate:r.started_at?new Date(r.started_at).toISOString().split("T")[0]:null,dueDate:r.due_date?new Date(r.due_date).toISOString().split("T")[0]:null,priority:r.priority||"medium",status:r.status||"pending",estimatedHours:r.estimated_hours||0,actualHours:r.actual_hours||0,createdAt:r.created_at,updatedAt:r.updated_at}})}else v.value=[]}catch(s){console.error("Failed to load franchisee tasks:",s),F.value=((e=s==null?void 0:s.data)==null?void 0:e.message)||"Failed to load franchisee tasks",v.value=[]}finally{K.value=!1}},ze=async()=>{var d,e;W.value=!0,O.value=null;try{const s=await $("/v1/franchisor/tasks");if(s.success&&((d=s.data)!=null&&d.data)){const n=s.data.data.filter(r=>{var k,fe,pe,ve;return["Marketing","Customer Service"].includes(r.type)||((k=r.assigned_to)==null?void 0:k.role)==="sales"||((fe=r.title)==null?void 0:fe.toLowerCase().includes("sales"))||((pe=r.title)==null?void 0:pe.toLowerCase().includes("lead"))||((ve=r.title)==null?void 0:ve.toLowerCase().includes("client"))});_.value=n.map(r=>{var y,k;return{id:r.id,title:r.title,description:r.description,category:r.type||"other",assignedTo:((y=r.assigned_to)==null?void 0:y.name)||"Unassigned",unitName:((k=r.unit)==null?void 0:k.unit_name)||"N/A",startDate:r.started_at?new Date(r.started_at).toISOString().split("T")[0]:null,dueDate:r.due_date?new Date(r.due_date).toISOString().split("T")[0]:null,priority:r.priority||"medium",status:r.status||"pending",estimatedHours:r.estimated_hours||0,actualHours:r.actual_hours||0,createdAt:r.created_at,updatedAt:r.updated_at}})}else _.value=[]}catch(s){console.error("Failed to load sales tasks:",s),O.value=((e=s==null?void 0:s.data)==null?void 0:e.message)||"Failed to load sales tasks",_.value=[]}finally{W.value=!1}},te=b(()=>v.value.length),ae=b(()=>v.value.filter(d=>d.status==="completed").length),se=b(()=>v.value.filter(d=>d.status==="in_progress").length),le=b(()=>{const d=new Date;return v.value.filter(e=>e.dueDate?new Date(e.dueDate)<=d&&e.status!=="completed":!1).length}),oe=b(()=>_.value.length),ie=b(()=>_.value.filter(d=>d.status==="completed").length),de=b(()=>_.value.filter(d=>d.status==="in_progress").length),re=b(()=>{const d=new Date;return _.value.filter(e=>e.dueDate?new Date(e.dueDate)<=d&&e.status!=="completed":!1).length});b(()=>p.value==="franchisee"?v.value:_.value),b(()=>p.value==="franchisee"?te.value:oe.value),b(()=>p.value==="franchisee"?ae.value:ie.value),b(()=>p.value==="franchisee"?se.value:de.value),b(()=>p.value==="franchisee"?le.value:re.value);const Ie=b(()=>Ce(p.value)),Y=d=>d==="completed"?"success":d==="in_progress"?"warning":d==="pending"?"info":"secondary",J=d=>d==="high"?"error":d==="medium"?"warning":d==="low"?"info":"secondary",Ae=async d=>{var e,s;try{const n=await $("/v1/franchisor/tasks",{method:"POST",body:{title:d.title,description:d.description,category:d.category,priority:d.priority,status:d.status||"pending",due_date:d.dueDate,estimated_hours:d.estimatedHours}});if(n.success){const r={id:n.data.id,title:n.data.title,description:n.data.description,category:n.data.type||"other",assignedTo:((e=n.data.assigned_to)==null?void 0:e.name)||"Unassigned",unitName:((s=n.data.unit)==null?void 0:s.unit_name)||"N/A",startDate:n.data.started_at?new Date(n.data.started_at).toISOString().split("T")[0]:null,dueDate:n.data.due_date?new Date(n.data.due_date).toISOString().split("T")[0]:null,priority:n.data.priority||"medium",status:n.data.status||"pending",estimatedHours:n.data.estimated_hours||0,actualHours:n.data.actual_hours||0,createdAt:n.data.created_at,updatedAt:n.data.updated_at};p.value==="franchisee"?v.value.unshift(r):_.value.unshift(r)}else console.error("Failed to create task:",n)}catch(n){console.error("Error creating task:",n)}},ne=[...Fe],ue=d=>{i.value=d,N.value=!0},me=d=>{i.value={...d},h.value=!0},ce=d=>{z.value=d,S.value=!0},Ue=async()=>{if(z.value!==null){try{const d=await $(`/v1/franchisor/tasks/${z.value}`,{method:"DELETE"});if(d.success)if(p.value==="franchisee"){const e=v.value.findIndex(s=>s.id===z.value);e!==-1&&v.value.splice(e,1)}else{const e=_.value.findIndex(s=>s.id===z.value);e!==-1&&_.value.splice(e,1)}else console.error("Failed to delete task:",d)}catch(d){console.error("Error deleting task:",d)}S.value=!1,z.value=null}},He=async()=>{var d,e;if(i.value){try{const s=await $(`/v1/franchisor/tasks/${i.value.id}`,{method:"PUT",body:{title:i.value.title,description:i.value.description,category:i.value.category,priority:i.value.priority,status:i.value.status,due_date:i.value.dueDate,estimated_hours:i.value.estimatedHours,actual_hours:i.value.actualHours}});if(s.success){const n={id:s.data.id,title:s.data.title,description:s.data.description,category:s.data.type||"other",assignedTo:((d=s.data.assigned_to)==null?void 0:d.name)||i.value.assignedTo,unitName:((e=s.data.unit)==null?void 0:e.unit_name)||i.value.unitName,startDate:s.data.started_at?new Date(s.data.started_at).toISOString().split("T")[0]:i.value.startDate,dueDate:s.data.due_date?new Date(s.data.due_date).toISOString().split("T")[0]:i.value.dueDate,priority:s.data.priority||i.value.priority,status:s.data.status||i.value.status,estimatedHours:s.data.estimated_hours||i.value.estimatedHours,actualHours:s.data.actual_hours||i.value.actualHours,createdAt:s.data.created_at,updatedAt:s.data.updated_at};if(p.value==="franchisee"){const r=v.value.findIndex(y=>y.id===i.value.id);r!==-1&&(v.value[r]=n)}else{const r=_.value.findIndex(y=>y.id===i.value.id);r!==-1&&(_.value[r]=n)}}else console.error("Failed to update task:",s)}catch(s){console.error("Error updating task:",s)}h.value=!1,i.value=null}};return _e(p,async d=>{await G(d)}),_e(h,async d=>{d&&await G(p.value)}),qe(async()=>{Se(),ze(),await G(p.value)}),(d,e)=>(x(),P("section",null,[t(L,{class:"mb-6"},{default:a(()=>[t(c,{cols:"12"},{default:a(()=>[o("div",Ge,[e[23]||(e[23]=o("div",null,[o("h2",{class:"text-h2 mb-1"}," Tasks Management "),o("p",{class:"text-body-1 text-medium-emphasis"}," Manage and track tasks across franchisees and sales teams ")],-1)),t(D,{color:"primary","prepend-icon":"tabler-plus",onClick:e[0]||(e[0]=s=>R.value=!0)},{default:a(()=>e[22]||(e[22]=[u(" Create Task ")])),_:1,__:[22]})])]),_:1})]),_:1}),t(Re,{modelValue:l(p),"onUpdate:modelValue":e[1]||(e[1]=s=>I(p)?p.value=s:null),class:"mb-6"},{default:a(()=>[t(ge,{value:"franchisee"},{default:a(()=>[t(f,{icon:"tabler-building-store",start:""}),e[24]||(e[24]=u(" Franchisee Tasks "))]),_:1,__:[24]}),t(ge,{value:"sales"},{default:a(()=>[t(f,{icon:"tabler-user-star",start:""}),e[25]||(e[25]=u(" Sales Tasks "))]),_:1,__:[25]})]),_:1},8,["modelValue"]),t(Be,{modelValue:l(p),"onUpdate:modelValue":e[4]||(e[4]=s=>I(p)?p.value=s:null),class:"disable-tab-transition"},{default:a(()=>[t(xe,{value:"franchisee"},{default:a(()=>[l(F)?(x(),w(Ve,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[2]||(e[2]=s=>F.value=null)},{default:a(()=>[u(m(l(F)),1)]),_:1})):B("",!0),l(K)?(x(),P("div",Ke,[t(be,{indeterminate:"",size:"64",class:"mb-4"}),e[26]||(e[26]=o("h3",{class:"text-h3 mb-2"}," Loading Franchisee Tasks... ",-1)),e[27]||(e[27]=o("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the task information. ",-1))])):(x(),P(ye,{key:2},[t(L,{class:"mb-6"},{default:a(()=>[t(c,{cols:"12",md:"3"},{default:a(()=>[t(V,null,{default:a(()=>[t(T,{class:"d-flex align-center"},{default:a(()=>[t(C,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:a(()=>[t(f,{icon:"tabler-checklist",size:"26"})]),_:1}),o("div",We,[e[28]||(e[28]=o("div",{class:"text-body-2 text-disabled"}," Total Tasks ",-1)),o("h4",Ye,m(l(te)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:a(()=>[t(V,null,{default:a(()=>[t(T,{class:"d-flex align-center"},{default:a(()=>[t(C,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:a(()=>[t(f,{icon:"tabler-check",size:"26"})]),_:1}),o("div",Je,[e[29]||(e[29]=o("div",{class:"text-body-2 text-disabled"}," Completed ",-1)),o("h4",Qe,m(l(ae)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:a(()=>[t(V,null,{default:a(()=>[t(T,{class:"d-flex align-center"},{default:a(()=>[t(C,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:a(()=>[t(f,{icon:"tabler-clock",size:"26"})]),_:1}),o("div",Xe,[e[30]||(e[30]=o("div",{class:"text-body-2 text-disabled"}," In Progress ",-1)),o("h4",Ze,m(l(se)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:a(()=>[t(V,null,{default:a(()=>[t(T,{class:"d-flex align-center"},{default:a(()=>[t(C,{size:"44",rounded:"",color:"error",variant:"tonal"},{default:a(()=>[t(f,{icon:"tabler-alert-circle",size:"26"})]),_:1}),o("div",et,[e[31]||(e[31]=o("div",{class:"text-body-2 text-disabled"}," Due ",-1)),o("h4",tt,m(l(le)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(V,null,{default:a(()=>[t(X,{class:"pb-4"},{default:a(()=>[t(q,null,{default:a(()=>e[32]||(e[32]=[u("Franchisee Tasks")])),_:1,__:[32]}),t(Te,{class:"text-body-2 text-disabled"},{default:a(()=>e[33]||(e[33]=[u(" View and manage tasks assigned to your franchisees ")])),_:1,__:[33]})]),_:1}),t(A),l(v).length>0?(x(),w(ke,{key:0,items:l(v),headers:ne,class:"text-no-wrap","item-value":"id"},{"item.taskInfo":a(({item:s})=>[o("div",null,[o("h6",at,m(s.title),1),o("div",st,m(s.description),1)])]),"item.unitName":a(({item:s})=>[o("div",lt,m(s.unitName),1)]),"item.priority":a(({item:s})=>[t(E,{color:J(s.priority),size:"small",label:"",class:"text-capitalize"},{default:a(()=>[u(m(s.priority),1)]),_:2},1032,["color"])]),"item.status":a(({item:s})=>[t(E,{color:Y(s.status),size:"small",label:"",class:"text-capitalize"},{default:a(()=>[u(m(s.status),1)]),_:2},1032,["color"])]),"item.actions":a(({item:s})=>[t(D,{icon:"",variant:"text",color:"medium-emphasis",size:"small"},{default:a(()=>[t(f,{icon:"tabler-dots-vertical"}),t(De,{activator:"parent"},{default:a(()=>[t(we,null,{default:a(()=>[t(U,{onClick:n=>ue(s)},{prepend:a(()=>[t(f,{icon:"tabler-eye"})]),default:a(()=>[t(H,null,{default:a(()=>e[34]||(e[34]=[u("View")])),_:1,__:[34]})]),_:2},1032,["onClick"]),t(U,{onClick:n=>me(s)},{prepend:a(()=>[t(f,{icon:"tabler-edit"})]),default:a(()=>[t(H,null,{default:a(()=>e[35]||(e[35]=[u("Edit")])),_:1,__:[35]})]),_:2},1032,["onClick"]),t(U,{onClick:n=>ce(s.id)},{prepend:a(()=>[t(f,{icon:"tabler-trash"})]),default:a(()=>[t(H,null,{default:a(()=>e[36]||(e[36]=[u("Delete")])),_:1,__:[36]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["items"])):(x(),w(T,{key:1,class:"py-8"},{default:a(()=>[o("div",ot,[t(f,{icon:"tabler-checklist",size:"64",class:"text-disabled mb-4"}),e[37]||(e[37]=o("h4",{class:"text-h4 mb-2"}," No Franchisee Tasks Found ",-1)),e[38]||(e[38]=o("p",{class:"text-body-1 text-medium-emphasis"}," There are no tasks assigned to franchisees yet. Create tasks to manage operations across your franchise network. ",-1))])]),_:1}))]),_:1})],64))]),_:1}),t(xe,{value:"sales"},{default:a(()=>[l(O)?(x(),w(Ve,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[3]||(e[3]=s=>O.value=null)},{default:a(()=>[u(m(l(O)),1)]),_:1})):B("",!0),l(W)?(x(),P("div",it,[t(be,{indeterminate:"",size:"64",class:"mb-4"}),e[39]||(e[39]=o("h3",{class:"text-h3 mb-2"}," Loading Sales Tasks... ",-1)),e[40]||(e[40]=o("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the sales team task information. ",-1))])):(x(),P(ye,{key:2},[t(L,{class:"mb-6"},{default:a(()=>[t(c,{cols:"12",md:"3"},{default:a(()=>[t(V,null,{default:a(()=>[t(T,{class:"d-flex align-center"},{default:a(()=>[t(C,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:a(()=>[t(f,{icon:"tabler-checklist",size:"26"})]),_:1}),o("div",dt,[e[41]||(e[41]=o("div",{class:"text-body-2 text-disabled"}," Total Tasks ",-1)),o("h4",rt,m(l(oe)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:a(()=>[t(V,null,{default:a(()=>[t(T,{class:"d-flex align-center"},{default:a(()=>[t(C,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:a(()=>[t(f,{icon:"tabler-check",size:"26"})]),_:1}),o("div",nt,[e[42]||(e[42]=o("div",{class:"text-body-2 text-disabled"}," Completed ",-1)),o("h4",ut,m(l(ie)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:a(()=>[t(V,null,{default:a(()=>[t(T,{class:"d-flex align-center"},{default:a(()=>[t(C,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:a(()=>[t(f,{icon:"tabler-clock",size:"26"})]),_:1}),o("div",mt,[e[43]||(e[43]=o("div",{class:"text-body-2 text-disabled"}," In Progress ",-1)),o("h4",ct,m(l(de)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:a(()=>[t(V,null,{default:a(()=>[t(T,{class:"d-flex align-center"},{default:a(()=>[t(C,{size:"44",rounded:"",color:"error",variant:"tonal"},{default:a(()=>[t(f,{icon:"tabler-alert-circle",size:"26"})]),_:1}),o("div",ft,[e[44]||(e[44]=o("div",{class:"text-body-2 text-disabled"}," Due ",-1)),o("h4",pt,m(l(re)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(V,null,{default:a(()=>[t(X,{class:"pb-4"},{default:a(()=>[t(q,null,{default:a(()=>e[45]||(e[45]=[u("Sales Team Tasks")])),_:1,__:[45]}),t(Te,{class:"text-body-2 text-disabled"},{default:a(()=>e[46]||(e[46]=[u(" View and manage tasks assigned to your sales team ")])),_:1,__:[46]})]),_:1}),t(A),l(_).length>0?(x(),w(ke,{key:0,items:l(_),headers:ne,class:"text-no-wrap","item-value":"id"},{"item.taskInfo":a(({item:s})=>[o("div",null,[o("h6",vt,m(s.title),1),o("div",_t,m(s.description),1)])]),"item.unitName":a(({item:s})=>[o("div",bt,m(s.unitName),1)]),"item.priority":a(({item:s})=>[t(E,{color:J(s.priority),size:"small",label:"",class:"text-capitalize"},{default:a(()=>[u(m(s.priority),1)]),_:2},1032,["color"])]),"item.status":a(({item:s})=>[t(E,{color:Y(s.status),size:"small",label:"",class:"text-capitalize"},{default:a(()=>[u(m(s.status),1)]),_:2},1032,["color"])]),"item.actions":a(({item:s})=>[t(D,{icon:"",variant:"text",color:"medium-emphasis",size:"small"},{default:a(()=>[t(f,{icon:"tabler-dots-vertical"}),t(De,{activator:"parent"},{default:a(()=>[t(we,null,{default:a(()=>[t(U,{onClick:n=>ue(s)},{prepend:a(()=>[t(f,{icon:"tabler-eye"})]),default:a(()=>[t(H,null,{default:a(()=>e[47]||(e[47]=[u("View")])),_:1,__:[47]})]),_:2},1032,["onClick"]),t(U,{onClick:n=>me(s)},{prepend:a(()=>[t(f,{icon:"tabler-edit"})]),default:a(()=>[t(H,null,{default:a(()=>e[48]||(e[48]=[u("Edit")])),_:1,__:[48]})]),_:2},1032,["onClick"]),t(U,{onClick:n=>ce(s.id)},{prepend:a(()=>[t(f,{icon:"tabler-trash"})]),default:a(()=>[t(H,null,{default:a(()=>e[49]||(e[49]=[u("Delete")])),_:1,__:[49]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["items"])):(x(),w(T,{key:1,class:"py-8"},{default:a(()=>[o("div",yt,[t(f,{icon:"tabler-user-star",size:"64",class:"text-disabled mb-4"}),e[50]||(e[50]=o("h4",{class:"text-h4 mb-2"}," No Sales Tasks Found ",-1)),e[51]||(e[51]=o("p",{class:"text-body-1 text-medium-emphasis"}," There are no tasks assigned to the sales team yet. Create tasks to track sales activities and goals. ",-1))])]),_:1}))]),_:1})],64))]),_:1})]),_:1},8,["modelValue"]),t(Ne,{"is-dialog-visible":l(R),"onUpdate:isDialogVisible":e[5]||(e[5]=s=>I(R)?R.value=s:null),"current-tab":l(p),onTaskCreated:Ae},null,8,["is-dialog-visible","current-tab"]),t(Q,{modelValue:l(N),"onUpdate:modelValue":e[7]||(e[7]=s=>I(N)?N.value=s:null),"max-width":"600"},{default:a(()=>[t(V,null,{default:a(()=>[t(q,{class:"text-h5 pa-6 pb-4"},{default:a(()=>e[52]||(e[52]=[u(" Task Details ")])),_:1,__:[52]}),t(A),l(i)?(x(),w(T,{key:0,class:"pa-6"},{default:a(()=>[t(L,null,{default:a(()=>[t(c,{cols:"12"},{default:a(()=>[o("h6",gt,m(l(i).title),1),o("p",xt,m(l(i).description),1)]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[e[53]||(e[53]=o("div",{class:"text-body-2 text-disabled mb-1"}," Category ",-1)),o("div",Vt,m(l(i).category),1)]),_:1,__:[53]}),t(c,{cols:"12",md:"6"},{default:a(()=>[e[54]||(e[54]=o("div",{class:"text-body-2 text-disabled mb-1"}," Assigned To ",-1)),o("div",Tt,m(l(i).assignedTo),1)]),_:1,__:[54]}),t(c,{cols:"12",md:"6"},{default:a(()=>[e[55]||(e[55]=o("div",{class:"text-body-2 text-disabled mb-1"}," Start Date ",-1)),o("div",kt,m(l(i).startDate),1)]),_:1,__:[55]}),t(c,{cols:"12",md:"6"},{default:a(()=>[e[56]||(e[56]=o("div",{class:"text-body-2 text-disabled mb-1"}," Due Date ",-1)),o("div",Dt,m(l(i).dueDate),1)]),_:1,__:[56]}),t(c,{cols:"12",md:"6"},{default:a(()=>[e[57]||(e[57]=o("div",{class:"text-body-2 text-disabled mb-1"}," Priority ",-1)),t(E,{color:J(l(i).priority),size:"small",label:"",class:"text-capitalize"},{default:a(()=>[u(m(l(i).priority),1)]),_:1},8,["color"])]),_:1,__:[57]}),t(c,{cols:"12",md:"6"},{default:a(()=>[e[58]||(e[58]=o("div",{class:"text-body-2 text-disabled mb-1"}," Status ",-1)),t(E,{color:Y(l(i).status),size:"small",label:"",class:"text-capitalize"},{default:a(()=>[u(m(l(i).status),1)]),_:1},8,["color"])]),_:1,__:[58]})]),_:1})]),_:1})):B("",!0),t(A),t(Z,{class:"pa-6"},{default:a(()=>[t(ee),t(D,{color:"secondary",variant:"tonal",onClick:e[6]||(e[6]=s=>N.value=!1)},{default:a(()=>e[59]||(e[59]=[u(" Close ")])),_:1,__:[59]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Q,{modelValue:l(h),"onUpdate:modelValue":e[19]||(e[19]=s=>I(h)?h.value=s:null),"max-width":"600",persistent:""},{default:a(()=>[t(V,null,{default:a(()=>[t(q,{class:"text-h5 pa-6 pb-4"},{default:a(()=>e[60]||(e[60]=[u(" Edit Task ")])),_:1,__:[60]}),t(A),l(i)?(x(),w(T,{key:0,class:"pa-6"},{default:a(()=>[t(L,null,{default:a(()=>[t(c,{cols:"12"},{default:a(()=>[t(M,{modelValue:l(i).title,"onUpdate:modelValue":e[8]||(e[8]=s=>l(i).title=s),label:"Task Title",placeholder:"Enter task title",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12"},{default:a(()=>[t(je,{modelValue:l(i).description,"onUpdate:modelValue":e[9]||(e[9]=s=>l(i).description=s),label:"Description",placeholder:"Enter task description",rows:"3",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(j,{modelValue:l(i).category,"onUpdate:modelValue":e[10]||(e[10]=s=>l(i).category=s),label:"Category",placeholder:"Select category",items:l(Oe),required:""},null,8,["modelValue","items"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(j,{modelValue:l(i).assignedTo,"onUpdate:modelValue":e[11]||(e[11]=s=>l(i).assignedTo=s),label:"Assigned To",placeholder:"Select user",items:l(Ie),loading:l(he),"item-title":"title","item-value":"value",required:""},null,8,["modelValue","items","loading"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(M,{modelValue:l(i).startDate,"onUpdate:modelValue":e[12]||(e[12]=s=>l(i).startDate=s),label:"Start Date",type:"date",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(M,{modelValue:l(i).dueDate,"onUpdate:modelValue":e[13]||(e[13]=s=>l(i).dueDate=s),label:"Due Date",type:"date",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(j,{modelValue:l(i).priority,"onUpdate:modelValue":e[14]||(e[14]=s=>l(i).priority=s),label:"Priority",items:l(Pe),required:""},null,8,["modelValue","items"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(j,{modelValue:l(i).status,"onUpdate:modelValue":e[15]||(e[15]=s=>l(i).status=s),label:"Status",items:l($e),required:""},null,8,["modelValue","items"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(M,{modelValue:l(i).estimatedHours,"onUpdate:modelValue":e[16]||(e[16]=s=>l(i).estimatedHours=s),label:"Estimated Hours",type:"number",min:"0"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(M,{modelValue:l(i).actualHours,"onUpdate:modelValue":e[17]||(e[17]=s=>l(i).actualHours=s),label:"Actual Hours",type:"number",min:"0"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})):B("",!0),t(A),t(Z,{class:"pa-6"},{default:a(()=>[t(ee),t(D,{color:"secondary",variant:"tonal",onClick:e[18]||(e[18]=s=>h.value=!1)},{default:a(()=>e[61]||(e[61]=[u(" Cancel ")])),_:1,__:[61]}),t(D,{color:"primary",onClick:He},{default:a(()=>e[62]||(e[62]=[u(" Save Changes ")])),_:1,__:[62]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Q,{modelValue:l(S),"onUpdate:modelValue":e[21]||(e[21]=s=>I(S)?S.value=s:null),"max-width":"500"},{default:a(()=>[t(V,null,{default:a(()=>[t(X,null,{default:a(()=>[t(q,null,{default:a(()=>e[63]||(e[63]=[u("Confirm Delete")])),_:1,__:[63]})]),_:1}),t(T,null,{default:a(()=>e[64]||(e[64]=[u(" Are you sure you want to delete this task? This action cannot be undone. ")])),_:1,__:[64]}),t(Z,null,{default:a(()=>[t(ee),t(D,{color:"secondary",variant:"tonal",onClick:e[20]||(e[20]=s=>S.value=!1)},{default:a(()=>e[65]||(e[65]=[u(" Cancel ")])),_:1,__:[65]}),t(D,{color:"error",onClick:Ue},{default:a(()=>e[66]||(e[66]=[u(" Delete ")])),_:1,__:[66]})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}});export{ca as default};
