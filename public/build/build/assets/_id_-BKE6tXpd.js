import{_ as it,a as dt}from"./DocumentActionModal.vue_vue_type_script_setup_true_lang-DrVIu7i1.js";import{_ as Ve}from"./CreateTaskModal.vue_vue_type_script_setup_true_lang-lQ-E9db7.js";import{d as nt,r as p,P as h,u as rt,w as De,c as P,m as o,b as t,e as a,a$ as B,aa as b,v as d,f as s,a3 as C,au as F,j as ut,o as m,t as u,g as x,l as S,F as Z,i as ct,aO as R}from"./main-BrAmouoN.js";import{V as N,a as c}from"./VRow-DyPI-5aI.js";import{a as mt,V as M}from"./VTabs-CYwdIkCt.js";import{a as ft,V as j}from"./VWindowItem--AZ97ki_.js";import{V as pe}from"./VDialog-D2qVGxKL.js";import{V as z}from"./VChip-CbwyjT0Z.js";import{V as v,a as q,b as A,c as ee,d as ie}from"./VCard-DApPZHvP.js";import{V as f}from"./VCardText-CsVBN6BO.js";import{V as te}from"./VAlert-DXCfrF2p.js";import{V as k}from"./VAvatar-DNG0Nmgh.js";import{V as I}from"./VDivider-Ch4oqZye.js";import{q as de}from"./VDataTable-TTEyCFHr.js";import{V as ne}from"./VSpacer-BZy6xYJS.js";import{V as vt}from"./VRating-DNFfLTQZ.js";import{V as se}from"./VTextField-BffrunyH.js";import{V as _t}from"./VTextarea-Bzl0g3zg.js";import{V as ze}from"./VSelect-ClEfwI_Z.js";import"./VForm-CY7eO4cM.js";import"./form-DFcoaDo4.js";import"./forwardRefs-C-GTDzx5.js";import"./VFileInput-B_XdRHG8.js";import"./VField-BbFAIRsh.js";import"./easing-Bybner-F.js";import"./VInput-hEwS4-6z.js";import"./VImg-BoI76u4Q.js";import"./VCounter-B_nFJ4I0.js";/* empty css              */import"./VSlideGroup-Bo31GoEE.js";import"./scopeId-CW1dFU5W.js";import"./lazy-BhQbIKcy.js";import"./ssrBoot-C2dwFu6i.js";import"./VOverlay-CBfywqly.js";import"./dialog-transition-D-Y8H8fK.js";import"./VPagination-Lazc7nEm.js";import"./VCheckboxBtn-0WdjC8uR.js";import"./VSelectionControl-GPFg-qJH.js";import"./VTable-D7z69QkW.js";import"./filter-DVfGvETD.js";/* empty css                   */import"./VList--MpM1GQQ.js";import"./VMenu-CMwE0TEA.js";const bt={key:0,class:"text-center py-12"},pt={key:1,class:"text-center py-12"},yt={class:"text-body-1 text-medium-emphasis mb-6"},xt={key:2},gt={class:"d-flex align-center justify-space-between"},ht={class:"d-flex align-center gap-3"},kt={class:"text-h2 mb-1"},wt={class:"text-body-1 text-medium-emphasis"},Vt={class:"mb-4"},Dt={class:"text-body-1 font-weight-medium"},zt={class:"mb-4"},Tt={class:"text-body-1"},Ct={class:"mb-4"},St={class:"text-body-1"},Nt=["href"],Pt={class:"mb-4"},Ut={class:"text-body-1"},$t={class:"mb-4"},Ft={class:"text-body-1"},It={class:"mb-4"},Rt={class:"text-body-1 font-weight-medium text-success"},At={class:"mb-4"},Et={class:"text-body-1"},Lt={class:"mb-4"},Bt={class:"text-body-1"},Mt={class:"text-center"},jt={class:"ms-4"},qt={class:"text-h4"},Ot={class:"ms-4"},Ht={class:"text-h4"},Gt={class:"ms-4"},Wt={class:"text-h4"},Jt={class:"ms-4"},Kt={class:"text-h4"},Qt={class:"text-base font-weight-medium"},Xt={class:"text-body-2 text-disabled"},Yt={class:"text-center"},Zt={class:"text-center"},es={class:"d-flex align-center mb-3"},ts={class:"text-h6"},ss={class:"text-body-2 text-disabled mb-0"},as={class:"text-body-2 mb-3"},ls={class:"d-flex align-center justify-space-between mb-3"},os={class:"text-body-2 text-disabled"},is={class:"d-flex align-center justify-space-between mb-3"},ds={class:"text-body-2 text-disabled"},ns={class:"text-center"},rs={class:"text-center"},us={class:"ms-4"},cs={class:"text-h4"},ms={class:"ms-4"},fs={class:"text-h4"},vs={class:"ms-4"},_s={class:"text-h4"},bs={class:"ms-4"},ps={class:"text-h4"},ys={class:"d-flex align-center"},xs={class:"text-body-1 font-weight-medium"},gs={class:"text-body-2 text-disabled"},hs={class:"text-center"},ks={class:"text-center"},ws={class:"ms-4"},Vs={class:"text-h4"},Ds={class:"ms-4"},zs={class:"text-h4"},Ts={class:"ms-4"},Cs={class:"text-h4"},Ss={class:"ms-4"},Ns={class:"text-h4"},Ps={class:"text-body-1 font-weight-medium"},Us={class:"text-center"},$s={class:"text-center"},Fs={class:"ms-4"},Is={class:"text-h4"},Rs={class:"ms-4"},As={class:"text-h4"},Es={class:"ms-4"},Ls={class:"text-h4"},Bs={class:"ms-4"},Ms={class:"text-h4"},js={class:"text-body-1 font-weight-medium"},qs={class:"text-body-2 text-disabled"},Os={key:0,class:"text-body-2 text-disabled"},Hs={class:"d-flex align-center"},Gs={class:"ms-2 text-body-2"},Ws={class:"max-width-200"},Js={class:"text-body-2 text-truncate mb-0"},Ks={class:"text-body-2"},Qs={class:"text-body-2 text-disabled"},Xs={class:"text-center"},Ys={class:"text-h6 mb-2"},Zs={class:"text-body-1 mb-4"},ea={class:"text-body-1"},ta={class:"text-body-1"},sa={class:"text-body-1"},aa={class:"text-body-1"},Ja=nt({__name:"[id]",setup(la){const Te=ut(),Ce=rt(),L=p("overview"),w=h(()=>Ce.params.id),y=p(null),re=p(!1),O=p(null),V=p([]),ue=p(!1),H=p(null),T=p([]),ae=p(!1),G=p(null),U=p([]),ce=p(!1),W=p(null),$=p([]),me=p(!1),J=p(null),D=p([]),fe=p(!1),K=p(null),E=p(!1),ve=p(!1),le=p(!1),ye=p(null),xe=p("approve"),oe=p(!1),Q=p(!1),X=p(!1),_=p(null),_e=p(null),Se=h(()=>V.value.length),Ne=h(()=>V.value.filter(i=>i.status==="completed").length),Pe=h(()=>V.value.filter(i=>i.status==="in_progress").length),Ue=h(()=>{const i=new Date;return V.value.filter(e=>new Date(e.dueDate)<=i&&e.status!=="completed").length}),$e=h(()=>U.value.length),Fe=h(()=>U.value.filter(i=>i.status==="working").length),Ie=h(()=>U.value.filter(i=>i.status==="leave").length),Re=h(()=>$.value.length),Ae=h(()=>$.value.reduce((i,e)=>i+e.stock,0)),Ee=h(()=>$.value.filter(i=>i.stock>0&&i.stock<=10).length),Le=h(()=>$.value.filter(i=>i.stock===0).length),Be=h(()=>D.value.length===0?"0.0":(D.value.reduce((e,r)=>e+r.rating,0)/D.value.length).toFixed(1));h(()=>D.value.filter(i=>i.sentiment==="positive").length),h(()=>D.value.filter(i=>i.sentiment==="negative").length);const Me=h(()=>D.value.length);h(()=>D.value.filter(i=>i.status==="published").length);const je=h(()=>D.value.filter(i=>i.status==="draft").length),qe=h(()=>D.value.filter(i=>i.verified_purchase).length),Oe=async()=>{var i,e,r,n;re.value=!0,O.value=null;try{const l=await R(`/v1/units/${w.value}`);l.success&&l.data?y.value={id:l.data.id,branchName:l.data.unit_name||"Unnamed Unit",franchiseeName:((i=l.data.franchisee)==null?void 0:i.name)||"Unassigned",email:((e=l.data.franchisee)==null?void 0:e.email)||"unassigned@example.com",contactNumber:((r=l.data.franchisee)==null?void 0:r.phone)||l.data.phone||"Not available",address:l.data.address||"Address not available",city:l.data.city||"Unknown",state:l.data.state_province||"Unknown",country:l.data.country||"Unknown",royaltyPercentage:8.5,contractStartDate:l.data.lease_start_date||"2024-01-01",renewalDate:l.data.lease_end_date||"2027-01-01",status:l.data.status||"inactive",type:l.data.unit_type||"other",sizeSqft:l.data.size_sqft||0,capacity:l.data.capacity||0,openingDate:l.data.opening_date||null,monthlyRent:l.data.monthly_rent||0}:O.value="Unit not found"}catch(l){console.error("Failed to load unit data:",l),O.value=((n=l==null?void 0:l.data)==null?void 0:n.message)||"Failed to load unit data",y.value=null}finally{re.value=!1}},He=async()=>{var i,e;if(w.value){ue.value=!0,H.value=null;try{const r=await R(`/v1/tasks?unit_id=${w.value}`);r.success&&((i=r.data)!=null&&i.data)?V.value=r.data.data.map(n=>{var l;return{id:n.id,title:n.title,description:n.description||"",category:n.type||"General",assignedTo:((l=n.assigned_to_user)==null?void 0:l.name)||"Unassigned",startDate:n.started_at?new Date(n.started_at).toISOString().split("T")[0]:null,dueDate:n.due_date||null,priority:n.priority||"medium",status:n.status||"pending",estimatedHours:n.estimated_hours||0,actualHours:n.actual_hours||0,completionNotes:n.completion_notes||"",attachments:n.attachments||[]}}):V.value=[]}catch(r){console.error("Failed to load tasks data:",r),H.value=((e=r==null?void 0:r.data)==null?void 0:e.message)||"Failed to load tasks data",V.value=[]}finally{ue.value=!1}}},Ge=async()=>{var i,e,r;if(!(!w.value||!y.value)){ae.value=!0,G.value=null;try{const n=(i=y.value.franchise)==null?void 0:i.id;if(!n){T.value=[],ae.value=!1;return}const l=await R(`/v1/franchises/${n}/documents`);l.success&&((e=l.data)!=null&&e.data)?T.value=l.data.data.map(g=>({id:g.id,title:g.name,description:g.description||"",fileName:g.file_name,fileSize:Qe(g.file_size||0),uploadDate:g.created_at?new Date(g.created_at).toISOString().split("T")[0]:"",type:g.type||"Document",status:g.status||"active",comment:"",filePath:g.file_path,franchiseId:g.franchise_id})):T.value=[]}catch(n){console.error("Failed to load documents data:",n),G.value=((r=n==null?void 0:n.data)==null?void 0:r.message)||"Failed to load documents data",T.value=[]}finally{ae.value=!1}}},We=async()=>{var i;if(w.value){me.value=!0,J.value=null;try{const e=await R(`/v1/units/${w.value}/inventory`);e.data?$.value=e.data.map(r=>({id:r.id,name:r.name,description:r.description||"",unitPrice:Number(r.unit_price)||0,category:r.category||"General",status:"active",stock:Number(r.quantity)||0,sku:"",minimumStock:Number(r.reorder_level)||0})):$.value=[]}catch(e){console.error("Failed to load products data:",e),J.value=((i=e==null?void 0:e.data)==null?void 0:i.message)||"Failed to load products data",$.value=[]}finally{me.value=!1}}},Je=async()=>{var i;if(w.value){ce.value=!0,W.value=null;try{const e=await R(`/v1/franchisor/units/${w.value}/staff`);e.success&&e.data?U.value=e.data.map(r=>({id:r.id,name:r.name,jobTitle:r.jobTitle,email:r.email,shiftTime:r.shiftTime,status:r.status,phone:r.phone||"",avatar:"",lastLogin:null})):U.value=[]}catch(e){console.error("Failed to load staff data:",e),W.value=((i=e==null?void 0:e.data)==null?void 0:i.message)||"Failed to load staff data",U.value=[]}finally{ce.value=!1}}},Ke=async()=>{var i,e;if(w.value){fe.value=!0,K.value=null;try{const r=await R(`/v1/reviews?unit_id=${w.value}`);r.success&&((i=r.data)!=null&&i.data)?D.value=r.data.data.map(n=>{var l;return{id:n.id,customerName:n.customer_name,customerEmail:n.customer_email||"",customerPhone:n.customer_phone||"",rating:n.rating,comment:n.comment||"",date:n.review_date?new Date(n.review_date).toISOString().split("T")[0]:"",sentiment:n.sentiment,status:n.status,source:n.review_source,verifiedPurchase:n.verified_purchase,internalNotes:n.internal_notes||"",franchiseeName:((l=n.franchisee)==null?void 0:l.name)||"Unknown",addedDate:n.created_at?new Date(n.created_at).toISOString().split("T")[0]:""}}):D.value=[]}catch(r){console.error("Failed to load reviews data:",r),K.value=((e=r==null?void 0:r.data)==null?void 0:e.message)||"Failed to load reviews data",D.value=[]}finally{fe.value=!1}}},Qe=i=>{if(i===0)return"0 Bytes";const e=1024,r=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(i)/Math.log(e));return`${Number.parseFloat((i/e**n).toFixed(2))} ${r[n]}`},ge=()=>{Te.push("/franchisor/my-units")},Y=i=>i==="active"||i==="completed"||i==="approved"?"success":i==="pending"||i==="in_progress"?"warning":i==="inactive"||i==="rejected"?"error":"secondary",he=i=>i==="high"?"error":i==="medium"?"warning":i==="low"?"info":"secondary",ke=(i,e)=>{ye.value=i,xe.value=e,le.value=!0},we=async i=>{var e;try{const r=((e=y.value)==null?void 0:e.franchiseeName)||i.assignedTo,n={title:i.title,description:i.description,category:i.category,priority:i.priority,status:i.status,unit_id:w.value,assigned_to:r,due_date:i.dueDate,estimated_hours:i.estimatedHours??0,actual_hours:i.actualHours??0},l=await R("/v1/tasks",{method:"POST",body:n});l.success?V.value.push(l.data):console.error("Failed to create task:",l.message)}catch(r){console.error("Error creating task:",r)}},Xe=i=>{T.value.push(i)},Ye=async i=>{var e,r;try{const n=((e=y.value.franchise)==null?void 0:e.id)||((r=T.value[0])==null?void 0:r.franchiseId);if(!n){console.error("Franchise ID not found for document approval");return}const l=i.action==="approve"?`/v1/franchises/${n}/documents/${i.document.id}/approve`:`/v1/franchises/${n}/documents/${i.document.id}/reject`,g=await R(l,{method:"PATCH",body:{comment:i.comment}});if(g.success){const be=T.value.findIndex(ot=>ot.id===i.document.id);be!==-1&&(T.value[be].status=i.action==="approve"?"approved":"rejected",T.value[be].comment=i.comment)}else console.error(`Failed to ${i.action} document:`,g)}catch(n){console.error(`Error ${i.action}ing document:`,n)}},Ze=()=>{if(_e.value===null)return;const i=V.value.findIndex(e=>e.id===_e.value);i!==-1&&V.value.splice(i,1),X.value=!1,_e.value=null},et=()=>{if(!_.value)return;const i=V.value.findIndex(e=>e.id===_.value.id);i!==-1&&(V.value[i]={..._.value}),Q.value=!1,_.value=null},tt=[{title:"Task Info",key:"taskInfo"},{title:"Category",key:"category"},{title:"Start Date",key:"startDate"},{title:"Due Date",key:"dueDate"},{title:"Priority",key:"priority"},{title:"Status",key:"status"}],st=[{title:"Name",key:"name"},{title:"Job Title",key:"jobTitle"},{title:"Email",key:"email"},{title:"Shift Time",key:"shiftTime"},{title:"Status",key:"status"}],at=[{title:"Product Name",key:"name"},{title:"Description",key:"description"},{title:"Category",key:"category"},{title:"Unit Price",key:"unitPrice"},{title:"Stock",key:"stock"},{title:"Status",key:"status"}],lt=[{title:"Customer",key:"customerName"},{title:"Rating",key:"rating"},{title:"Comment",key:"comment"},{title:"Source",key:"source"},{title:"Status",key:"status"},{title:"Added By",key:"franchiseeName"}];return De(()=>w.value,()=>{w.value&&Oe()},{immediate:!0}),De(()=>y.value,()=>{y.value&&w.value&&(He(),Ge(),Je(),We(),Ke())},{immediate:!0}),(i,e)=>{var r,n;return m(),P("section",null,[o(re)?(m(),P("div",bt,[t(B,{indeterminate:"",size:"64",class:"mb-4"}),e[26]||(e[26]=a("h3",{class:"text-h3 mb-2"}," Loading Unit Details... ",-1)),e[27]||(e[27]=a("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the unit information. ",-1))])):o(O)||!o(y)?(m(),P("div",pt,[t(b,{icon:"tabler-alert-circle",size:"64",class:"text-error mb-4"}),e[29]||(e[29]=a("h3",{class:"text-h3 mb-2"}," Error Loading Unit ",-1)),a("p",yt,d(o(O)||"Unit not found or you don't have permission to view it."),1),t(C,{color:"primary","prepend-icon":"tabler-arrow-left",onClick:ge},{default:s(()=>e[28]||(e[28]=[u(" Back to Units ")])),_:1,__:[28]})])):(m(),P("div",xt,[t(N,{class:"mb-6"},{default:s(()=>[t(c,{cols:"12"},{default:s(()=>[a("div",gt,[a("div",ht,[t(C,{icon:"",variant:"text",color:"default",onClick:ge},{default:s(()=>[t(b,{icon:"tabler-arrow-left"})]),_:1}),a("div",null,[a("h2",kt,d(o(y).branchName),1),a("p",wt," Managed by "+d(o(y).franchiseeName)+" • "+d(o(y).city)+", "+d(o(y).state),1)])]),t(z,{color:Y(o(y).status),size:"large",label:"",class:"text-capitalize"},{default:s(()=>[u(d(o(y).status),1)]),_:1},8,["color"])])]),_:1})]),_:1}),t(mt,{modelValue:o(L),"onUpdate:modelValue":e[0]||(e[0]=l=>F(L)?L.value=l:null),class:"mb-6"},{default:s(()=>[t(M,{value:"overview"},{default:s(()=>[t(b,{icon:"tabler-info-circle",start:""}),e[30]||(e[30]=u(" Overview "))]),_:1,__:[30]}),t(M,{value:"tasks"},{default:s(()=>[t(b,{icon:"tabler-checklist",start:""}),e[31]||(e[31]=u(" Tasks "))]),_:1,__:[31]}),t(M,{value:"documents"},{default:s(()=>[t(b,{icon:"tabler-files",start:""}),e[32]||(e[32]=u(" Documents "))]),_:1,__:[32]}),t(M,{value:"staffs"},{default:s(()=>[t(b,{icon:"tabler-users",start:""}),e[33]||(e[33]=u(" Staffs "))]),_:1,__:[33]}),t(M,{value:"inventory"},{default:s(()=>[t(b,{icon:"tabler-package",start:""}),e[34]||(e[34]=u(" Inventory Management "))]),_:1,__:[34]}),t(M,{value:"reviews"},{default:s(()=>[t(b,{icon:"tabler-star",start:""}),e[35]||(e[35]=u(" Customer Reviews "))]),_:1,__:[35]})]),_:1},8,["modelValue"]),t(ft,{modelValue:o(L),"onUpdate:modelValue":e[7]||(e[7]=l=>F(L)?L.value=l:null),class:"disable-tab-transition"},{default:s(()=>[t(j,{value:"overview"},{default:s(()=>[t(v,null,{default:s(()=>[t(f,null,{default:s(()=>[t(N,null,{default:s(()=>[t(c,{cols:"12"},{default:s(()=>[e[41]||(e[41]=a("h4",{class:"text-h6 mb-4"}," Basic Information ",-1)),t(v,{variant:"outlined"},{default:s(()=>[t(f,null,{default:s(()=>[t(N,null,{default:s(()=>[t(c,{cols:"12",md:"6"},{default:s(()=>[a("div",Vt,[e[36]||(e[36]=a("div",{class:"text-sm text-disabled mb-1"}," Branch Name ",-1)),a("div",Dt,d(o(y).branchName),1)])]),_:1}),t(c,{cols:"12",md:"6"},{default:s(()=>[a("div",zt,[e[37]||(e[37]=a("div",{class:"text-sm text-disabled mb-1"}," Franchisee Name ",-1)),a("div",Tt,d(o(y).franchiseeName),1)])]),_:1}),t(c,{cols:"12",md:"6"},{default:s(()=>[a("div",Ct,[e[38]||(e[38]=a("div",{class:"text-sm text-disabled mb-1"}," Email Address ",-1)),a("div",St,[a("a",{href:`mailto:${o(y).email}`,class:"text-primary"},d(o(y).email),9,Nt)])])]),_:1}),t(c,{cols:"12",md:"6"},{default:s(()=>[a("div",Pt,[e[39]||(e[39]=a("div",{class:"text-sm text-disabled mb-1"}," Contact Number ",-1)),a("div",Ut,d(o(y).contactNumber),1)])]),_:1}),t(c,{cols:"12"},{default:s(()=>[a("div",$t,[e[40]||(e[40]=a("div",{class:"text-sm text-disabled mb-1"}," Address ",-1)),a("div",Ft,d(o(y).address)+", "+d(o(y).city)+", "+d(o(y).state)+", "+d(o(y).country),1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1,__:[41]}),t(c,{cols:"12"},{default:s(()=>[e[45]||(e[45]=a("h4",{class:"text-h6 mb-4"}," Franchisee Details ",-1)),t(v,{variant:"outlined"},{default:s(()=>[t(f,null,{default:s(()=>[t(N,null,{default:s(()=>[t(c,{cols:"12",md:"4"},{default:s(()=>[a("div",It,[e[42]||(e[42]=a("div",{class:"text-sm text-disabled mb-1"}," Royalty Percentage ",-1)),a("div",Rt,d(o(y).royaltyPercentage)+"% ",1)])]),_:1}),t(c,{cols:"12",md:"4"},{default:s(()=>[a("div",At,[e[43]||(e[43]=a("div",{class:"text-sm text-disabled mb-1"}," Contract Start Date ",-1)),a("div",Et,d(o(y).contractStartDate),1)])]),_:1}),t(c,{cols:"12",md:"4"},{default:s(()=>[a("div",Lt,[e[44]||(e[44]=a("div",{class:"text-sm text-disabled mb-1"}," Renewal Date ",-1)),a("div",Bt,d(o(y).renewalDate),1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1,__:[45]})]),_:1})]),_:1})]),_:1})]),_:1}),t(j,{value:"tasks"},{default:s(()=>[o(H)?(m(),x(te,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[1]||(e[1]=l=>H.value=null)},{default:s(()=>[u(d(o(H)),1)]),_:1})):S("",!0),o(ue)?(m(),x(v,{key:1,class:"mb-6"},{default:s(()=>[t(f,{class:"py-8"},{default:s(()=>[a("div",Mt,[t(B,{indeterminate:"",size:"48",class:"mb-4"}),e[46]||(e[46]=a("h4",{class:"text-h4 mb-2"}," Loading Tasks... ",-1)),e[47]||(e[47]=a("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the task information. ",-1))])]),_:1})]),_:1})):(m(),P(Z,{key:2},[t(N,{class:"mb-6"},{default:s(()=>[t(c,{cols:"12",md:"3"},{default:s(()=>[t(v,null,{default:s(()=>[t(f,{class:"d-flex align-center"},{default:s(()=>[t(k,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:s(()=>[t(b,{icon:"tabler-checklist",size:"26"})]),_:1}),a("div",jt,[e[48]||(e[48]=a("div",{class:"text-body-2 text-disabled"}," Total Tasks ",-1)),a("h4",qt,d(o(Se)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:s(()=>[t(v,null,{default:s(()=>[t(f,{class:"d-flex align-center"},{default:s(()=>[t(k,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:s(()=>[t(b,{icon:"tabler-check",size:"26"})]),_:1}),a("div",Ot,[e[49]||(e[49]=a("div",{class:"text-body-2 text-disabled"}," Completed ",-1)),a("h4",Ht,d(o(Ne)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:s(()=>[t(v,null,{default:s(()=>[t(f,{class:"d-flex align-center"},{default:s(()=>[t(k,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:s(()=>[t(b,{icon:"tabler-clock",size:"26"})]),_:1}),a("div",Gt,[e[50]||(e[50]=a("div",{class:"text-body-2 text-disabled"}," In Progress ",-1)),a("h4",Wt,d(o(Pe)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:s(()=>[t(v,null,{default:s(()=>[t(f,{class:"d-flex align-center"},{default:s(()=>[t(k,{size:"44",rounded:"",color:"error",variant:"tonal"},{default:s(()=>[t(b,{icon:"tabler-alert-circle",size:"26"})]),_:1}),a("div",Jt,[e[51]||(e[51]=a("div",{class:"text-body-2 text-disabled"}," Due ",-1)),a("h4",Kt,d(o(Ue)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(v,null,{default:s(()=>[t(q,{class:"pb-4"},{append:s(()=>[t(C,{color:"primary","prepend-icon":"tabler-plus",onClick:e[2]||(e[2]=l=>E.value=!0)},{default:s(()=>e[54]||(e[54]=[u(" Create Task ")])),_:1,__:[54]})]),default:s(()=>[a("div",null,[t(A,null,{default:s(()=>e[52]||(e[52]=[u("Tasks")])),_:1,__:[52]}),t(ee,{class:"text-body-2 text-disabled"},{default:s(()=>e[53]||(e[53]=[u(" Create and manage tasks for this unit ")])),_:1,__:[53]})])]),_:1}),t(I),o(V).length>0?(m(),x(de,{key:0,items:o(V),headers:tt,class:"text-no-wrap","item-value":"id"},{"item.taskInfo":s(({item:l})=>[a("div",null,[a("h6",Qt,d(l.title),1),a("div",Xt,d(l.description),1)])]),"item.priority":s(({item:l})=>[t(z,{color:he(l.priority),size:"small",label:"",class:"text-capitalize"},{default:s(()=>[u(d(l.priority),1)]),_:2},1032,["color"])]),"item.status":s(({item:l})=>[t(z,{color:Y(l.status),size:"small",label:"",class:"text-capitalize"},{default:s(()=>[u(d(l.status),1)]),_:2},1032,["color"])]),_:1},8,["items"])):(m(),x(f,{key:1,class:"py-8"},{default:s(()=>[a("div",Yt,[t(b,{icon:"tabler-checklist",size:"64",class:"text-disabled mb-4"}),e[55]||(e[55]=a("h4",{class:"text-h4 mb-2"}," No Tasks Found ",-1)),e[56]||(e[56]=a("p",{class:"text-body-1 text-medium-emphasis"}," There are no tasks assigned to this unit yet. The franchisee can create tasks to manage operations. ",-1))])]),_:1}))]),_:1})],64))]),_:1}),t(j,{value:"documents"},{default:s(()=>[o(G)?(m(),x(te,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[3]||(e[3]=l=>G.value=null)},{default:s(()=>[u(d(o(G)),1)]),_:1})):S("",!0),o(ae)?(m(),x(v,{key:1},{default:s(()=>[t(f,{class:"py-8"},{default:s(()=>[a("div",Zt,[t(B,{indeterminate:"",size:"48",class:"mb-4"}),e[57]||(e[57]=a("h4",{class:"text-h4 mb-2"}," Loading Documents... ",-1)),e[58]||(e[58]=a("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the document information. ",-1))])]),_:1})]),_:1})):(m(),x(v,{key:2},{default:s(()=>[t(q,{class:"pb-4"},{default:s(()=>[t(A,null,{default:s(()=>e[59]||(e[59]=[u("Unit Documents")])),_:1,__:[59]}),t(ee,{class:"text-body-2 text-disabled"},{default:s(()=>e[60]||(e[60]=[u(" Review and approve documents uploaded by franchisees ")])),_:1,__:[60]})]),_:1}),t(I),o(T).length>0?(m(),x(f,{key:0},{default:s(()=>[t(N,null,{default:s(()=>[(m(!0),P(Z,null,ct(o(T),l=>(m(),x(c,{key:l.id,cols:"12",md:"6",lg:"4"},{default:s(()=>[t(v,null,{default:s(()=>[t(f,null,{default:s(()=>[a("div",es,[t(b,{icon:"tabler-file-text",size:"24",color:"primary",class:"me-3"}),a("div",null,[a("h6",ts,d(l.title),1),a("p",ss,d(l.type),1)])]),a("p",as,d(l.description),1),a("div",ls,[a("span",os,d(l.fileName),1),t(z,{size:"small",color:"secondary"},{default:s(()=>[u(d(l.fileSize),1)]),_:2},1024)]),a("div",is,[a("span",ds,d(l.uploadDate),1),t(z,{color:Y(l.status),size:"small",label:"",class:"text-capitalize"},{default:s(()=>[u(d(l.status),1)]),_:2},1032,["color"])])]),_:2},1024),t(ie,null,{default:s(()=>[t(C,{size:"small",variant:"text",color:"primary","prepend-icon":"tabler-download"},{default:s(()=>e[61]||(e[61]=[u(" Download ")])),_:1,__:[61]}),t(ne),l.status==="active"?(m(),x(C,{key:0,size:"small",variant:"text",color:"success",onClick:g=>ke(l,"approve")},{default:s(()=>e[62]||(e[62]=[u(" Approve ")])),_:2,__:[62]},1032,["onClick"])):S("",!0),l.status==="active"?(m(),x(C,{key:1,size:"small",variant:"text",color:"error",onClick:g=>ke(l,"reject")},{default:s(()=>e[63]||(e[63]=[u(" Reject ")])),_:2,__:[63]},1032,["onClick"])):S("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(m(),x(f,{key:1,class:"py-8"},{default:s(()=>[a("div",ns,[t(b,{icon:"tabler-files",size:"64",class:"text-disabled mb-4"}),e[64]||(e[64]=a("h4",{class:"text-h4 mb-2"}," No Documents Found ",-1)),e[65]||(e[65]=a("p",{class:"text-body-1 text-medium-emphasis"}," There are no documents uploaded for this unit yet. The franchisee can upload important documents and files. ",-1))])]),_:1}))]),_:1}))]),_:1}),t(j,{value:"staffs"},{default:s(()=>[o(W)?(m(),x(te,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[4]||(e[4]=l=>W.value=null)},{default:s(()=>[u(d(o(W)),1)]),_:1})):S("",!0),o(ce)?(m(),x(v,{key:1,class:"mb-6"},{default:s(()=>[t(f,{class:"py-8"},{default:s(()=>[a("div",rs,[t(B,{indeterminate:"",size:"48",class:"mb-4"}),e[66]||(e[66]=a("h4",{class:"text-h4 mb-2"}," Loading Staff... ",-1)),e[67]||(e[67]=a("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the staff information. ",-1))])]),_:1})]),_:1})):(m(),P(Z,{key:2},[t(N,{class:"mb-6"},{default:s(()=>[t(c,{cols:"12",md:"3"},{default:s(()=>[t(v,null,{default:s(()=>[t(f,{class:"d-flex align-center"},{default:s(()=>[t(k,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:s(()=>[t(b,{icon:"tabler-users",size:"26"})]),_:1}),a("div",us,[e[68]||(e[68]=a("div",{class:"text-body-2 text-disabled"}," Total Staff ",-1)),a("h4",cs,d(o($e)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:s(()=>[t(v,null,{default:s(()=>[t(f,{class:"d-flex align-center"},{default:s(()=>[t(k,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:s(()=>[t(b,{icon:"tabler-user-check",size:"26"})]),_:1}),a("div",ms,[e[69]||(e[69]=a("div",{class:"text-body-2 text-disabled"}," Working ",-1)),a("h4",fs,d(o(Fe)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:s(()=>[t(v,null,{default:s(()=>[t(f,{class:"d-flex align-center"},{default:s(()=>[t(k,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:s(()=>[t(b,{icon:"tabler-calendar-off",size:"26"})]),_:1}),a("div",vs,[e[70]||(e[70]=a("div",{class:"text-body-2 text-disabled"}," On Leave ",-1)),a("h4",_s,d(o(Ie)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:s(()=>[t(v,null,{default:s(()=>[t(f,{class:"d-flex align-center"},{default:s(()=>[t(k,{size:"44",rounded:"",color:"info",variant:"tonal"},{default:s(()=>[t(b,{icon:"tabler-user-plus",size:"26"})]),_:1}),a("div",bs,[e[71]||(e[71]=a("div",{class:"text-body-2 text-disabled"}," Active ",-1)),a("h4",ps,d(o(U).filter(l=>l.status==="working").length),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(v,null,{default:s(()=>[t(q,{class:"pb-4"},{default:s(()=>[t(A,null,{default:s(()=>e[72]||(e[72]=[u("Staff Members")])),_:1,__:[72]}),t(ee,{class:"text-body-2 text-disabled"},{default:s(()=>e[73]||(e[73]=[u(" View-only access - Staff management is handled by franchisees ")])),_:1,__:[73]})]),_:1}),t(I),o(U).length>0?(m(),x(de,{key:0,items:o(U),headers:st,class:"text-no-wrap","item-value":"id"},{"item.name":s(({item:l})=>[a("div",ys,[t(k,{size:"32",image:l.avatar,class:"me-3"},{default:s(()=>[l.avatar?S("",!0):(m(),x(b,{key:0,icon:"tabler-user"}))]),_:2},1032,["image"]),a("div",null,[a("div",xs,d(l.name),1),a("div",gs,d(l.phone||"No phone"),1)])])]),"item.jobTitle":s(({item:l})=>[t(z,{size:"small",color:"primary",variant:"tonal",label:""},{default:s(()=>[u(d(l.jobTitle),1)]),_:2},1024)]),"item.status":s(({item:l})=>[t(z,{color:l.status==="working"?"success":"warning",size:"small",label:"",class:"text-capitalize"},{default:s(()=>[u(d(l.status),1)]),_:2},1032,["color"])]),_:1},8,["items"])):(m(),x(f,{key:1,class:"py-8"},{default:s(()=>[a("div",hs,[t(b,{icon:"tabler-users",size:"64",class:"text-disabled mb-4"}),e[74]||(e[74]=a("h4",{class:"text-h4 mb-2"}," No Staff Members Found ",-1)),e[75]||(e[75]=a("p",{class:"text-body-1 text-medium-emphasis"}," There are no staff members assigned to this franchise yet. The franchisee can manage staff assignments and roles. ",-1))])]),_:1}))]),_:1})],64))]),_:1}),t(j,{value:"inventory"},{default:s(()=>[o(J)?(m(),x(te,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[5]||(e[5]=l=>J.value=null)},{default:s(()=>[u(d(o(J)),1)]),_:1})):S("",!0),o(me)?(m(),x(v,{key:1,class:"mb-6"},{default:s(()=>[t(f,{class:"py-8"},{default:s(()=>[a("div",ks,[t(B,{indeterminate:"",size:"48",class:"mb-4"}),e[76]||(e[76]=a("h4",{class:"text-h4 mb-2"}," Loading Inventory... ",-1)),e[77]||(e[77]=a("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the inventory information. ",-1))])]),_:1})]),_:1})):(m(),P(Z,{key:2},[t(N,{class:"mb-6"},{default:s(()=>[t(c,{cols:"12",md:"3"},{default:s(()=>[t(v,null,{default:s(()=>[t(f,{class:"d-flex align-center"},{default:s(()=>[t(k,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:s(()=>[t(b,{icon:"tabler-package",size:"26"})]),_:1}),a("div",ws,[e[78]||(e[78]=a("div",{class:"text-body-2 text-disabled"}," Total Products ",-1)),a("h4",Vs,d(o(Re)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:s(()=>[t(v,null,{default:s(()=>[t(f,{class:"d-flex align-center"},{default:s(()=>[t(k,{size:"44",rounded:"",color:"info",variant:"tonal"},{default:s(()=>[t(b,{icon:"tabler-stack",size:"26"})]),_:1}),a("div",Ds,[e[79]||(e[79]=a("div",{class:"text-body-2 text-disabled"}," Total Stock ",-1)),a("h4",zs,d(o(Ae)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:s(()=>[t(v,null,{default:s(()=>[t(f,{class:"d-flex align-center"},{default:s(()=>[t(k,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:s(()=>[t(b,{icon:"tabler-alert-triangle",size:"26"})]),_:1}),a("div",Ts,[e[80]||(e[80]=a("div",{class:"text-body-2 text-disabled"}," Low Stock ",-1)),a("h4",Cs,d(o(Ee)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:s(()=>[t(v,null,{default:s(()=>[t(f,{class:"d-flex align-center"},{default:s(()=>[t(k,{size:"44",rounded:"",color:"error",variant:"tonal"},{default:s(()=>[t(b,{icon:"tabler-x",size:"26"})]),_:1}),a("div",Ss,[e[81]||(e[81]=a("div",{class:"text-body-2 text-disabled"}," Out of Stock ",-1)),a("h4",Ns,d(o(Le)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(v,null,{default:s(()=>[t(q,{class:"pb-4"},{default:s(()=>[t(A,null,{default:s(()=>e[82]||(e[82]=[u("Inventory")])),_:1,__:[82]}),t(ee,{class:"text-body-2 text-disabled"},{default:s(()=>e[83]||(e[83]=[u(" View-only access - Product management is handled by franchisees ")])),_:1,__:[83]})]),_:1}),t(I),o($).length>0?(m(),x(de,{key:0,items:o($),headers:at,class:"text-no-wrap","item-value":"id"},{"item.unitPrice":s(({item:l})=>[a("div",Ps," SAR "+d(l.unitPrice.toFixed(2)),1)]),"item.stock":s(({item:l})=>[t(z,{color:l.stock===0?"error":l.stock<=10?"warning":"success",size:"small",label:""},{default:s(()=>[u(d(l.stock),1)]),_:2},1032,["color"])]),"item.status":s(({item:l})=>[t(z,{color:Y(l.status),size:"small",label:"",class:"text-capitalize"},{default:s(()=>[u(d(l.status),1)]),_:2},1032,["color"])]),_:1},8,["items"])):(m(),x(f,{key:1,class:"py-8"},{default:s(()=>[a("div",Us,[t(b,{icon:"tabler-package",size:"64",class:"text-disabled mb-4"}),e[84]||(e[84]=a("h4",{class:"text-h4 mb-2"}," No Products Found ",-1)),e[85]||(e[85]=a("p",{class:"text-body-1 text-medium-emphasis"}," There are no products in the inventory for this unit yet. The franchisee can manage products and stock levels. ",-1))])]),_:1}))]),_:1})],64))]),_:1}),t(j,{value:"reviews"},{default:s(()=>[o(K)?(m(),x(te,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[6]||(e[6]=l=>K.value=null)},{default:s(()=>[u(d(o(K)),1)]),_:1})):S("",!0),o(fe)?(m(),x(v,{key:1,class:"mb-6"},{default:s(()=>[t(f,{class:"py-8"},{default:s(()=>[a("div",$s,[t(B,{indeterminate:"",size:"48",class:"mb-4"}),e[86]||(e[86]=a("h4",{class:"text-h4 mb-2"}," Loading Reviews... ",-1)),e[87]||(e[87]=a("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the review information. ",-1))])]),_:1})]),_:1})):(m(),P(Z,{key:2},[t(N,{class:"mb-6"},{default:s(()=>[t(c,{cols:"12",md:"3"},{default:s(()=>[t(v,null,{default:s(()=>[t(f,{class:"d-flex align-center"},{default:s(()=>[t(k,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:s(()=>[t(b,{icon:"tabler-star",size:"26"})]),_:1}),a("div",Fs,[e[88]||(e[88]=a("div",{class:"text-body-2 text-disabled"}," Total Reviews ",-1)),a("h4",Is,d(o(Me)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:s(()=>[t(v,null,{default:s(()=>[t(f,{class:"d-flex align-center"},{default:s(()=>[t(k,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:s(()=>[t(b,{icon:"tabler-star",size:"26"})]),_:1}),a("div",Rs,[e[89]||(e[89]=a("div",{class:"text-body-2 text-disabled"}," Avg Rating ",-1)),a("h4",As,d(o(Be)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:s(()=>[t(v,null,{default:s(()=>[t(f,{class:"d-flex align-center"},{default:s(()=>[t(k,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:s(()=>[t(b,{icon:"tabler-file-text",size:"26"})]),_:1}),a("div",Es,[e[90]||(e[90]=a("div",{class:"text-body-2 text-disabled"}," Draft ",-1)),a("h4",Ls,d(o(je)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:s(()=>[t(v,null,{default:s(()=>[t(f,{class:"d-flex align-center"},{default:s(()=>[t(k,{size:"44",rounded:"",color:"info",variant:"tonal"},{default:s(()=>[t(b,{icon:"tabler-check",size:"26"})]),_:1}),a("div",Bs,[e[91]||(e[91]=a("div",{class:"text-body-2 text-disabled"}," Verified ",-1)),a("h4",Ms,d(o(qe)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(v,null,{default:s(()=>[t(q,{class:"pb-4"},{default:s(()=>[t(A,null,{default:s(()=>e[92]||(e[92]=[u("Customer Reviews")])),_:1,__:[92]}),t(ee,{class:"text-body-2 text-disabled"},{default:s(()=>e[93]||(e[93]=[u(" View-only access - Customer review management is handled by franchisees ")])),_:1,__:[93]})]),_:1}),t(I),o(D).length>0?(m(),x(de,{key:0,items:o(D),headers:lt,class:"text-no-wrap","item-value":"id"},{"item.customerName":s(({item:l})=>[a("div",null,[a("div",js,d(l.customerName),1),a("div",qs,d(l.customerEmail||"No email"),1),l.customerPhone?(m(),P("div",Os,d(l.customerPhone),1)):S("",!0)])]),"item.rating":s(({item:l})=>[a("div",Hs,[t(vt,{"model-value":l.rating,density:"compact",size:"small",readonly:"",color:"warning"},null,8,["model-value"]),a("span",Gs,"("+d(l.rating)+")",1)])]),"item.comment":s(({item:l})=>[a("div",Ws,[a("p",Js,d(l.comment||"No comment"),1)])]),"item.source":s(({item:l})=>[t(z,{size:"small",color:"secondary",variant:"tonal",label:"",class:"text-capitalize"},{default:s(()=>{var g;return[u(d((g=l.source)==null?void 0:g.replace("_"," ")),1)]}),_:2},1024)]),"item.status":s(({item:l})=>[t(z,{color:l.status==="published"?"success":l.status==="draft"?"warning":"secondary",size:"small",label:"",class:"text-capitalize"},{default:s(()=>[u(d(l.status),1)]),_:2},1032,["color"])]),"item.franchiseeName":s(({item:l})=>[a("div",null,[a("div",Ks,d(l.franchiseeName),1),a("div",Qs,d(l.addedDate),1)])]),_:1},8,["items"])):(m(),x(f,{key:1,class:"py-8"},{default:s(()=>[a("div",Xs,[t(b,{icon:"tabler-star",size:"64",class:"text-disabled mb-4"}),e[94]||(e[94]=a("h4",{class:"text-h4 mb-2"}," No Customer Reviews Found ",-1)),e[95]||(e[95]=a("p",{class:"text-body-1 text-medium-emphasis"}," There are no customer reviews for this unit yet. The franchisee can add and manage customer feedback to build reputation. ",-1))])]),_:1}))]),_:1})],64))]),_:1})]),_:1},8,["modelValue"]),t(Ve,{"is-dialog-visible":o(E),"onUpdate:isDialogVisible":e[8]||(e[8]=l=>F(E)?E.value=l:null),"current-tab":"franchisee",onTaskCreated:we},null,8,["is-dialog-visible"]),t(it,{"is-dialog-visible":o(ve),"onUpdate:isDialogVisible":e[9]||(e[9]=l=>F(ve)?ve.value=l:null),onDocumentAdded:Xe},null,8,["is-dialog-visible"]),t(dt,{"is-dialog-visible":o(le),"onUpdate:isDialogVisible":e[10]||(e[10]=l=>F(le)?le.value=l:null),document:o(ye),action:o(xe),onDocumentActionConfirmed:Ye},null,8,["is-dialog-visible","document","action"]),t(pe,{modelValue:o(oe),"onUpdate:modelValue":e[12]||(e[12]=l=>F(oe)?oe.value=l:null),"max-width":"600"},{default:s(()=>[t(v,null,{default:s(()=>[t(A,{class:"text-h5 pa-6 pb-4"},{default:s(()=>e[96]||(e[96]=[u(" Task Details ")])),_:1,__:[96]}),t(I),o(_)?(m(),x(f,{key:0,class:"pa-6"},{default:s(()=>[t(N,null,{default:s(()=>[t(c,{cols:"12"},{default:s(()=>[a("h6",Ys,d(o(_).title),1),a("p",Zs,d(o(_).description),1)]),_:1}),t(c,{cols:"12",md:"6"},{default:s(()=>[e[97]||(e[97]=a("div",{class:"text-body-2 text-disabled mb-1"}," Category ",-1)),a("div",ea,d(o(_).category),1)]),_:1,__:[97]}),t(c,{cols:"12",md:"6"},{default:s(()=>[e[98]||(e[98]=a("div",{class:"text-body-2 text-disabled mb-1"}," Assigned To ",-1)),a("div",ta,d(o(_).assignedTo),1)]),_:1,__:[98]}),t(c,{cols:"12",md:"6"},{default:s(()=>[e[99]||(e[99]=a("div",{class:"text-body-2 text-disabled mb-1"}," Start Date ",-1)),a("div",sa,d(o(_).startDate),1)]),_:1,__:[99]}),t(c,{cols:"12",md:"6"},{default:s(()=>[e[100]||(e[100]=a("div",{class:"text-body-2 text-disabled mb-1"}," Due Date ",-1)),a("div",aa,d(o(_).dueDate),1)]),_:1,__:[100]}),t(c,{cols:"12",md:"6"},{default:s(()=>[e[101]||(e[101]=a("div",{class:"text-body-2 text-disabled mb-1"}," Priority ",-1)),t(z,{color:he(o(_).priority),size:"small",label:"",class:"text-capitalize"},{default:s(()=>[u(d(o(_).priority),1)]),_:1},8,["color"])]),_:1,__:[101]}),t(c,{cols:"12",md:"6"},{default:s(()=>[e[102]||(e[102]=a("div",{class:"text-body-2 text-disabled mb-1"}," Status ",-1)),t(z,{color:Y(o(_).status),size:"small",label:"",class:"text-capitalize"},{default:s(()=>[u(d(o(_).status),1)]),_:1},8,["color"])]),_:1,__:[102]})]),_:1})]),_:1})):S("",!0),t(I),t(ie,{class:"pa-6"},{default:s(()=>[t(ne),t(C,{color:"secondary",variant:"tonal",onClick:e[11]||(e[11]=l=>oe.value=!1)},{default:s(()=>e[103]||(e[103]=[u(" Close ")])),_:1,__:[103]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(pe,{modelValue:o(Q),"onUpdate:modelValue":e[22]||(e[22]=l=>F(Q)?Q.value=l:null),"max-width":"600",persistent:""},{default:s(()=>[t(v,null,{default:s(()=>[t(A,{class:"text-h5 pa-6 pb-4"},{default:s(()=>e[104]||(e[104]=[u(" Edit Task ")])),_:1,__:[104]}),t(I),o(_)?(m(),x(f,{key:0,class:"pa-6"},{default:s(()=>[t(N,null,{default:s(()=>[t(c,{cols:"12"},{default:s(()=>[t(se,{modelValue:o(_).title,"onUpdate:modelValue":e[13]||(e[13]=l=>o(_).title=l),label:"Task Title",placeholder:"Enter task title",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12"},{default:s(()=>[t(_t,{modelValue:o(_).description,"onUpdate:modelValue":e[14]||(e[14]=l=>o(_).description=l),label:"Description",placeholder:"Enter task description",rows:"3",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:s(()=>[t(se,{modelValue:o(_).category,"onUpdate:modelValue":e[15]||(e[15]=l=>o(_).category=l),label:"Category",placeholder:"Enter category",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:s(()=>[t(se,{modelValue:o(_).assignedTo,"onUpdate:modelValue":e[16]||(e[16]=l=>o(_).assignedTo=l),label:"Assigned To",placeholder:"Enter assignee",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:s(()=>[t(se,{modelValue:o(_).startDate,"onUpdate:modelValue":e[17]||(e[17]=l=>o(_).startDate=l),label:"Start Date",type:"date",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:s(()=>[t(se,{modelValue:o(_).dueDate,"onUpdate:modelValue":e[18]||(e[18]=l=>o(_).dueDate=l),label:"Due Date",type:"date",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:s(()=>[t(ze,{modelValue:o(_).priority,"onUpdate:modelValue":e[19]||(e[19]=l=>o(_).priority=l),label:"Priority",items:[{title:"Low",value:"low"},{title:"Medium",value:"medium"},{title:"High",value:"high"}],required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:s(()=>[t(ze,{modelValue:o(_).status,"onUpdate:modelValue":e[20]||(e[20]=l=>o(_).status=l),label:"Status",items:[{title:"Pending",value:"pending"},{title:"In Progress",value:"in_progress"},{title:"Completed",value:"completed"}],required:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})):S("",!0),t(I),t(ie,{class:"pa-6"},{default:s(()=>[t(ne),t(C,{color:"secondary",variant:"tonal",onClick:e[21]||(e[21]=l=>Q.value=!1)},{default:s(()=>e[105]||(e[105]=[u(" Cancel ")])),_:1,__:[105]}),t(C,{color:"primary",onClick:et},{default:s(()=>e[106]||(e[106]=[u(" Save Changes ")])),_:1,__:[106]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(pe,{modelValue:o(X),"onUpdate:modelValue":e[24]||(e[24]=l=>F(X)?X.value=l:null),"max-width":"500"},{default:s(()=>[t(v,null,{default:s(()=>[t(q,null,{default:s(()=>[t(A,null,{default:s(()=>e[107]||(e[107]=[u("Confirm Delete")])),_:1,__:[107]})]),_:1}),t(f,null,{default:s(()=>e[108]||(e[108]=[u(" Are you sure you want to delete this task? This action cannot be undone. ")])),_:1,__:[108]}),t(ie,null,{default:s(()=>[t(ne),t(C,{color:"secondary",variant:"tonal",onClick:e[23]||(e[23]=l=>X.value=!1)},{default:s(()=>e[109]||(e[109]=[u(" Cancel ")])),_:1,__:[109]}),t(C,{color:"error",onClick:Ze},{default:s(()=>e[110]||(e[110]=[u(" Delete ")])),_:1,__:[110]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Ve,{"is-dialog-visible":o(E),"onUpdate:isDialogVisible":e[25]||(e[25]=l=>F(E)?E.value=l:null),"default-assigned-to":(n=(r=o(y))==null?void 0:r.franchiseeId)==null?void 0:n.toString(),"unit-id":o(w),onTaskCreated:we},null,8,["is-dialog-visible","default-assigned-to","unit-id"])]))])}}});export{Ja as default};
