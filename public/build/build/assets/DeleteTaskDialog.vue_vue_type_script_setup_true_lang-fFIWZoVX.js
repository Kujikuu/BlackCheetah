import{V,_ as k}from"./VDialog-6C-NQXCx.js";import{d as _,r as g,g as D,f as o,b as a,t as r,a9 as d,m as C,b5 as b,o as y}from"./main-gemCwVks.js";import{V as v}from"./VCardText-BD5AHO-w.js";import{d as T,V as x}from"./VCard-DJ82mpnW.js";import{V as B}from"./VSpacer-Cpeayo2U.js";const L=_({__name:"DeleteTaskDialog",props:{isDialogVisible:{type:Boolean},taskId:{}},emits:["update:isDialogVisible","task-deleted"],setup(u,{emit:f}){const l=u,s=f,i=g(!1),m=async()=>{if(l.taskId!==null)try{i.value=!0;const t=await b(`/v1/franchisor/tasks/${l.taskId}`,{method:"DELETE"});t.success?s("task-deleted",l.taskId):console.error("Failed to delete task:",t)}catch(t){console.error("Error deleting task:",t)}finally{i.value=!1,s("update:isDialogVisible",!1)}},n=()=>{s("update:isDialogVisible",!1)};return(t,e)=>{const p=k;return y(),D(V,{"model-value":t.isDialogVisible,"max-width":"600","onUpdate:modelValue":e[0]||(e[0]=c=>s("update:isDialogVisible",c))},{default:o(()=>[a(p,{onClick:n}),a(x,{title:"Confirm Delete"},{default:o(()=>[a(v,null,{default:o(()=>e[1]||(e[1]=[r(" Are you sure you want to delete this task? This action cannot be undone. ")])),_:1,__:[1]}),a(T,null,{default:o(()=>[a(B),a(d,{color:"secondary",variant:"tonal",onClick:n},{default:o(()=>e[2]||(e[2]=[r(" Cancel ")])),_:1,__:[2]}),a(d,{color:"error",loading:C(i),onClick:m},{default:o(()=>e[3]||(e[3]=[r(" Delete ")])),_:1,__:[3]},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model-value"])}}});export{L as _};
