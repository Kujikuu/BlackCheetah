import{V as F}from"./VDivider-Bg3_3YcA.js";import{V as ee}from"./VPagination-rT13uSSZ.js";import{d as ae,c as te,o as oe,b as o,e as T,v as se,m as le,ac as re,N as ne,cR as ie,P as p,aK as r,ai as de,V as ue,q as w,F as B,aC as me}from"./main-CmF9Tu9X.js";import{c as ce,a as ge,b as pe,d as ve,u as Pe,p as be,e as fe,f as he,g as ye,h as De,i as Se,j as Ve,V as I,k,l as x,m as Te,n as we,o as Be}from"./VDataTable-B4xDoe1z.js";import{V as R}from"./VTable-BuP0AM6H.js";const Ie=(e,l)=>{const i=(e.page-1)*e.itemsPerPage+1,a=Math.min(e.page*e.itemsPerPage,l);return`Showing ${l===0?0:i} to ${a} of ${l} entries`},ke={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 px-6 py-3"},xe={class:"text-disabled mb-0"},Ne=ae({__name:"TablePagination",props:{page:{},itemsPerPage:{},totalItems:{}},emits:["update:page"],setup(e,{emit:l}){const i=l,a=t=>{i("update:page",t)};return(t,n)=>(oe(),te("div",null,[o(F),T("div",ke,[T("p",xe,se(("paginationMeta"in t?t.paginationMeta:le(Ie))({page:t.page,itemsPerPage:t.itemsPerPage},t.totalItems)),1),o(ee,{"model-value":t.page,"active-color":"primary",length:Math.ceil(t.totalItems/t.itemsPerPage),"total-visible":t.$vuetify.display.xs?1:Math.min(Math.ceil(t.totalItems/t.itemsPerPage),5),"onUpdate:modelValue":a},null,8,["model-value","length","total-visible"])])]))}}),Re=ne({itemsLength:{type:[Number,String],required:!0},...Be(),...we(),...Te()},"VDataTableServer"),_e=re()({name:"VDataTableServer",props:Re(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,l){let{attrs:i,slots:a}=l;const{groupBy:t}=ce(e),{sortBy:n,multiSort:M,mustSort:E}=ge(e),{page:u,itemsPerPage:c}=pe(e),{disableSort:G}=ie(e),H=p(()=>parseInt(e.itemsLength,10)),{columns:v,headers:N}=ve(e,{groupBy:t,showSelect:r(()=>e.showSelect),showExpand:r(()=>e.showExpand)}),{items:m}=Pe(e,v),{toggleSort:P}=Ve({sortBy:n,multiSort:M,mustSort:E,page:u}),{opened:_,isGroupOpen:C,toggleGroup:$,extractRows:j}=be({groupBy:t,sortBy:n,disableSort:G}),{pageCount:L,setItemsPerPage:q}=fe({page:u,itemsPerPage:c,itemsLength:H}),{flatItems:b}=he(m,t,_),{isSelected:O,select:A,selectAll:K,toggleSelect:U,someSelected:W,allSelected:z}=ye(e,{allItems:m,currentPage:m}),{isExpanded:J,toggleExpand:Q}=De(e),f=p(()=>j(m.value));Se({page:u,itemsPerPage:c,sortBy:n,groupBy:t,search:r(()=>e.search)}),me("v-data-table",{toggleSort:P,sortBy:n}),de({VDataTableRows:{hideNoData:r(()=>e.hideNoData),noDataText:r(()=>e.noDataText),loading:r(()=>e.loading),loadingText:r(()=>e.loadingText)}});const s=p(()=>({page:u.value,itemsPerPage:c.value,sortBy:n.value,pageCount:L.value,toggleSort:P,setItemsPerPage:q,someSelected:W.value,allSelected:z.value,isSelected:O,select:A,selectAll:K,toggleSelect:U,isExpanded:J,toggleExpand:Q,isGroupOpen:C,toggleGroup:$,items:f.value.map(g=>g.raw),internalItems:f.value,groupedItems:b.value,columns:v.value,headers:N.value}));ue(()=>{const g=I.filterProps(e),X=k.filterProps(e),Y=x.filterProps(e),Z=R.filterProps(e);return o(R,w({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},Z,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var d;return(d=a.top)==null?void 0:d.call(a,s.value)},default:()=>{var d,h,y,D,S,V;return a.default?a.default(s.value):o(B,null,[(d=a.colgroup)==null?void 0:d.call(a,s.value),!e.hideDefaultHeader&&o("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[o(k,X,a)]),(h=a.thead)==null?void 0:h.call(a,s.value),!e.hideDefaultBody&&o("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(y=a["body.prepend"])==null?void 0:y.call(a,s.value),a.body?a.body(s.value):o(x,w(i,Y,{items:b.value}),a),(D=a["body.append"])==null?void 0:D.call(a,s.value)]),(S=a.tbody)==null?void 0:S.call(a,s.value),(V=a.tfoot)==null?void 0:V.call(a,s.value)])},bottom:()=>a.bottom?a.bottom(s.value):!e.hideDefaultFooter&&o(B,null,[o(F,null,null),o(I,g,{prepend:a["footer.prepend"]})])})})}});export{_e as V,Ne as _};
