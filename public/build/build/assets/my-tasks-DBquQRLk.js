import{d as W,r as b,P as x,c as J,b as t,f as e,au as S,m as l,j,o as h,e as s,aa as c,v as n,t as d,a3 as D,g as z,l as N}from"./main-DeJzYu26.js";import{V as C,a as u}from"./VRow-Bc5Xg-OF.js";import{V as p,a as G,b as T,d as M}from"./VCard-DM_RaJjQ.js";import{V as P}from"./VDialog-BV_EcThc.js";import{V as _}from"./VCardText-C91zLtFF.js";import{V as k}from"./VAvatar-CzFSvsQH.js";import{V as y}from"./VDivider-DLIyMVwP.js";import{q as K}from"./VDataTable-GmZcrgqt.js";import{V as Q}from"./VMenu-B1FnI2KF.js";import{V as X,a as A,b as I}from"./VList-DB22MoGh.js";import{V as v}from"./VChip-C0NN1uvc.js";import{V as B}from"./VSpacer-DXjYU080.js";import{V as Y}from"./VSelect-BwgOzOKs.js";/* empty css              */import"./VImg-BGIMQfo8.js";import"./VOverlay-Cf3_uLuL.js";import"./easing-Bybner-F.js";import"./lazy-CbFk89iz.js";import"./scopeId-DjrbA9fE.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-DrC3XplS.js";import"./VPagination-DV4prD9T.js";import"./VCheckboxBtn-BguezhSu.js";import"./VSelectionControl-CzzB1Mlt.js";import"./form-BflVDgbn.js";import"./VTable-DeMgJEJC.js";import"./filter-CVTHwgF-.js";import"./ssrBoot-BhA_RNt5.js";import"./VSlideGroup-DsvfnNWq.js";import"./VTextField-DotXvQxm.js";/* empty css                   */import"./VCounter-BpCv2xWf.js";import"./VField-BfX_Zcm2.js";import"./VInput-D8-eiKxF.js";const Z={class:"ms-4"},tt={class:"text-h4"},et={class:"ms-4"},at={class:"text-h4"},st={class:"ms-4"},lt={class:"text-h4"},it={class:"ms-4"},ot={class:"text-h4"},rt={class:"text-base font-weight-medium"},nt={class:"text-body-2 text-disabled"},dt={class:"text-h6 mb-2"},ut={class:"text-body-1 mb-4"},mt={class:"text-body-1"},ct={class:"text-body-1"},pt={class:"text-body-1"},ft={class:"mb-4"},_t={class:"text-base font-weight-medium mb-2"},gt={class:"text-body-2 text-disabled"},Yt=W({__name:"my-tasks",setup(yt){j();const g=b(!1),f=b(!1),i=b(null),m=b([{id:1,title:"Monthly Inventory Check",description:"Complete monthly inventory audit and report",category:"Operations",assignedTo:"John Smith (Downtown Coffee Hub)",unitName:"Downtown Coffee Hub",startDate:"2024-01-01",dueDate:"2024-01-31",priority:"high",status:"completed"},{id:2,title:"Staff Training Session",description:"Conduct quarterly staff training on new procedures",category:"Training",assignedTo:"Sarah Johnson (Uptown Cafe)",unitName:"Uptown Cafe",startDate:"2024-01-15",dueDate:"2024-01-30",priority:"medium",status:"in_progress"},{id:3,title:"Equipment Maintenance",description:"Schedule and complete equipment maintenance",category:"Maintenance",assignedTo:"Mike Wilson (Central Plaza)",unitName:"Central Plaza",startDate:"2024-01-20",dueDate:"2024-02-05",priority:"high",status:"pending"},{id:4,title:"Marketing Campaign Review",description:"Review and approve local marketing materials",category:"Marketing",assignedTo:"Lisa Brown (Westside Branch)",unitName:"Westside Branch",startDate:"2024-01-25",dueDate:"2024-02-10",priority:"medium",status:"pending"},{id:5,title:"Lead Follow-up Campaign",description:"Follow up with potential franchisees from last quarter",category:"Lead Management",assignedTo:"Alex Rodriguez (Sales Associate)",unitName:"N/A",startDate:"2024-01-10",dueDate:"2024-01-25",priority:"high",status:"in_progress"},{id:6,title:"Franchise Presentation Prep",description:"Prepare presentation materials for upcoming franchise expo",category:"Sales",assignedTo:"Emma Thompson (Senior Sales)",unitName:"N/A",startDate:"2024-01-12",dueDate:"2024-02-01",priority:"high",status:"pending"},{id:7,title:"Territory Analysis",description:"Analyze potential markets for franchise expansion",category:"Market Research",assignedTo:"David Chen (Sales Manager)",unitName:"N/A",startDate:"2024-01-18",dueDate:"2024-02-15",priority:"medium",status:"pending"},{id:8,title:"Client Onboarding",description:"Complete onboarding process for new franchisee",category:"Onboarding",assignedTo:"Rachel Green (Sales Associate)",unitName:"N/A",startDate:"2024-01-05",dueDate:"2024-01-20",priority:"high",status:"completed"}]),R=x(()=>m.value.length),q=x(()=>m.value.filter(o=>o.status==="completed").length),L=x(()=>m.value.filter(o=>o.status==="in_progress").length),U=x(()=>{const o=new Date;return m.value.filter(a=>new Date(a.dueDate)<=o&&a.status!=="completed").length}),V=o=>o==="completed"?"success":o==="in_progress"?"warning":o==="pending"?"info":"secondary",w=o=>o==="high"?"error":o==="medium"?"warning":o==="low"?"info":"secondary",$=[{title:"Task Info",key:"taskInfo"},{title:"Category",key:"category"},{title:"Start Date",key:"startDate"},{title:"Due Date",key:"dueDate"},{title:"Priority",key:"priority"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],E=o=>{i.value=o,g.value=!0},F=o=>{i.value={...o},f.value=!0},H=o=>{if(!i.value)return;const a=m.value.findIndex(r=>r.id===i.value.id);a!==-1&&(m.value[a].status=o),f.value=!1,i.value=null};return(o,a)=>(h(),J("section",null,[t(C,{class:"mb-6"},{default:e(()=>[t(u,{cols:"12"},{default:e(()=>a[4]||(a[4]=[s("div",null,[s("h2",{class:"text-h2 mb-1"}," My Tasks "),s("p",{class:"text-body-1 text-medium-emphasis"}," Track and manage tasks assigned to you ")],-1)])),_:1,__:[4]})]),_:1}),t(C,{class:"mb-6"},{default:e(()=>[t(u,{cols:"12",md:"3"},{default:e(()=>[t(p,null,{default:e(()=>[t(_,{class:"d-flex align-center"},{default:e(()=>[t(k,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:e(()=>[t(c,{icon:"tabler-checklist",size:"26"})]),_:1}),s("div",Z,[a[5]||(a[5]=s("div",{class:"text-body-2 text-disabled"}," Total Tasks ",-1)),s("h4",tt,n(l(R)),1)])]),_:1})]),_:1})]),_:1}),t(u,{cols:"12",md:"3"},{default:e(()=>[t(p,null,{default:e(()=>[t(_,{class:"d-flex align-center"},{default:e(()=>[t(k,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:e(()=>[t(c,{icon:"tabler-check",size:"26"})]),_:1}),s("div",et,[a[6]||(a[6]=s("div",{class:"text-body-2 text-disabled"}," Completed ",-1)),s("h4",at,n(l(q)),1)])]),_:1})]),_:1})]),_:1}),t(u,{cols:"12",md:"3"},{default:e(()=>[t(p,null,{default:e(()=>[t(_,{class:"d-flex align-center"},{default:e(()=>[t(k,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:e(()=>[t(c,{icon:"tabler-clock",size:"26"})]),_:1}),s("div",st,[a[7]||(a[7]=s("div",{class:"text-body-2 text-disabled"}," In Progress ",-1)),s("h4",lt,n(l(L)),1)])]),_:1})]),_:1})]),_:1}),t(u,{cols:"12",md:"3"},{default:e(()=>[t(p,null,{default:e(()=>[t(_,{class:"d-flex align-center"},{default:e(()=>[t(k,{size:"44",rounded:"",color:"error",variant:"tonal"},{default:e(()=>[t(c,{icon:"tabler-alert-circle",size:"26"})]),_:1}),s("div",it,[a[8]||(a[8]=s("div",{class:"text-body-2 text-disabled"}," Due ",-1)),s("h4",ot,n(l(U)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(p,null,{default:e(()=>[t(G,{class:"pb-4"},{default:e(()=>[t(T,null,{default:e(()=>a[9]||(a[9]=[d("My Tasks")])),_:1,__:[9]})]),_:1}),t(y),t(K,{items:l(m),headers:$,class:"text-no-wrap","item-value":"id"},{"item.taskInfo":e(({item:r})=>[s("div",null,[s("h6",rt,n(r.title),1),s("div",nt,n(r.description),1)])]),"item.priority":e(({item:r})=>[t(v,{color:w(r.priority),size:"small",label:"",class:"text-capitalize"},{default:e(()=>[d(n(r.priority),1)]),_:2},1032,["color"])]),"item.status":e(({item:r})=>[t(v,{color:V(r.status),size:"small",label:"",class:"text-capitalize"},{default:e(()=>[d(n(r.status),1)]),_:2},1032,["color"])]),"item.actions":e(({item:r})=>[t(D,{icon:"",variant:"text",color:"medium-emphasis",size:"small"},{default:e(()=>[t(c,{icon:"tabler-dots-vertical"}),t(Q,{activator:"parent"},{default:e(()=>[t(X,null,{default:e(()=>[t(A,{onClick:O=>E(r)},{prepend:e(()=>[t(c,{icon:"tabler-eye"})]),default:e(()=>[t(I,null,{default:e(()=>a[10]||(a[10]=[d("View")])),_:1,__:[10]})]),_:2},1032,["onClick"]),t(A,{onClick:O=>F(r)},{prepend:e(()=>[t(c,{icon:"tabler-refresh"})]),default:e(()=>[t(I,null,{default:e(()=>a[11]||(a[11]=[d("Change Status")])),_:1,__:[11]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["items"])]),_:1}),t(P,{modelValue:l(g),"onUpdate:modelValue":a[1]||(a[1]=r=>S(g)?g.value=r:null),"max-width":"600"},{default:e(()=>[t(p,null,{default:e(()=>[t(T,{class:"text-h5 pa-6 pb-4"},{default:e(()=>a[12]||(a[12]=[d(" Task Details ")])),_:1,__:[12]}),t(y),l(i)?(h(),z(_,{key:0,class:"pa-6"},{default:e(()=>[t(C,null,{default:e(()=>[t(u,{cols:"12"},{default:e(()=>[s("h6",dt,n(l(i).title),1),s("p",ut,n(l(i).description),1)]),_:1}),t(u,{cols:"12",md:"6"},{default:e(()=>[a[13]||(a[13]=s("div",{class:"text-body-2 text-disabled mb-1"}," Category ",-1)),s("div",mt,n(l(i).category),1)]),_:1,__:[13]}),t(u,{cols:"12",md:"6"},{default:e(()=>[a[14]||(a[14]=s("div",{class:"text-body-2 text-disabled mb-1"}," Start Date ",-1)),s("div",ct,n(l(i).startDate),1)]),_:1,__:[14]}),t(u,{cols:"12",md:"6"},{default:e(()=>[a[15]||(a[15]=s("div",{class:"text-body-2 text-disabled mb-1"}," Due Date ",-1)),s("div",pt,n(l(i).dueDate),1)]),_:1,__:[15]}),t(u,{cols:"12",md:"6"},{default:e(()=>[a[16]||(a[16]=s("div",{class:"text-body-2 text-disabled mb-1"}," Priority ",-1)),t(v,{color:w(l(i).priority),size:"small",label:"",class:"text-capitalize"},{default:e(()=>[d(n(l(i).priority),1)]),_:1},8,["color"])]),_:1,__:[16]}),t(u,{cols:"12",md:"6"},{default:e(()=>[a[17]||(a[17]=s("div",{class:"text-body-2 text-disabled mb-1"}," Status ",-1)),t(v,{color:V(l(i).status),size:"small",label:"",class:"text-capitalize"},{default:e(()=>[d(n(l(i).status),1)]),_:1},8,["color"])]),_:1,__:[17]})]),_:1})]),_:1})):N("",!0),t(y),t(M,{class:"pa-6"},{default:e(()=>[t(B),t(D,{color:"secondary",variant:"tonal",onClick:a[0]||(a[0]=r=>g.value=!1)},{default:e(()=>a[18]||(a[18]=[d(" Close ")])),_:1,__:[18]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(P,{modelValue:l(f),"onUpdate:modelValue":a[3]||(a[3]=r=>S(f)?f.value=r:null),"max-width":"400"},{default:e(()=>[t(p,null,{default:e(()=>[t(T,{class:"text-h5 pa-6 pb-4"},{default:e(()=>a[19]||(a[19]=[d(" Change Task Status ")])),_:1,__:[19]}),t(y),l(i)?(h(),z(_,{key:0,class:"pa-6"},{default:e(()=>[s("div",ft,[s("h6",_t,n(l(i).title),1),s("div",gt,[a[20]||(a[20]=d(" Current Status: ")),t(v,{color:V(l(i).status),size:"small",label:"",class:"text-capitalize ml-2"},{default:e(()=>[d(n(l(i).status),1)]),_:1},8,["color"])])]),t(Y,{label:"New Status",items:[{title:"Pending",value:"pending"},{title:"In Progress",value:"in_progress"},{title:"Completed",value:"completed"}],"model-value":l(i).status,required:"","onUpdate:modelValue":H},null,8,["model-value"])]),_:1})):N("",!0),t(y),t(M,{class:"pa-6"},{default:e(()=>[t(B),t(D,{color:"secondary",variant:"tonal",onClick:a[2]||(a[2]=r=>f.value=!1)},{default:e(()=>a[21]||(a[21]=[d(" Cancel ")])),_:1,__:[21]})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}});export{Yt as default};
