import{d as ke,r as g,w as pe,g as h,f as s,b as t,t as c,b3 as lt,m as i,aR as A,l as P,e as a,ax as _,v as n,a9 as M,o as m,P as w,u as it,c as F,aF as H,j as ot,F as Y,i as nt,b5 as E}from"./main-gemCwVks.js";import{V as dt}from"./VDialog-6C-NQXCx.js";import{b as J,V as x,d as we,a as Z,c as ee}from"./VCard-DJ82mpnW.js";import{V as O}from"./VDivider-B4ry9pxl.js";import{V as b}from"./VCardText-BD5AHO-w.js";import{V as rt}from"./VForm-FUZpY-zG.js";import{V as $,a as y}from"./VRow-DiX7eN30.js";import{V as ut}from"./VTextField-BhxF6EAD.js";import{V as ct}from"./VTextarea-OEcL0zKK.js";import{V as mt}from"./VSelect-C9dxRhag.js";import{V as ft}from"./VFileInput-CB0ItP4X.js";import{V as Ve}from"./VSpacer-Cpeayo2U.js";import{_ as vt,a as pt}from"./DocumentActionModal.vue_vue_type_script_setup_true_lang-DxbtBu9M.js";import{_ as _t}from"./ViewTaskDialog.vue_vue_type_script_setup_true_lang-DR7wBnkT.js";import{_ as bt}from"./EditTaskDialog.vue_vue_type_script_setup_true_lang-CnXGptQS.js";import{_ as yt}from"./DeleteTaskDialog.vue_vue_type_script_setup_true_lang-fFIWZoVX.js";import{a as xt,V as G}from"./VTabs-CeX-zYGq.js";import{a as gt,V as X}from"./VWindowItem-CPQ2k3dD.js";import{V as N}from"./VChip-DlNApjyg.js";import{V as te}from"./VAlert-RufLsxZw.js";import{V as D}from"./VAvatar-12xz6mHy.js";import{V as de}from"./VDataTable-C-SlKz4P.js";import{V as ht}from"./VRating-Dk54Hej1.js";import"./VOverlay-p8m6-W96.js";import"./forwardRefs--KQCZfKO.js";import"./scopeId-BgtgI3QF.js";import"./VImg-DSB6m92Q.js";import"./dialog-transition-C9rYmnXC.js";import"./form-DjHlhIbZ.js";/* empty css              */import"./VField-CsHfcJSz.js";import"./VInput-B3GinL-f.js";import"./VList-MyW-iB3v.js";import"./VMenu-CeaiRCNz.js";import"./VCheckboxBtn-ZAK0D-Rf.js";import"./VSelectionControl-COVpGwiX.js";import"./VSlideGroup-CEWgOBQJ.js";import"./VTable-0Z68chLt.js";const kt={class:"flex-grow-1"},wt={class:"text-body-1 font-weight-medium"},Vt={class:"text-body-2 text-disabled"},Dt=ke({__name:"AddDocumentModal",props:{isDialogVisible:{type:Boolean}},emits:["update:isDialogVisible","documentAdded"],setup(_e,{emit:re}){const se=_e,I=re,f=g({title:"",description:"",type:"",file:null}),p=g(!1),U=g(),j=["FDD","Franchise Agreement","Operations Manual","Brand Guidelines","Legal Documents","Sales Report","Financial Statement","Marketing Materials","Training Materials","Quality Standards","Other"],V=k=>!!k||"This field is required",W=k=>!!k||"Please select a file",R=k=>{I("update:isDialogVisible",k)},z=()=>{f.value={title:"",description:"",type:"",file:null},U.value&&(U.value.value="")},q=k=>{const v=k.target;v.files&&v.files.length>0&&(f.value.file=v.files[0])},B=k=>{if(k===0)return"0 Bytes";const v=1024,T=["Bytes","KB","MB","GB"],L=Math.floor(Math.log(k)/Math.log(v));return`${Number.parseFloat((k/v**L).toFixed(2))} ${T[L]}`},C=()=>{if(p.value&&f.value.file){const k={id:Date.now(),title:f.value.title,description:f.value.description,type:f.value.type,fileName:f.value.file.name,fileSize:B(f.value.file.size),uploadDate:new Date().toISOString().split("T")[0],status:"pending",comment:"",file:f.value.file};I("documentAdded",k),z(),R(!1)}},K=()=>{z(),R(!1)};return pe(()=>se.isDialogVisible,k=>{k||z()}),(k,v)=>(m(),h(dt,{"model-value":se.isDialogVisible,"max-width":"600",persistent:"","onUpdate:modelValue":R},{default:s(()=>[t(x,null,{default:s(()=>[t(J,{class:"text-h5 pa-6 pb-4"},{default:s(()=>v[5]||(v[5]=[c(" Add Document ")])),_:1,__:[5]}),t(O),t(b,{class:"pa-6"},{default:s(()=>[t(rt,{modelValue:i(p),"onUpdate:modelValue":v[4]||(v[4]=T=>A(p)?p.value=T:null),onSubmit:lt(C,["prevent"])},{default:s(()=>[t($,null,{default:s(()=>[t(y,{cols:"12"},{default:s(()=>[t(ut,{modelValue:i(f).title,"onUpdate:modelValue":v[0]||(v[0]=T=>i(f).title=T),label:"Document Title",placeholder:"Enter document title",rules:[V],required:""},null,8,["modelValue","rules"])]),_:1}),t(y,{cols:"12"},{default:s(()=>[t(ct,{modelValue:i(f).description,"onUpdate:modelValue":v[1]||(v[1]=T=>i(f).description=T),label:"Description",placeholder:"Enter document description",rows:"3",rules:[V],required:""},null,8,["modelValue","rules"])]),_:1}),t(y,{cols:"12"},{default:s(()=>[t(mt,{modelValue:i(f).type,"onUpdate:modelValue":v[2]||(v[2]=T=>i(f).type=T),label:"Document Type",placeholder:"Select document type",items:j,rules:[V],required:""},null,8,["modelValue","rules"])]),_:1}),t(y,{cols:"12"},{default:s(()=>[t(ft,{ref_key:"fileInput",ref:U,label:"Select File",placeholder:"Choose a file to upload","prepend-icon":"tabler-paperclip",accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.jpg,.jpeg,.png",rules:[W],required:"",onChange:q},null,8,["rules"]),v[6]||(v[6]=a("div",{class:"text-caption text-disabled mt-2"}," Supported formats: PDF, DOC, DOCX, XLS, XLSX, PPT, PPTX, TXT, JPG, JPEG, PNG ",-1))]),_:1,__:[6]}),i(f).file?(m(),h(y,{key:0,cols:"12"},{default:s(()=>[t(x,{variant:"outlined"},{default:s(()=>[t(b,{class:"d-flex align-center gap-3"},{default:s(()=>[t(_,{icon:"tabler-file-text",size:"24",color:"primary"}),a("div",kt,[a("div",wt,n(i(f).file.name),1),a("div",Vt,n(B(i(f).file.size)),1)]),t(M,{icon:"",variant:"text",color:"error",size:"small",onClick:v[3]||(v[3]=T=>{i(f).file=null,i(U)&&(i(U).value="")})},{default:s(()=>[t(_,{icon:"tabler-x"})]),_:1})]),_:1})]),_:1})]),_:1})):P("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(O),t(we,{class:"pa-6"},{default:s(()=>[t(Ve),t(M,{color:"error",variant:"text",onClick:K},{default:s(()=>v[7]||(v[7]=[c(" Cancel ")])),_:1,__:[7]}),t(M,{color:"primary",disabled:!i(p),onClick:C},{default:s(()=>v[8]||(v[8]=[c(" Add Document ")])),_:1,__:[8]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}}),zt={key:0,class:"text-center py-12"},Tt={key:1,class:"text-center py-12"},St={class:"text-body-1 text-medium-emphasis mb-6"},Ct={key:2},Nt={class:"d-flex align-center justify-space-between"},Ft={class:"d-flex align-center gap-3"},Pt={class:"text-h2 mb-1"},$t={class:"text-body-1 text-medium-emphasis"},It={class:"mb-4"},Ut={class:"text-body-1 font-weight-medium"},Rt={class:"mb-4"},At={class:"text-body-1"},Mt={class:"mb-4"},Bt={class:"text-body-1"},Lt=["href"],Et={class:"mb-4"},jt={class:"text-body-1"},Ot={class:"mb-4"},qt={class:"text-body-1"},Ht={class:"mb-4"},Gt={class:"text-body-1 font-weight-medium text-success"},Xt={class:"mb-4"},Jt={class:"text-body-1"},Wt={class:"mb-4"},Kt={class:"text-body-1"},Qt={class:"text-center"},Yt={class:"ms-4"},Zt={class:"text-h4"},es={class:"ms-4"},ts={class:"text-h4"},ss={class:"ms-4"},as={class:"text-h4"},ls={class:"ms-4"},is={class:"text-h4"},os={class:"text-base font-weight-medium"},ns={class:"text-body-2 text-disabled"},ds={class:"text-center"},rs={class:"text-center"},us={class:"d-flex align-center mb-3"},cs={class:"text-h6"},ms={class:"text-body-2 text-disabled mb-0"},fs={class:"text-body-2 mb-3"},vs={class:"d-flex align-center justify-space-between mb-3"},ps={class:"text-body-2 text-disabled"},_s={class:"d-flex align-center justify-space-between mb-3"},bs={class:"text-body-2 text-disabled"},ys={class:"text-center"},xs={class:"text-center"},gs={class:"ms-4"},hs={class:"text-h4"},ks={class:"ms-4"},ws={class:"text-h4"},Vs={class:"ms-4"},Ds={class:"text-h4"},zs={class:"ms-4"},Ts={class:"text-h4"},Ss={class:"d-flex align-center"},Cs={class:"text-body-1 font-weight-medium"},Ns={class:"text-body-2 text-disabled"},Fs={class:"text-center"},Ps={class:"text-center"},$s={class:"ms-4"},Is={class:"text-h4"},Us={class:"ms-4"},Rs={class:"text-h4"},As={class:"ms-4"},Ms={class:"text-h4"},Bs={class:"ms-4"},Ls={class:"text-h4"},Es={class:"text-body-1 font-weight-medium"},js={class:"text-center"},Os={class:"text-center"},qs={class:"ms-4"},Hs={class:"text-h4"},Gs={class:"ms-4"},Xs={class:"text-h4"},Js={class:"ms-4"},Ws={class:"text-h4"},Ks={class:"ms-4"},Qs={class:"text-h4"},Ys={class:"text-body-1 font-weight-medium"},Zs={class:"text-body-2 text-disabled"},ea={key:0,class:"text-body-2 text-disabled"},ta={class:"d-flex align-center"},sa={class:"ms-2 text-body-2"},aa={class:"max-width-200"},la={class:"text-body-2 text-truncate mb-0"},ia={class:"text-body-2"},oa={class:"text-body-2 text-disabled"},na={class:"text-center"},Ga=ke({__name:"[id]",setup(_e){const re=ot(),se=it(),I=g("overview"),f=w(()=>se.params.id),p=g(null),U=g(!1),j=g(null),V=g([]),W=g(!1),R=g(null),z=g([]),q=g(!1),B=g(null),C=g([]),K=g(!1),k=g(null),v=g([]),T=g(!1),L=g(null),S=g([]),ue=g(!1),Q=g(null),ae=g(!1),ce=g(!1),le=g(!1),be=g(null),ye=g("approve"),me=g(!1),ie=g(!1),oe=g(!1),fe=g(null),xe=g(null),De=w(()=>V.value.length),ze=w(()=>V.value.filter(o=>o.status==="completed").length),Te=w(()=>V.value.filter(o=>o.status==="in_progress").length),Se=w(()=>{const o=new Date;return V.value.filter(e=>new Date(e.dueDate)<=o&&e.status!=="completed").length}),Ce=w(()=>C.value.length),Ne=w(()=>C.value.filter(o=>o.status==="working").length),Fe=w(()=>C.value.filter(o=>o.status==="leave").length),Pe=w(()=>v.value.length),$e=w(()=>v.value.reduce((o,e)=>o+e.stock,0)),Ie=w(()=>v.value.filter(o=>o.stock>0&&o.stock<=10).length),Ue=w(()=>v.value.filter(o=>o.stock===0).length),Re=w(()=>S.value.length===0?"0.0":(S.value.reduce((e,d)=>e+d.rating,0)/S.value.length).toFixed(1));w(()=>S.value.filter(o=>o.sentiment==="positive").length),w(()=>S.value.filter(o=>o.sentiment==="negative").length);const Ae=w(()=>S.value.length);w(()=>S.value.filter(o=>o.status==="published").length);const Me=w(()=>S.value.filter(o=>o.status==="draft").length),Be=w(()=>S.value.filter(o=>o.verified_purchase).length),Le=async()=>{var o,e,d,r,l;U.value=!0,j.value=null;try{const u=await E(`/v1/units/${f.value}`);u.success&&u.data?p.value={id:u.data.id,branchName:u.data.unit_name||"Unnamed Unit",franchiseeId:(o=u.data.franchisee)==null?void 0:o.id,franchiseeName:((e=u.data.franchisee)==null?void 0:e.name)||"Unassigned",email:((d=u.data.franchisee)==null?void 0:d.email)||"unassigned@example.com",contactNumber:((r=u.data.franchisee)==null?void 0:r.phone)||u.data.phone||"Not available",address:u.data.address||"Address not available",city:u.data.city||"Unknown",state:u.data.state_province||"Unknown",country:u.data.country||"Unknown",royaltyPercentage:8.5,contractStartDate:u.data.lease_start_date||"2024-01-01",renewalDate:u.data.lease_end_date||"2027-01-01",status:u.data.status||"inactive",type:u.data.unit_type||"other",sizeSqft:u.data.size_sqft||0,capacity:u.data.capacity||0,openingDate:u.data.opening_date||null,monthlyRent:u.data.monthly_rent||0}:j.value="Unit not found"}catch(u){console.error("Failed to load unit data:",u),j.value=((l=u==null?void 0:u.data)==null?void 0:l.message)||"Failed to load unit data",p.value=null}finally{U.value=!1}},Ee=async()=>{var o,e;if(f.value){W.value=!0,R.value=null;try{const d=await E(`/v1/tasks?unit_id=${f.value}`);d.success&&((o=d.data)!=null&&o.data)?V.value=d.data.data.map(r=>{var l;return{id:r.id,title:r.title,description:r.description||"",category:r.type||"General",assignedTo:((l=r.assigned_to_user)==null?void 0:l.name)||"Unassigned",startDate:r.started_at?new Date(r.started_at).toISOString().split("T")[0]:null,dueDate:r.due_date||null,priority:r.priority||"medium",status:r.status||"pending",estimatedHours:r.estimated_hours||0,actualHours:r.actual_hours||0,completionNotes:r.completion_notes||"",attachments:r.attachments||[]}}):V.value=[]}catch(d){console.error("Failed to load tasks data:",d),R.value=((e=d==null?void 0:d.data)==null?void 0:e.message)||"Failed to load tasks data",V.value=[]}finally{W.value=!1}}},je=async()=>{var o,e,d;if(!(!f.value||!p.value)){q.value=!0,B.value=null;try{const r=(o=p.value.franchise)==null?void 0:o.id;if(!r){z.value=[],q.value=!1;return}const l=await E(`/v1/franchises/${r}/documents`);l.success&&((e=l.data)!=null&&e.data)?z.value=l.data.data.map(u=>({id:u.id,title:u.name,description:u.description||"",fileName:u.file_name,fileSize:Ge(u.file_size||0),uploadDate:u.created_at?new Date(u.created_at).toISOString().split("T")[0]:"",type:u.type||"Document",status:u.status||"active",comment:"",filePath:u.file_path,franchiseId:u.franchise_id})):z.value=[]}catch(r){console.error("Failed to load documents data:",r),B.value=((d=r==null?void 0:r.data)==null?void 0:d.message)||"Failed to load documents data",z.value=[]}finally{q.value=!1}}},Oe=async()=>{var o;if(f.value){T.value=!0,L.value=null;try{const e=await E(`/v1/units/${f.value}/inventory`);e.data?v.value=e.data.map(d=>({id:d.id,name:d.name,description:d.description||"",unitPrice:Number(d.unit_price)||0,category:d.category||"General",status:"active",stock:Number(d.quantity)||0,sku:"",minimumStock:Number(d.reorder_level)||0})):v.value=[]}catch(e){console.error("Failed to load products data:",e),L.value=((o=e==null?void 0:e.data)==null?void 0:o.message)||"Failed to load products data",v.value=[]}finally{T.value=!1}}},qe=async()=>{var o;if(f.value){K.value=!0,k.value=null;try{const e=await E(`/v1/units/${f.value}/staff`);e.success&&e.data?C.value=e.data.map(d=>({id:d.id,name:d.name,jobTitle:d.jobTitle,email:d.email,shiftTime:d.shiftTime,status:d.status,phone:d.phone||"",avatar:"",lastLogin:null})):C.value=[]}catch(e){console.error("Failed to load staff data:",e),k.value=((o=e==null?void 0:e.data)==null?void 0:o.message)||"Failed to load staff data",C.value=[]}finally{K.value=!1}}},He=async()=>{var o,e;if(f.value){ue.value=!0,Q.value=null;try{const d=await E(`/v1/reviews?unit_id=${f.value}`);d.success&&((o=d.data)!=null&&o.data)?S.value=d.data.data.map(r=>{var l;return{id:r.id,customerName:r.customer_name,customerEmail:r.customer_email||"",customerPhone:r.customer_phone||"",rating:r.rating,comment:r.comment||"",date:r.review_date?new Date(r.review_date).toISOString().split("T")[0]:"",sentiment:r.sentiment,status:r.status,source:r.review_source,verifiedPurchase:r.verified_purchase,internalNotes:r.internal_notes||"",franchiseeName:((l=r.franchisee)==null?void 0:l.name)||"Unknown",addedDate:r.created_at?new Date(r.created_at).toISOString().split("T")[0]:""}}):S.value=[]}catch(d){console.error("Failed to load reviews data:",d),Q.value=((e=d==null?void 0:d.data)==null?void 0:e.message)||"Failed to load reviews data",S.value=[]}finally{ue.value=!1}}},Ge=o=>{if(o===0)return"0 Bytes";const e=1024,d=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(o)/Math.log(e));return`${Number.parseFloat((o/e**r).toFixed(2))} ${d[r]}`},ge=()=>{re.push("/franchisor/my-units")},ne=o=>o==="active"||o==="completed"||o==="approved"?"success":o==="pending"||o==="in_progress"?"warning":o==="inactive"||o==="rejected"?"error":"secondary",Xe=o=>o==="high"?"error":o==="medium"?"warning":o==="low"?"info":"secondary",he=(o,e)=>{be.value=o,ye.value=e,le.value=!0},Je=async o=>{var e;try{const d=((e=p.value)==null?void 0:e.franchiseeName)||o.assignedTo,r={title:o.title,description:o.description,category:o.category,priority:o.priority,status:o.status,unit_id:f.value,assigned_to:d,due_date:o.dueDate,estimated_hours:o.estimatedHours??0,actual_hours:o.actualHours??0},l=await E("/v1/tasks",{method:"POST",body:r});l.success?V.value.push(l.data):console.error("Failed to create task:",l.message)}catch(d){console.error("Error creating task:",d)}},We=o=>{z.value.push(o)},Ke=async o=>{var e,d;try{const r=((e=p.value.franchise)==null?void 0:e.id)||((d=z.value[0])==null?void 0:d.franchiseId);if(!r){console.error("Franchise ID not found for document approval");return}const l=o.action==="approve"?`/v1/franchises/${r}/documents/${o.document.id}/approve`:`/v1/franchises/${r}/documents/${o.document.id}/reject`,u=await E(l,{method:"PATCH",body:{comment:o.comment}});if(u.success){const ve=z.value.findIndex(at=>at.id===o.document.id);ve!==-1&&(z.value[ve].status=o.action==="approve"?"approved":"rejected",z.value[ve].comment=o.comment)}else console.error(`Failed to ${o.action} document:`,u)}catch(r){console.error(`Error ${o.action}ing document:`,r)}},Qe=o=>{const e=V.value.findIndex(d=>d.id===o.id);e!==-1&&(V.value[e]=o),ie.value=!1,fe.value=null},Ye=o=>{const e=V.value.findIndex(d=>d.id===o);e!==-1&&V.value.splice(e,1),oe.value=!1,xe.value=null},Ze=[{title:"Task Info",key:"taskInfo"},{title:"Category",key:"category"},{title:"Start Date",key:"startDate"},{title:"Due Date",key:"dueDate"},{title:"Priority",key:"priority"},{title:"Status",key:"status"}],et=[{title:"Name",key:"name"},{title:"Job Title",key:"jobTitle"},{title:"Email",key:"email"},{title:"Shift Time",key:"shiftTime"},{title:"Status",key:"status"}],tt=[{title:"Product Name",key:"name"},{title:"Description",key:"description"},{title:"Category",key:"category"},{title:"Unit Price",key:"unitPrice"},{title:"Stock",key:"stock"},{title:"Status",key:"status"}],st=[{title:"Customer",key:"customerName"},{title:"Rating",key:"rating"},{title:"Comment",key:"comment"},{title:"Source",key:"source"},{title:"Status",key:"status"},{title:"Added By",key:"franchiseeName"}];return pe(()=>f.value,()=>{f.value&&Le()},{immediate:!0}),pe(()=>p.value,()=>{p.value&&f.value&&(Ee(),je(),qe(),Oe(),He())},{immediate:!0}),(o,e)=>{var d,r;return m(),F("section",null,[i(U)?(m(),F("div",zt,[t(H,{indeterminate:"",size:"64",class:"mb-4"}),e[14]||(e[14]=a("h3",{class:"text-h3 mb-2"}," Loading Unit Details... ",-1)),e[15]||(e[15]=a("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the unit information. ",-1))])):i(j)||!i(p)?(m(),F("div",Tt,[t(_,{icon:"tabler-alert-circle",size:"64",class:"text-error mb-4"}),e[17]||(e[17]=a("h3",{class:"text-h3 mb-2"}," Error Loading Unit ",-1)),a("p",St,n(i(j)||"Unit not found or you don't have permission to view it."),1),t(M,{color:"primary","prepend-icon":"tabler-arrow-left",onClick:ge},{default:s(()=>e[16]||(e[16]=[c(" Back to Units ")])),_:1,__:[16]})])):(m(),F("div",Ct,[t($,{class:"mb-6"},{default:s(()=>[t(y,{cols:"12"},{default:s(()=>[a("div",Nt,[a("div",Ft,[t(M,{icon:"",variant:"text",color:"default",onClick:ge},{default:s(()=>[t(_,{icon:"tabler-arrow-left"})]),_:1}),a("div",null,[a("h2",Pt,n(i(p).branchName),1),a("p",$t," Managed by "+n(i(p).franchiseeName)+" â€¢ "+n(i(p).city)+", "+n(i(p).state),1)])]),t(N,{color:ne(i(p).status),size:"large",label:"",class:"text-capitalize"},{default:s(()=>[c(n(i(p).status),1)]),_:1},8,["color"])])]),_:1})]),_:1}),t(xt,{modelValue:i(I),"onUpdate:modelValue":e[0]||(e[0]=l=>A(I)?I.value=l:null),class:"mb-6"},{default:s(()=>[t(G,{value:"overview"},{default:s(()=>[t(_,{icon:"tabler-info-circle",start:""}),e[18]||(e[18]=c(" Overview "))]),_:1,__:[18]}),t(G,{value:"tasks"},{default:s(()=>[t(_,{icon:"tabler-checklist",start:""}),e[19]||(e[19]=c(" Tasks "))]),_:1,__:[19]}),t(G,{value:"documents"},{default:s(()=>[t(_,{icon:"tabler-files",start:""}),e[20]||(e[20]=c(" Documents "))]),_:1,__:[20]}),t(G,{value:"staffs"},{default:s(()=>[t(_,{icon:"tabler-users",start:""}),e[21]||(e[21]=c(" Staffs "))]),_:1,__:[21]}),t(G,{value:"inventory"},{default:s(()=>[t(_,{icon:"tabler-package",start:""}),e[22]||(e[22]=c(" Inventory Management "))]),_:1,__:[22]}),t(G,{value:"reviews"},{default:s(()=>[t(_,{icon:"tabler-star",start:""}),e[23]||(e[23]=c(" Customer Reviews "))]),_:1,__:[23]})]),_:1},8,["modelValue"]),t(gt,{modelValue:i(I),"onUpdate:modelValue":e[7]||(e[7]=l=>A(I)?I.value=l:null),class:"disable-tab-transition"},{default:s(()=>[t(X,{value:"overview"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,null,{default:s(()=>[t($,null,{default:s(()=>[t(y,{cols:"12"},{default:s(()=>[e[29]||(e[29]=a("h4",{class:"text-h6 mb-4"}," Basic Information ",-1)),t(x,{variant:"outlined"},{default:s(()=>[t(b,null,{default:s(()=>[t($,null,{default:s(()=>[t(y,{cols:"12",md:"6"},{default:s(()=>[a("div",It,[e[24]||(e[24]=a("div",{class:"text-sm text-disabled mb-1"}," Branch Name ",-1)),a("div",Ut,n(i(p).branchName),1)])]),_:1}),t(y,{cols:"12",md:"6"},{default:s(()=>[a("div",Rt,[e[25]||(e[25]=a("div",{class:"text-sm text-disabled mb-1"}," Franchisee Name ",-1)),a("div",At,n(i(p).franchiseeName),1)])]),_:1}),t(y,{cols:"12",md:"6"},{default:s(()=>[a("div",Mt,[e[26]||(e[26]=a("div",{class:"text-sm text-disabled mb-1"}," Email Address ",-1)),a("div",Bt,[a("a",{href:`mailto:${i(p).email}`,class:"text-primary"},n(i(p).email),9,Lt)])])]),_:1}),t(y,{cols:"12",md:"6"},{default:s(()=>[a("div",Et,[e[27]||(e[27]=a("div",{class:"text-sm text-disabled mb-1"}," Contact Number ",-1)),a("div",jt,n(i(p).contactNumber),1)])]),_:1}),t(y,{cols:"12"},{default:s(()=>[a("div",Ot,[e[28]||(e[28]=a("div",{class:"text-sm text-disabled mb-1"}," Address ",-1)),a("div",qt,n(i(p).address)+", "+n(i(p).city)+", "+n(i(p).state)+", "+n(i(p).country),1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1,__:[29]}),t(y,{cols:"12"},{default:s(()=>[e[33]||(e[33]=a("h4",{class:"text-h6 mb-4"}," Franchisee Details ",-1)),t(x,{variant:"outlined"},{default:s(()=>[t(b,null,{default:s(()=>[t($,null,{default:s(()=>[t(y,{cols:"12",md:"4"},{default:s(()=>[a("div",Ht,[e[30]||(e[30]=a("div",{class:"text-sm text-disabled mb-1"}," Royalty Percentage ",-1)),a("div",Gt,n(i(p).royaltyPercentage)+"% ",1)])]),_:1}),t(y,{cols:"12",md:"4"},{default:s(()=>[a("div",Xt,[e[31]||(e[31]=a("div",{class:"text-sm text-disabled mb-1"}," Contract Start Date ",-1)),a("div",Jt,n(i(p).contractStartDate),1)])]),_:1}),t(y,{cols:"12",md:"4"},{default:s(()=>[a("div",Wt,[e[32]||(e[32]=a("div",{class:"text-sm text-disabled mb-1"}," Renewal Date ",-1)),a("div",Kt,n(i(p).renewalDate),1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1,__:[33]})]),_:1})]),_:1})]),_:1})]),_:1}),t(X,{value:"tasks"},{default:s(()=>[i(R)?(m(),h(te,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[1]||(e[1]=l=>R.value=null)},{default:s(()=>[c(n(i(R)),1)]),_:1})):P("",!0),i(W)?(m(),h(x,{key:1,class:"mb-6"},{default:s(()=>[t(b,{class:"py-8"},{default:s(()=>[a("div",Qt,[t(H,{indeterminate:"",size:"48",class:"mb-4"}),e[34]||(e[34]=a("h4",{class:"text-h4 mb-2"}," Loading Tasks... ",-1)),e[35]||(e[35]=a("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the task information. ",-1))])]),_:1})]),_:1})):(m(),F(Y,{key:2},[t($,{class:"mb-6"},{default:s(()=>[t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(D,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-checklist",size:"26"})]),_:1}),a("div",Yt,[e[36]||(e[36]=a("div",{class:"text-body-2 text-disabled"}," Total Tasks ",-1)),a("h4",Zt,n(i(De)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(D,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-check",size:"26"})]),_:1}),a("div",es,[e[37]||(e[37]=a("div",{class:"text-body-2 text-disabled"}," Completed ",-1)),a("h4",ts,n(i(ze)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(D,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-clock",size:"26"})]),_:1}),a("div",ss,[e[38]||(e[38]=a("div",{class:"text-body-2 text-disabled"}," In Progress ",-1)),a("h4",as,n(i(Te)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(D,{size:"44",rounded:"",color:"error",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-alert-circle",size:"26"})]),_:1}),a("div",ls,[e[39]||(e[39]=a("div",{class:"text-body-2 text-disabled"}," Due ",-1)),a("h4",is,n(i(Se)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(x,null,{default:s(()=>[t(Z,{class:"pb-4"},{append:s(()=>[t(M,{color:"primary","prepend-icon":"tabler-plus",onClick:e[2]||(e[2]=l=>ae.value=!0)},{default:s(()=>e[42]||(e[42]=[c(" Create Task ")])),_:1,__:[42]})]),default:s(()=>[a("div",null,[t(J,null,{default:s(()=>e[40]||(e[40]=[c("Tasks")])),_:1,__:[40]}),t(ee,{class:"text-body-2 text-disabled"},{default:s(()=>e[41]||(e[41]=[c(" Create and manage tasks for this unit ")])),_:1,__:[41]})])]),_:1}),t(O),i(V).length>0?(m(),h(de,{key:0,items:i(V),headers:Ze,class:"text-no-wrap","item-value":"id"},{"item.taskInfo":s(({item:l})=>[a("div",null,[a("h6",os,n(l.title),1),a("div",ns,n(l.description),1)])]),"item.priority":s(({item:l})=>[t(N,{color:Xe(l.priority),size:"small",label:"",class:"text-capitalize"},{default:s(()=>[c(n(l.priority),1)]),_:2},1032,["color"])]),"item.status":s(({item:l})=>[t(N,{color:ne(l.status),size:"small",label:"",class:"text-capitalize"},{default:s(()=>[c(n(l.status),1)]),_:2},1032,["color"])]),_:1},8,["items"])):(m(),h(b,{key:1,class:"py-8"},{default:s(()=>[a("div",ds,[t(_,{icon:"tabler-checklist",size:"64",class:"text-disabled mb-4"}),e[43]||(e[43]=a("h4",{class:"text-h4 mb-2"}," No Tasks Found ",-1)),e[44]||(e[44]=a("p",{class:"text-body-1 text-medium-emphasis"}," There are no tasks assigned to this unit yet. The franchisee can create tasks to manage operations. ",-1))])]),_:1}))]),_:1})],64))]),_:1}),t(X,{value:"documents"},{default:s(()=>[i(B)?(m(),h(te,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[3]||(e[3]=l=>B.value=null)},{default:s(()=>[c(n(i(B)),1)]),_:1})):P("",!0),i(q)?(m(),h(x,{key:1},{default:s(()=>[t(b,{class:"py-8"},{default:s(()=>[a("div",rs,[t(H,{indeterminate:"",size:"48",class:"mb-4"}),e[45]||(e[45]=a("h4",{class:"text-h4 mb-2"}," Loading Documents... ",-1)),e[46]||(e[46]=a("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the document information. ",-1))])]),_:1})]),_:1})):(m(),h(x,{key:2},{default:s(()=>[t(Z,{class:"pb-4"},{default:s(()=>[t(J,null,{default:s(()=>e[47]||(e[47]=[c("Unit Documents")])),_:1,__:[47]}),t(ee,{class:"text-body-2 text-disabled"},{default:s(()=>e[48]||(e[48]=[c(" Review and approve documents uploaded by franchisees ")])),_:1,__:[48]})]),_:1}),t(O),i(z).length>0?(m(),h(b,{key:0},{default:s(()=>[t($,null,{default:s(()=>[(m(!0),F(Y,null,nt(i(z),l=>(m(),h(y,{key:l.id,cols:"12",md:"6",lg:"4"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,null,{default:s(()=>[a("div",us,[t(_,{icon:"tabler-file-text",size:"24",color:"primary",class:"me-3"}),a("div",null,[a("h6",cs,n(l.title),1),a("p",ms,n(l.type),1)])]),a("p",fs,n(l.description),1),a("div",vs,[a("span",ps,n(l.fileName),1),t(N,{size:"small",color:"secondary"},{default:s(()=>[c(n(l.fileSize),1)]),_:2},1024)]),a("div",_s,[a("span",bs,n(l.uploadDate),1),t(N,{color:ne(l.status),size:"small",label:"",class:"text-capitalize"},{default:s(()=>[c(n(l.status),1)]),_:2},1032,["color"])])]),_:2},1024),t(we,null,{default:s(()=>[t(M,{size:"small",variant:"text",color:"primary","prepend-icon":"tabler-download"},{default:s(()=>e[49]||(e[49]=[c(" Download ")])),_:1,__:[49]}),t(Ve),l.status==="active"?(m(),h(M,{key:0,size:"small",variant:"text",color:"success",onClick:u=>he(l,"approve")},{default:s(()=>e[50]||(e[50]=[c(" Approve ")])),_:2,__:[50]},1032,["onClick"])):P("",!0),l.status==="active"?(m(),h(M,{key:1,size:"small",variant:"text",color:"error",onClick:u=>he(l,"reject")},{default:s(()=>e[51]||(e[51]=[c(" Reject ")])),_:2,__:[51]},1032,["onClick"])):P("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(m(),h(b,{key:1,class:"py-8"},{default:s(()=>[a("div",ys,[t(_,{icon:"tabler-files",size:"64",class:"text-disabled mb-4"}),e[52]||(e[52]=a("h4",{class:"text-h4 mb-2"}," No Documents Found ",-1)),e[53]||(e[53]=a("p",{class:"text-body-1 text-medium-emphasis"}," There are no documents uploaded for this unit yet. The franchisee can upload important documents and files. ",-1))])]),_:1}))]),_:1}))]),_:1}),t(X,{value:"staffs"},{default:s(()=>[i(k)?(m(),h(te,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[4]||(e[4]=l=>k.value=null)},{default:s(()=>[c(n(i(k)),1)]),_:1})):P("",!0),i(K)?(m(),h(x,{key:1,class:"mb-6"},{default:s(()=>[t(b,{class:"py-8"},{default:s(()=>[a("div",xs,[t(H,{indeterminate:"",size:"48",class:"mb-4"}),e[54]||(e[54]=a("h4",{class:"text-h4 mb-2"}," Loading Staff... ",-1)),e[55]||(e[55]=a("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the staff information. ",-1))])]),_:1})]),_:1})):(m(),F(Y,{key:2},[t($,{class:"mb-6"},{default:s(()=>[t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(D,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-users",size:"26"})]),_:1}),a("div",gs,[e[56]||(e[56]=a("div",{class:"text-body-2 text-disabled"}," Total Staff ",-1)),a("h4",hs,n(i(Ce)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(D,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-user-check",size:"26"})]),_:1}),a("div",ks,[e[57]||(e[57]=a("div",{class:"text-body-2 text-disabled"}," Working ",-1)),a("h4",ws,n(i(Ne)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(D,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-calendar-off",size:"26"})]),_:1}),a("div",Vs,[e[58]||(e[58]=a("div",{class:"text-body-2 text-disabled"}," On Leave ",-1)),a("h4",Ds,n(i(Fe)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(D,{size:"44",rounded:"",color:"info",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-user-plus",size:"26"})]),_:1}),a("div",zs,[e[59]||(e[59]=a("div",{class:"text-body-2 text-disabled"}," Active ",-1)),a("h4",Ts,n(i(C).filter(l=>l.status==="working").length),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(x,null,{default:s(()=>[t(Z,{class:"pb-4"},{default:s(()=>[t(J,null,{default:s(()=>e[60]||(e[60]=[c("Staff Members")])),_:1,__:[60]}),t(ee,{class:"text-body-2 text-disabled"},{default:s(()=>e[61]||(e[61]=[c(" View-only access - Staff management is handled by franchisees ")])),_:1,__:[61]})]),_:1}),t(O),i(C).length>0?(m(),h(de,{key:0,items:i(C),headers:et,class:"text-no-wrap","item-value":"id"},{"item.name":s(({item:l})=>[a("div",Ss,[t(D,{size:"32",image:l.avatar,class:"me-3"},{default:s(()=>[l.avatar?P("",!0):(m(),h(_,{key:0,icon:"tabler-user"}))]),_:2},1032,["image"]),a("div",null,[a("div",Cs,n(l.name),1),a("div",Ns,n(l.phone||"No phone"),1)])])]),"item.jobTitle":s(({item:l})=>[t(N,{size:"small",color:"primary",variant:"tonal",label:""},{default:s(()=>[c(n(l.jobTitle),1)]),_:2},1024)]),"item.status":s(({item:l})=>[t(N,{color:l.status==="working"?"success":"warning",size:"small",label:"",class:"text-capitalize"},{default:s(()=>[c(n(l.status),1)]),_:2},1032,["color"])]),_:1},8,["items"])):(m(),h(b,{key:1,class:"py-8"},{default:s(()=>[a("div",Fs,[t(_,{icon:"tabler-users",size:"64",class:"text-disabled mb-4"}),e[62]||(e[62]=a("h4",{class:"text-h4 mb-2"}," No Staff Members Found ",-1)),e[63]||(e[63]=a("p",{class:"text-body-1 text-medium-emphasis"}," There are no staff members assigned to this franchise yet. The franchisee can manage staff assignments and roles. ",-1))])]),_:1}))]),_:1})],64))]),_:1}),t(X,{value:"inventory"},{default:s(()=>[i(L)?(m(),h(te,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[5]||(e[5]=l=>L.value=null)},{default:s(()=>[c(n(i(L)),1)]),_:1})):P("",!0),i(T)?(m(),h(x,{key:1,class:"mb-6"},{default:s(()=>[t(b,{class:"py-8"},{default:s(()=>[a("div",Ps,[t(H,{indeterminate:"",size:"48",class:"mb-4"}),e[64]||(e[64]=a("h4",{class:"text-h4 mb-2"}," Loading Inventory... ",-1)),e[65]||(e[65]=a("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the inventory information. ",-1))])]),_:1})]),_:1})):(m(),F(Y,{key:2},[t($,{class:"mb-6"},{default:s(()=>[t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(D,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-package",size:"26"})]),_:1}),a("div",$s,[e[66]||(e[66]=a("div",{class:"text-body-2 text-disabled"}," Total Products ",-1)),a("h4",Is,n(i(Pe)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(D,{size:"44",rounded:"",color:"info",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-stack",size:"26"})]),_:1}),a("div",Us,[e[67]||(e[67]=a("div",{class:"text-body-2 text-disabled"}," Total Stock ",-1)),a("h4",Rs,n(i($e)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(D,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-alert-triangle",size:"26"})]),_:1}),a("div",As,[e[68]||(e[68]=a("div",{class:"text-body-2 text-disabled"}," Low Stock ",-1)),a("h4",Ms,n(i(Ie)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(D,{size:"44",rounded:"",color:"error",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-x",size:"26"})]),_:1}),a("div",Bs,[e[69]||(e[69]=a("div",{class:"text-body-2 text-disabled"}," Out of Stock ",-1)),a("h4",Ls,n(i(Ue)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(x,null,{default:s(()=>[t(Z,{class:"pb-4"},{default:s(()=>[t(J,null,{default:s(()=>e[70]||(e[70]=[c("Inventory")])),_:1,__:[70]}),t(ee,{class:"text-body-2 text-disabled"},{default:s(()=>e[71]||(e[71]=[c(" View-only access - Product management is handled by franchisees ")])),_:1,__:[71]})]),_:1}),t(O),i(v).length>0?(m(),h(de,{key:0,items:i(v),headers:tt,class:"text-no-wrap","item-value":"id"},{"item.unitPrice":s(({item:l})=>[a("div",Es," SAR "+n(l.unitPrice.toFixed(2)),1)]),"item.stock":s(({item:l})=>[t(N,{color:l.stock===0?"error":l.stock<=10?"warning":"success",size:"small",label:""},{default:s(()=>[c(n(l.stock),1)]),_:2},1032,["color"])]),"item.status":s(({item:l})=>[t(N,{color:ne(l.status),size:"small",label:"",class:"text-capitalize"},{default:s(()=>[c(n(l.status),1)]),_:2},1032,["color"])]),_:1},8,["items"])):(m(),h(b,{key:1,class:"py-8"},{default:s(()=>[a("div",js,[t(_,{icon:"tabler-package",size:"64",class:"text-disabled mb-4"}),e[72]||(e[72]=a("h4",{class:"text-h4 mb-2"}," No Products Found ",-1)),e[73]||(e[73]=a("p",{class:"text-body-1 text-medium-emphasis"}," There are no products in the inventory for this unit yet. The franchisee can manage products and stock levels. ",-1))])]),_:1}))]),_:1})],64))]),_:1}),t(X,{value:"reviews"},{default:s(()=>[i(Q)?(m(),h(te,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[6]||(e[6]=l=>Q.value=null)},{default:s(()=>[c(n(i(Q)),1)]),_:1})):P("",!0),i(ue)?(m(),h(x,{key:1,class:"mb-6"},{default:s(()=>[t(b,{class:"py-8"},{default:s(()=>[a("div",Os,[t(H,{indeterminate:"",size:"48",class:"mb-4"}),e[74]||(e[74]=a("h4",{class:"text-h4 mb-2"}," Loading Reviews... ",-1)),e[75]||(e[75]=a("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the review information. ",-1))])]),_:1})]),_:1})):(m(),F(Y,{key:2},[t($,{class:"mb-6"},{default:s(()=>[t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(D,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-star",size:"26"})]),_:1}),a("div",qs,[e[76]||(e[76]=a("div",{class:"text-body-2 text-disabled"}," Total Reviews ",-1)),a("h4",Hs,n(i(Ae)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(D,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-star",size:"26"})]),_:1}),a("div",Gs,[e[77]||(e[77]=a("div",{class:"text-body-2 text-disabled"}," Avg Rating ",-1)),a("h4",Xs,n(i(Re)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(D,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-file-text",size:"26"})]),_:1}),a("div",Js,[e[78]||(e[78]=a("div",{class:"text-body-2 text-disabled"}," Draft ",-1)),a("h4",Ws,n(i(Me)),1)])]),_:1})]),_:1})]),_:1}),t(y,{cols:"12",md:"3"},{default:s(()=>[t(x,null,{default:s(()=>[t(b,{class:"d-flex align-center"},{default:s(()=>[t(D,{size:"44",rounded:"",color:"info",variant:"tonal"},{default:s(()=>[t(_,{icon:"tabler-check",size:"26"})]),_:1}),a("div",Ks,[e[79]||(e[79]=a("div",{class:"text-body-2 text-disabled"}," Verified ",-1)),a("h4",Qs,n(i(Be)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(x,null,{default:s(()=>[t(Z,{class:"pb-4"},{default:s(()=>[t(J,null,{default:s(()=>e[80]||(e[80]=[c("Customer Reviews")])),_:1,__:[80]}),t(ee,{class:"text-body-2 text-disabled"},{default:s(()=>e[81]||(e[81]=[c(" View-only access - Customer review management is handled by franchisees ")])),_:1,__:[81]})]),_:1}),t(O),i(S).length>0?(m(),h(de,{key:0,items:i(S),headers:st,class:"text-no-wrap","item-value":"id"},{"item.customerName":s(({item:l})=>[a("div",null,[a("div",Ys,n(l.customerName),1),a("div",Zs,n(l.customerEmail||"No email"),1),l.customerPhone?(m(),F("div",ea,n(l.customerPhone),1)):P("",!0)])]),"item.rating":s(({item:l})=>[a("div",ta,[t(ht,{"model-value":l.rating,density:"compact",size:"small",readonly:"",color:"warning"},null,8,["model-value"]),a("span",sa,"("+n(l.rating)+")",1)])]),"item.comment":s(({item:l})=>[a("div",aa,[a("p",la,n(l.comment||"No comment"),1)])]),"item.source":s(({item:l})=>[t(N,{size:"small",color:"secondary",variant:"tonal",label:"",class:"text-capitalize"},{default:s(()=>{var u;return[c(n((u=l.source)==null?void 0:u.replace("_"," ")),1)]}),_:2},1024)]),"item.status":s(({item:l})=>[t(N,{color:l.status==="published"?"success":l.status==="draft"?"warning":"secondary",size:"small",label:"",class:"text-capitalize"},{default:s(()=>[c(n(l.status),1)]),_:2},1032,["color"])]),"item.franchiseeName":s(({item:l})=>[a("div",null,[a("div",ia,n(l.franchiseeName),1),a("div",oa,n(l.addedDate),1)])]),_:1},8,["items"])):(m(),h(b,{key:1,class:"py-8"},{default:s(()=>[a("div",na,[t(_,{icon:"tabler-star",size:"64",class:"text-disabled mb-4"}),e[82]||(e[82]=a("h4",{class:"text-h4 mb-2"}," No Customer Reviews Found ",-1)),e[83]||(e[83]=a("p",{class:"text-body-1 text-medium-emphasis"}," There are no customer reviews for this unit yet. The franchisee can add and manage customer feedback to build reputation. ",-1))])]),_:1}))]),_:1})],64))]),_:1})]),_:1},8,["modelValue"]),t(vt,{"is-dialog-visible":i(ae),"onUpdate:isDialogVisible":e[8]||(e[8]=l=>A(ae)?ae.value=l:null),"current-tab":"franchisee","default-assigned-to":(r=(d=i(p))==null?void 0:d.franchiseeId)==null?void 0:r.toString(),"unit-id":i(f),"disable-assigned-to":!0,onTaskCreated:Je},null,8,["is-dialog-visible","default-assigned-to","unit-id"]),t(Dt,{"is-dialog-visible":i(ce),"onUpdate:isDialogVisible":e[9]||(e[9]=l=>A(ce)?ce.value=l:null),onDocumentAdded:We},null,8,["is-dialog-visible"]),t(pt,{"is-dialog-visible":i(le),"onUpdate:isDialogVisible":e[10]||(e[10]=l=>A(le)?le.value=l:null),document:i(be),action:i(ye),onDocumentActionConfirmed:Ke},null,8,["is-dialog-visible","document","action"]),t(_t,{"is-dialog-visible":i(me),"onUpdate:isDialogVisible":e[11]||(e[11]=l=>A(me)?me.value=l:null),task:i(fe)},null,8,["is-dialog-visible","task"]),t(bt,{"is-dialog-visible":i(ie),"onUpdate:isDialogVisible":e[12]||(e[12]=l=>A(ie)?ie.value=l:null),task:i(fe),"user-options":[],"users-loading":!1,onTaskUpdated:Qe},null,8,["is-dialog-visible","task"]),t(yt,{"is-dialog-visible":i(oe),"onUpdate:isDialogVisible":e[13]||(e[13]=l=>A(oe)?oe.value=l:null),"task-id":i(xe),onTaskDeleted:Ye},null,8,["is-dialog-visible","task-id"])]))])}}});export{Ga as default};
