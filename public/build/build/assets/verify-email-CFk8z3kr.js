import{d as C,c2 as w,r,G as T,aL as M,aO as B,a as L,c as N,o as p,e as t,b as o,aA as _,m as e,f as n,H as v,v as d,g as y,l as k,t as l,a3 as A,aM as R,x as S}from"./main-DDcdwm3V.js";import{a as j,b as D}from"./auth-v1-top-shape-gPxasD3d.js";import{V as f}from"./VNodeRenderer-6m_wUKbB.js";import{a as E,b as H,V as G}from"./VCard-Da4wWZa-.js";import{V as I}from"./VCardText-ATWVip1e.js";import{V as g}from"./VAlert-CP8IXMK2.js";import"./VAvatar-C3D4PMay.js";import"./VImg-NWIUnknk.js";const z={class:"auth-wrapper d-flex align-center justify-center pa-4"},F={class:"position-relative my-sm-16"},O={class:"app-logo"},P={class:"app-logo-title"},U={class:"text-body-1 mb-0"},$={class:"font-weight-medium text-high-emphasis"},q={class:"d-flex align-center justify-center"},se=C({__name:"verify-email",setup(J){const{smAndUp:V}=w(),h=r(null),u=r(!1),i=r(null),m=r(null);T(async()=>{var a;if(M("accessToken").value){u.value=!0;try{const s=await B("/auth/me",{method:"GET"});h.value=s.data.user.email}catch(s){const c=(s==null?void 0:s.data)||((a=s==null?void 0:s.response)==null?void 0:a._data)||null;m.value=(c==null?void 0:c.message)||"Failed to load user info."}finally{u.value=!1}}});const x=async()=>{i.value="If your email is registered, a verification link will be resent shortly.",setTimeout(()=>{i.value=null},3e3)};return(b,a)=>{const s=L("RouterLink");return p(),N("div",z,[t("div",F,[o(e(f),{nodes:_("div",{innerHTML:e(j)}),class:"text-primary auth-v1-top-shape d-none d-sm-block"},null,8,["nodes"]),o(e(f),{nodes:_("div",{innerHTML:e(D)}),class:"text-primary auth-v1-bottom-shape d-none d-sm-block"},null,8,["nodes"]),o(G,{class:S(["auth-card",e(V)?"pa-6":"pa-2"]),"max-width":"460"},{default:n(()=>[o(E,{class:"justify-center"},{default:n(()=>[o(H,null,{default:n(()=>[o(s,{to:"/"},{default:n(()=>[t("div",O,[o(e(f),{nodes:e(v).app.logo},null,8,["nodes"]),t("h1",P,d(e(v).app.title),1)])]),_:1})]),_:1})]),_:1}),o(I,null,{default:n(()=>[a[4]||(a[4]=t("h4",{class:"text-h4 mb-1"}," Verify your email ✉️ ",-1)),e(m)?(p(),y(g,{key:0,type:"error",variant:"tonal",class:"mb-4"},{default:n(()=>[l(d(e(m)),1)]),_:1})):k("",!0),e(i)?(p(),y(g,{key:1,type:"info",variant:"tonal",class:"mb-4"},{default:n(()=>[l(d(e(i)),1)]),_:1})):k("",!0),t("p",U,[a[0]||(a[0]=l(" Account activation link sent to your email address: ")),t("span",$,d(e(h)||"hello@example.com"),1),a[1]||(a[1]=l(" Please follow the link inside to continue. "))]),o(A,{block:"",to:"/",class:"my-5",loading:e(u)},{default:n(()=>a[2]||(a[2]=[l(" Skip for now ")])),_:1,__:[2]},8,["loading"]),t("div",q,[a[3]||(a[3]=t("span",{class:"me-1"},"Didn't get the mail? ",-1)),t("a",{href:"#",onClick:R(x,["prevent"])},"Resend")])]),_:1,__:[4]})]),_:1},8,["class"])])])}}});export{se as default};
