import{r as u,e as U}from"./validators-BHkKs9Dp.js";import{d as C,r as c,w as S,g as _,f as r,b as l,b3 as A,m as t,aR as M,a9 as D,t as b,v as O,o as g}from"./main-B8QbR-yS.js";import{_ as R}from"./AppSelect.vue_vue_type_script_setup_true_lang-DOrgpFkU.js";import{_ as T}from"./AppTextField.vue_vue_type_script_setup_true_lang-Dp8jGCw7.js";import{a as $}from"./ViewUserDialog.vue_vue_type_script_setup_true_lang-D1RUUrFT.js";import{V as B}from"./VNavigationDrawer-DZYVM1KO.js";import{V as E}from"./VDivider-DOfIMbJY.js";import{V as J}from"./VCardText-Cbtr6Qhr.js";import{V as K}from"./VForm-C9sxpau4.js";import{V as P,a as d}from"./VRow-LlT6Azsr.js";import{V as j}from"./VCard-D9PhtsJ0.js";const ee=C({__name:"AddEditFranchiseeDrawer",props:{isDrawerOpen:{type:Boolean},franchisee:{default:void 0}},emits:["update:isDrawerOpen","franchiseeData"],setup(q,{emit:N}){const s=q,n=N,m=c(!1),p=c(),o=c({id:null,fullName:"",email:"",phone:"",location:"",status:"active",avatar:""}),k=[{title:"Active",value:"active"},{title:"Pending",value:"pending"},{title:"Inactive",value:"inactive"}],F=[{title:"Riyadh",value:"Riyadh"},{title:"Jeddah",value:"Jeddah"},{title:"Makkah",value:"Makkah"},{title:"Madinah",value:"Madinah"},{title:"Dammam",value:"Dammam"},{title:"Khobar",value:"Khobar"},{title:"Tabuk",value:"Tabuk"}],f=()=>{var e;o.value={id:null,fullName:"",email:"",phone:"",location:"",status:"active",avatar:""},(e=p.value)==null||e.reset()};S(()=>s.franchisee,e=>{e?o.value={id:e.id,fullName:e.fullName,email:e.email,phone:e.phone,location:e.location,status:e.status,avatar:e.avatar||""}:f()},{immediate:!0});const w=()=>{var e;(e=p.value)==null||e.validate().then(({valid:a})=>{a&&(n("franchiseeData",{...o.value}),n("update:isDrawerOpen",!1),f())})},V=e=>{n("update:isDrawerOpen",e),e||f()};return(e,a)=>{const y=$,v=T,h=R;return g(),_(B,{temporary:"",location:"end","model-value":s.isDrawerOpen,width:"400","onUpdate:modelValue":V},{default:r(()=>[l(y,{title:s.franchisee?"Edit Franchisee":"Add New Franchisee",onCancel:a[0]||(a[0]=i=>V(!1))},null,8,["title"]),l(E),l(j,{flat:""},{default:r(()=>[l(J,null,{default:r(()=>[l(K,{ref_key:"refForm",ref:p,modelValue:t(m),"onUpdate:modelValue":a[7]||(a[7]=i=>M(m)?m.value=i:null),onSubmit:A(w,["prevent"])},{default:r(()=>[l(P,null,{default:r(()=>[l(d,{cols:"12"},{default:r(()=>[l(v,{modelValue:t(o).fullName,"onUpdate:modelValue":a[1]||(a[1]=i=>t(o).fullName=i),label:"Full Name",placeholder:"Jane Smith",rules:["requiredValidator"in e?e.requiredValidator:t(u)]},null,8,["modelValue","rules"])]),_:1}),l(d,{cols:"12"},{default:r(()=>[l(v,{modelValue:t(o).email,"onUpdate:modelValue":a[2]||(a[2]=i=>t(o).email=i),label:"Email",type:"email",placeholder:"jane.smith@example.com",rules:["requiredValidator"in e?e.requiredValidator:t(u),"emailValidator"in e?e.emailValidator:t(U)]},null,8,["modelValue","rules"])]),_:1}),l(d,{cols:"12"},{default:r(()=>[l(v,{modelValue:t(o).phone,"onUpdate:modelValue":a[3]||(a[3]=i=>t(o).phone=i),label:"Phone",placeholder:"+966 50 123 4567",rules:["requiredValidator"in e?e.requiredValidator:t(u)]},null,8,["modelValue","rules"])]),_:1}),l(d,{cols:"12"},{default:r(()=>[l(h,{modelValue:t(o).location,"onUpdate:modelValue":a[4]||(a[4]=i=>t(o).location=i),label:"Location",items:F,rules:["requiredValidator"in e?e.requiredValidator:t(u)]},null,8,["modelValue","rules"])]),_:1}),l(d,{cols:"12"},{default:r(()=>[l(h,{modelValue:t(o).status,"onUpdate:modelValue":a[5]||(a[5]=i=>t(o).status=i),label:"Status",items:k,rules:["requiredValidator"in e?e.requiredValidator:t(u)]},null,8,["modelValue","rules"])]),_:1}),l(d,{cols:"12"},{default:r(()=>[l(D,{type:"submit",class:"me-3"},{default:r(()=>[b(O(s.franchisee?"Update":"Submit"),1)]),_:1}),l(D,{variant:"outlined",color:"secondary",onClick:a[6]||(a[6]=i=>V(!1))},{default:r(()=>a[8]||(a[8]=[b(" Cancel ")])),_:1,__:[8]})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model-value"])}}});export{ee as _};
