import{m as Ye}from"./vue3-apexcharts-B6i6N92-.js";import{V as Je,_ as Ke}from"./VDataTableServer-C9Y3O9sp.js";import{_ as Xe}from"./AppTextField.vue_vue_type_script_setup_true_lang-BR1qz0JB.js";import{_ as Ze}from"./AppSelect.vue_vue_type_script_setup_true_lang-DpwmV3pY.js";import{f as V}from"./formatters-WDr9EcLN.js";import{aO as f,d as et,ak as tt,r as i,P as C,w as se,G as at,c as oe,e as s,b as a,f as l,a3 as S,a as lt,o as Q,t as p,g as st,l as re,aa as h,v as d,aT as ot,m as k}from"./main-DeJzYu26.js";import{a as rt,V as ie}from"./VTabs-BclfsMZr.js";import{V as D,b as he,d as _e}from"./VCard-DM_RaJjQ.js";import{V as Ve,a as W}from"./VRow-Bc5Xg-OF.js";import{V as ke}from"./VDialog-BV_EcThc.js";import{V as E}from"./VCardText-C91zLtFF.js";import{V as ne}from"./VSpacer-DXjYU080.js";import{V as it}from"./VDivider-DLIyMVwP.js";import{V as nt}from"./VMenu-B1FnI2KF.js";import{V as ut,a as we,b as Se}from"./VList-DB22MoGh.js";import{V as Y}from"./VChip-C0NN1uvc.js";import{V as ue}from"./VSelect-BwgOzOKs.js";import{V as de}from"./VAvatar-CzFSvsQH.js";import{q as dt}from"./VDataTable-GmZcrgqt.js";import{V as P}from"./VTextField-DotXvQxm.js";import{V as pt}from"./VFileInput-CD9ssgsU.js";import"./_commonjsHelpers-CqkleIqs.js";import"./VPagination-DV4prD9T.js";import"./VTable-DeMgJEJC.js";import"./form-BflVDgbn.js";import"./forwardRefs-C-GTDzx5.js";import"./easing-Bybner-F.js";import"./VWindowItem-BSX4O2OV.js";import"./lazy-CbFk89iz.js";import"./ssrBoot-BhA_RNt5.js";import"./VImg-BGIMQfo8.js";import"./VSlideGroup-DsvfnNWq.js";import"./scopeId-DjrbA9fE.js";/* empty css              */import"./VOverlay-Cf3_uLuL.js";import"./dialog-transition-DrC3XplS.js";import"./VCheckboxBtn-BguezhSu.js";import"./VSelectionControl-CzzB1Mlt.js";import"./filter-CVTHwgF-.js";/* empty css                   */import"./VCounter-BpCv2xWf.js";import"./VField-BfX_Zcm2.js";import"./VInput-D8-eiKxF.js";const y="/v1/franchisor/financial",b={async getCharts(n){return await f(`${y}/charts`,{params:n})},async getStatistics(n){return await f(`${y}/statistics`,{params:n})},async getSales(n){return await f(`${y}/sales`,{params:n})},async createSale(n){return await f(`${y}/sales`,{method:"POST",body:n})},async updateSale(n,w){return await f(`${y}/sales/${n}`,{method:"PUT",body:w})},async deleteSale(n){await f(`${y}/sales/${n}`,{method:"DELETE"})},async getExpenses(n){return await f(`${y}/expenses`,{params:n})},async createExpense(n){return await f(`${y}/expenses`,{method:"POST",body:n})},async updateExpense(n,w){return await f(`${y}/expenses/${n}`,{method:"PUT",body:w})},async deleteExpense(n){await f(`${y}/expenses/${n}`,{method:"DELETE"})},async getProfit(n){return await f(`${y}/profit`,{params:n})},async getUnitPerformance(n){return await f(`${y}/unit-performance`,{params:n})},async importData(n,w){const g=new FormData;g.append("file",n),g.append("category",w),await f(`${y}/import`,{method:"POST",body:g})},async exportData(n,w){return await f(`${y}/export`,{params:{...w,category:n},parseResponse:g=>g})}},ct={class:"d-flex justify-space-between align-center mb-6"},mt={class:"d-flex gap-3"},vt={class:"me-3 d-flex gap-3"},ft={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},yt={style:{"inline-size":"15.625rem"}},bt={class:"d-flex align-center gap-x-2"},xt={class:"text-body-1 text-high-emphasis"},gt={class:"text-body-1 text-high-emphasis"},ht={class:"d-flex align-center gap-x-2"},_t={class:"text-body-1 text-high-emphasis text-capitalize"},Vt={class:"text-body-2",style:{"max-width":"200px"}},kt={class:"d-flex align-center gap-x-2"},wt={class:"text-body-1 text-high-emphasis"},St={class:"text-body-1 text-high-emphasis"},Ct={class:"text-body-1 text-high-emphasis"},Dt={class:"d-flex justify-space-between align-center flex-wrap gap-4"},Et={class:"d-flex gap-3 align-center flex-wrap"},Pt={class:"d-flex align-center justify-space-between"},At={class:"text-body-2 text-medium-emphasis mb-3"},Ut={class:"text-h4 text-success"},$t={class:"d-flex align-center justify-space-between"},Rt={class:"text-body-2 text-medium-emphasis mb-3"},Tt={class:"text-h4 text-error"},Ot={class:"d-flex align-center justify-space-between"},It={class:"text-body-2 text-medium-emphasis mb-3"},zt={class:"text-h4 text-primary"},Lt={class:"text-body-1 text-high-emphasis"},Mt={class:"text-body-1 text-high-emphasis"},Bt={class:"text-body-1 text-high-emphasis"},Ft={class:"text-body-1 text-high-emphasis"},Nt={class:"text-body-1 text-high-emphasis"},qt={key:0},jt={key:1},Ta=et({__name:"financial-overview",setup(n){const w=tt(),g=i(10),$=i(1),pe=i(),ce=i(),Ce=async o=>{var e,v;pe.value=(e=o.sortBy[0])==null?void 0:e.key,ce.value=(v=o.sortBy[0])==null?void 0:v.order,await ae()},m=i("monthly"),_=i("all"),r=i("sales"),T=i([]),O=i([]),I=i([]),B=C(()=>r.value==="sales"?T.value:r.value==="expenses"?O.value:r.value==="profit"?I.value:[]),F=i(!1),J=i(!1),me=i(!1),K=i(!1),X=i(!1),Z=i({categories:[],series:[]}),N=i({totalSales:0,totalExpenses:0,totalProfit:0,totalRoyalties:0,salesGrowth:0,profitMargin:0}),ve=i([]),fe=i([]),ye=i([]),ee=i([]),q=i(0),j=i(""),H=C(()=>{switch(r.value){case"sales":return T.value;case"expenses":return O.value;case"profit":return I.value;default:return[]}}),De=C(()=>{const o=w.current.value.colors;return{chart:{type:"line",height:400,toolbar:{show:!1},zoom:{enabled:!1},parentHeightOffset:0},stroke:{curve:"smooth",width:3},xaxis:{categories:Z.value.categories,labels:{style:{colors:`rgba(${o["on-surface"]}, 0.6)`,fontSize:"13px"}},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{style:{colors:`rgba(${o["on-surface"]}, 0.6)`,fontSize:"13px"},formatter:e=>`${(e/1e3).toFixed(0)}k SAR`}},legend:{show:!0,position:"top",horizontalAlign:"left",labels:{colors:`rgba(${o["on-surface"]}, 0.8)`}},colors:["rgba(var(--v-theme-success), 1)","rgba(var(--v-theme-error), 1)","rgba(var(--v-theme-warning), 1)","rgba(var(--v-theme-primary), 1)"],grid:{borderColor:`rgba(${o["on-surface"]}, 0.12)`,strokeDashArray:5,padding:{top:-20,bottom:-10,left:0,right:0}},tooltip:{theme:w.current.value.dark?"dark":"light",y:{formatter:e=>`${e.toLocaleString()} SAR`}}}}),Ee=C(()=>N.value.totalSales),Pe=C(()=>N.value.totalExpenses),Ae=C(()=>N.value.totalProfit),Ue=[{title:"Daily",value:"daily"},{title:"Monthly",value:"monthly"},{title:"Yearly",value:"yearly"}],$e=[{title:"Franchisee Name",key:"name",sortable:!0},{title:"Location",key:"location",sortable:!0},{title:"Sales (SAR)",key:"sales",sortable:!0},{title:"Expenses (SAR)",key:"expenses",sortable:!0},{title:"Royalties (SAR)",key:"royalties",sortable:!0},{title:"Net Sales (SAR)",key:"netSales",sortable:!0},{title:"Profit (SAR)",key:"profit",sortable:!0},{title:"Profit Margin (%)",key:"profitMargin",sortable:!0}],Re=[{title:"Product",key:"product",sortable:!0},{title:"Unit Price",key:"unitPrice",sortable:!0},{title:"Quantity",key:"quantity",sortable:!0},{title:"Sale Amount",key:"sale",sortable:!0},{title:"Date",key:"date",sortable:!0},{title:"Actions",key:"actions",sortable:!1}],Te=[{title:"Category",key:"expenseCategory",sortable:!0},{title:"Amount",key:"amount",sortable:!0},{title:"Description",key:"description",sortable:!0},{title:"Date",key:"date",sortable:!0},{title:"Actions",key:"actions",sortable:!1}],Oe=[{title:"Date",key:"date",sortable:!0},{title:"Total Sales",key:"totalSales",sortable:!0},{title:"Total Expenses",key:"totalExpenses",sortable:!0},{title:"Profit",key:"profit",sortable:!0},{title:"Actions",key:"actions",sortable:!1}],Ie=C(()=>{switch(r.value){case"sales":return ve.value;case"expenses":return fe.value;case"profit":return ye.value;default:return[]}}),ze=C(()=>{switch(r.value){case"sales":return Re;case"expenses":return Te;case"profit":return Oe;default:return[]}}),be=C(()=>q.value),z=i(!1),L=i(!1),M=i("sales"),te=i("sales"),R=i(null),u=i({product:"",dateOfSale:"",unitPrice:0,quantitySold:0,expenseCategory:"",dateOfExpense:"",amount:0,description:""}),Le=async()=>{J.value=!0;try{const o={period:m.value,unit:_.value==="all"?void 0:_.value},e=await b.getCharts(o);Z.value=e.data||{categories:[],series:[]}}catch(o){console.error("Error loading chart data:",o)}finally{J.value=!1}},Me=async()=>{me.value=!0;try{const o={period:m.value,unit:_.value==="all"?void 0:_.value},e=await b.getStatistics(o);N.value=e.data||{totalSales:0,totalExpenses:0,totalProfit:0,totalRoyalties:0,salesGrowth:0,profitMargin:0}}catch(o){console.error("Error loading statistics:",o)}finally{me.value=!1}},A=async()=>{var o,e,v,x,c,G;K.value=!0;try{const U={search:j.value||void 0,page:$.value,perPage:g.value,sortBy:pe.value,sortOrder:ce.value,period:m.value,unit:_.value==="all"?void 0:_.value};switch(r.value){case"sales":{const t=await b.getSales(U);ve.value=((o=t.data)==null?void 0:o.data)||[],q.value=((e=t.data)==null?void 0:e.total)||0;break}case"expenses":{const t=await b.getExpenses(U);fe.value=((v=t.data)==null?void 0:v.data)||[],q.value=((x=t.data)==null?void 0:x.total)||0;break}case"profit":{const t=await b.getProfit(U);ye.value=((c=t.data)==null?void 0:c.data)||[],q.value=((G=t.data)==null?void 0:G.total)||0;break}}}catch(U){console.error("Error loading table data:",U)}finally{K.value=!1}},Be=async()=>{var o;X.value=!0;try{const e={period:m.value,unit:_.value==="all"?void 0:_.value},x=((o=(await b.getUnitPerformance(e)).data)==null?void 0:o.data)||[];Array.isArray(x)?ee.value=x.map(c=>({id:c.id,name:c.name,location:c.location,sales:c.sales||0,expenses:c.expenses||0,royalties:c.royalties||0,netSales:(c.sales||0)-(c.royalties||0),profit:c.profit||0,profitMargin:c.profitMargin||0})):ee.value=[]}catch(e){console.error("Error loading units data:",e)}finally{X.value=!1}},ae=async()=>{F.value=!0;try{await Promise.all([Le(),Me(),A(),Be()])}finally{F.value=!1}},Fe=()=>{B.value.length!==0&&(console.log("Bulk delete:",B.value),r.value==="sales"?T.value=[]:r.value==="expenses"?O.value=[]:r.value==="profit"&&(I.value=[]))},Ne=async()=>{try{const o={period:m.value,unit:_.value==="all"?void 0:_.value},e=await b.exportData(r.value,o),v=window.URL.createObjectURL(e),x=document.createElement("a");x.href=v,x.download=`${r.value}-data-${m.value}.csv`,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(v)}catch(o){console.error("Error exporting data:",o)}},qe=async()=>{try{const o=H.value.map(e=>e.id);for(const e of o){const v=typeof e=="string"?Number.parseInt(e,10):e;switch(r.value){case"sales":await b.deleteSale(v);break;case"expenses":await b.deleteExpense(v);break;case"profit":break}}switch(await A(),r.value){case"sales":T.value=[];break;case"expenses":O.value=[];break;case"profit":I.value=[];break}}catch(o){console.error("Error deleting selected items:",o)}},je=()=>{L.value=!0},He=()=>{z.value=!0},Ge=async()=>{try{M.value==="sales"?await b.createSale({product:u.value.product,unit_price:u.value.unitPrice,quantity:u.value.quantitySold,date:u.value.dateOfSale,customer_name:"Walk-in Customer",customer_email:"customer@example.com",franchise_id:1,unit_id:1}):await b.createExpense({expense_category:u.value.expenseCategory,amount:u.value.amount,description:u.value.description,date:u.value.dateOfExpense}),z.value=!1,await A(),u.value={product:"",dateOfSale:"",unitPrice:0,quantitySold:0,expenseCategory:"",dateOfExpense:"",amount:0,description:""}}catch(o){console.error("Error adding data:",o)}},Qe=async()=>{if(R.value)try{await b.importData(R.value,te.value),L.value=!1,await A(),R.value=null}catch(o){console.error("Error importing data:",o)}},xe=async o=>{try{const e=typeof o=="string"?Number.parseInt(o,10):o;switch(r.value){case"sales":await b.deleteSale(e);break;case"expenses":await b.deleteExpense(e);break;case"profit":break}await A()}catch(e){console.error("Error deleting item:",e)}},ge=o=>{console.log("Editing item:",o)},We=o=>o>0?"success":"error";return se([m,_],()=>{ae()}),se(r,()=>{A()}),se(j,()=>{$.value=1,A()}),at(()=>{ae()}),(o,e)=>{const v=Ze,x=Xe,c=lt("IconBtn"),G=Ke,U=Ye;return Q(),oe("section",null,[s("div",ct,[e[25]||(e[25]=s("div",null,[s("h4",{class:"text-h4 mb-1"}," Financial Overview "),s("p",{class:"text-body-1 mb-0"}," Manage your financial data across sales, expenses, and profit ")],-1)),s("div",mt,[a(S,{variant:"outlined","prepend-icon":"tabler-upload",onClick:je},{default:l(()=>e[23]||(e[23]=[p(" Import ")])),_:1,__:[23]}),a(S,{"prepend-icon":"tabler-plus",onClick:He},{default:l(()=>e[24]||(e[24]=[p(" Add Data ")])),_:1,__:[24]})])]),a(rt,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t),class:"mb-6"},{default:l(()=>[a(ie,{value:"sales"},{default:l(()=>e[26]||(e[26]=[p(" Sales ")])),_:1,__:[26]}),a(ie,{value:"expenses"},{default:l(()=>e[27]||(e[27]=[p(" Expenses ")])),_:1,__:[27]}),a(ie,{value:"profit"},{default:l(()=>e[28]||(e[28]=[p(" Profit ")])),_:1,__:[28]})]),_:1},8,["modelValue"]),a(D,{class:"mb-6"},{default:l(()=>[a(E,{class:"d-flex flex-wrap gap-4"},{default:l(()=>[s("div",vt,[a(v,{"model-value":g.value,items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"6.25rem"},"onUpdate:modelValue":e[1]||(e[1]=t=>g.value=parseInt(t,10))},null,8,["model-value"]),B.value.length>0?(Q(),st(S,{key:0,variant:"tonal",color:"error",onClick:Fe},{default:l(()=>[a(h,{icon:"tabler-trash",class:"me-2"}),p(" Delete Selected ("+d(B.value.length)+") ",1)]),_:1})):re("",!0)]),a(ne),s("div",ft,[s("div",yt,[a(x,{modelValue:j.value,"onUpdate:modelValue":e[2]||(e[2]=t=>j.value=t),placeholder:`Search ${r.value}...`},null,8,["modelValue","placeholder"])]),a(S,{variant:"tonal",color:"secondary","prepend-icon":"tabler-upload",disabled:!H.value.length,onClick:Ne},{default:l(()=>e[29]||(e[29]=[p(" Export ")])),_:1,__:[29]},8,["disabled"]),a(S,{variant:"tonal",color:"error","prepend-icon":"tabler-trash",disabled:!H.value.length,onClick:qe},{default:l(()=>e[30]||(e[30]=[p(" Delete Selected ")])),_:1,__:[30]},8,["disabled"])])]),_:1}),a(it),a(Je,{"items-per-page":g.value,"onUpdate:itemsPerPage":e[4]||(e[4]=t=>g.value=t),page:$.value,"onUpdate:page":e[5]||(e[5]=t=>$.value=t),"model-value":H.value,items:Ie.value,"item-value":"id","items-length":be.value,headers:ze.value,class:"text-no-wrap","show-select":"",loading:K.value,"onUpdate:options":Ce,"onUpdate:modelValue":e[6]||(e[6]=t=>{switch(r.value){case"sales":T.value=t;break;case"expenses":O.value=t;break;case"profit":I.value=t;break}})},ot({"item.actions":l(({item:t})=>[a(c,{onClick:le=>xe(t.id)},{default:l(()=>[a(h,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),a(c,{onClick:le=>ge(t.id)},{default:l(()=>[a(h,{icon:"tabler-edit"})]),_:2},1032,["onClick"]),a(S,{icon:"",variant:"text",color:"medium-emphasis"},{default:l(()=>[a(h,{icon:"tabler-dots-vertical"}),a(nt,{activator:"parent"},{default:l(()=>[a(ut,null,{default:l(()=>[a(we,{onClick:le=>ge(t.id)},{prepend:l(()=>[a(h,{icon:"tabler-edit"})]),default:l(()=>[a(Se,null,{default:l(()=>e[31]||(e[31]=[p("Edit")])),_:1,__:[31]})]),_:2},1032,["onClick"]),a(we,{onClick:le=>xe(t.id)},{prepend:l(()=>[a(h,{icon:"tabler-trash"})]),default:l(()=>[a(Se,null,{default:l(()=>e[32]||(e[32]=[p("Delete")])),_:1,__:[32]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:l(()=>[a(G,{page:$.value,"onUpdate:page":e[3]||(e[3]=t=>$.value=t),"items-per-page":g.value,"total-items":be.value},null,8,["page","items-per-page","total-items"])]),_:2},[r.value==="sales"?{name:"item.product",fn:l(({item:t})=>[s("div",bt,[a(h,{icon:"tabler-package",size:"22",color:"primary"}),s("div",xt,d(t.product),1)])]),key:"0"}:void 0,r.value==="sales"?{name:"item.unitPrice",fn:l(({item:t})=>[s("div",gt,d(k(V)(t.unitPrice)),1)]),key:"1"}:void 0,r.value==="sales"?{name:"item.sale",fn:l(({item:t})=>[a(Y,{color:"success",size:"small",label:""},{default:l(()=>[p(d(k(V)(t.sale)),1)]),_:2},1024)]),key:"2"}:void 0,r.value==="expenses"?{name:"item.expenseCategory",fn:l(({item:t})=>[s("div",ht,[a(h,{icon:"tabler-receipt",size:"22",color:"warning"}),s("div",_t,d(t.expenseCategory),1)])]),key:"3"}:void 0,r.value==="expenses"?{name:"item.amount",fn:l(({item:t})=>[a(Y,{color:"error",size:"small",label:""},{default:l(()=>[p(d(k(V)(t.amount)),1)]),_:2},1024)]),key:"4"}:void 0,r.value==="expenses"?{name:"item.description",fn:l(({item:t})=>[s("div",Vt,d(t.description),1)]),key:"5"}:void 0,r.value==="profit"?{name:"item.date",fn:l(({item:t})=>[s("div",kt,[a(h,{icon:"tabler-calendar",size:"22",color:"info"}),s("div",wt,d(t.date),1)])]),key:"6"}:void 0,r.value==="profit"?{name:"item.totalSales",fn:l(({item:t})=>[s("div",St,d(k(V)(t.totalSales)),1)]),key:"7"}:void 0,r.value==="profit"?{name:"item.totalExpenses",fn:l(({item:t})=>[s("div",Ct,d(k(V)(t.totalExpenses)),1)]),key:"8"}:void 0,r.value==="profit"?{name:"item.profit",fn:l(({item:t})=>[a(Y,{color:We(t.profit),size:"small",label:""},{default:l(()=>[p(d(k(V)(t.profit)),1)]),_:2},1032,["color"])]),key:"9"}:void 0]),1032,["items-per-page","page","model-value","items","items-length","headers","loading"])]),_:1}),a(Ve,{class:"mb-6"},{default:l(()=>[a(W,{cols:"12"},{default:l(()=>[s("div",Dt,[e[33]||(e[33]=s("div",null,[s("h4",{class:"text-h4 mb-1"}," Financial Overview "),s("p",{class:"text-body-1 text-medium-emphasis"}," Comprehensive financial analysis and performance tracking across all franchise units ")],-1)),s("div",Et,[a(ue,{modelValue:m.value,"onUpdate:modelValue":e[7]||(e[7]=t=>m.value=t),items:Ue,"item-title":"title","item-value":"value",density:"compact",style:{"min-width":"120px"},variant:"outlined"},null,8,["modelValue"])])])]),_:1})]),_:1}),a(Ve,{class:"mb-6"},{default:l(()=>[a(W,{cols:"12",md:"4"},{default:l(()=>[a(D,null,{default:l(()=>[a(E,null,{default:l(()=>[s("div",Pt,[s("div",null,[e[34]||(e[34]=s("h6",{class:"text-h6 mb-1"}," Total Sales ",-1)),s("div",At,d(m.value==="yearly"?"Annual":m.value==="monthly"?"Monthly":"Daily")+" Revenue ",1),s("h4",Ut,d((Ee.value||0).toLocaleString())+" SAR ",1)]),a(de,{color:"success",variant:"tonal",size:"56"},{default:l(()=>[a(h,{icon:"tabler-trending-up",size:"28"})]),_:1})])]),_:1})]),_:1})]),_:1}),a(W,{cols:"12",md:"4"},{default:l(()=>[a(D,null,{default:l(()=>[a(E,null,{default:l(()=>[s("div",$t,[s("div",null,[e[35]||(e[35]=s("h6",{class:"text-h6 mb-1"}," Total Expenses ",-1)),s("div",Rt,d(m.value==="yearly"?"Annual":m.value==="monthly"?"Monthly":"Daily")+" Costs ",1),s("h4",Tt,d((Pe.value||0).toLocaleString())+" SAR ",1)]),a(de,{color:"error",variant:"tonal",size:"56"},{default:l(()=>[a(h,{icon:"tabler-trending-down",size:"28"})]),_:1})])]),_:1})]),_:1})]),_:1}),a(W,{cols:"12",md:"4"},{default:l(()=>[a(D,null,{default:l(()=>[a(E,null,{default:l(()=>[s("div",Ot,[s("div",null,[e[36]||(e[36]=s("h6",{class:"text-h6 mb-1"}," Total Profit ",-1)),s("div",It,d(m.value==="yearly"?"Annual":m.value==="monthly"?"Monthly":"Daily")+" Earnings ",1),s("h4",zt,d((Ae.value||0).toLocaleString())+" SAR ",1)]),a(de,{color:"primary",variant:"tonal",size:"56"},{default:l(()=>[a(h,{icon:"tabler-currency-riyal",size:"28"})]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),a(D,{class:"mb-6"},{default:l(()=>[a(E,null,{default:l(()=>{var t;return[e[37]||(e[37]=s("h6",{class:"text-h6 mb-4"}," Financial Performance ",-1)),a(U,{type:"line",height:"400",options:De.value,series:((t=Z.value)==null?void 0:t.series)||[],loading:J.value},null,8,["options","series","loading"])]}),_:1,__:[37]})]),_:1}),a(D,null,{default:l(()=>[a(E,null,{default:l(()=>[e[38]||(e[38]=s("h6",{class:"text-h6 mb-4"}," Units Performance ",-1)),a(dt,{headers:$e,items:ee.value,loading:X.value,class:"text-no-wrap"},{"item.sales":l(({item:t})=>[s("div",Lt,d(k(V)(t.sales||0)),1)]),"item.expenses":l(({item:t})=>[s("div",Mt,d(k(V)(t.expenses||0)),1)]),"item.royalties":l(({item:t})=>[s("div",Bt,d(k(V)(t.royalties||0)),1)]),"item.netSales":l(({item:t})=>[s("div",Ft,d(k(V)(t.netSales||0)),1)]),"item.profit":l(({item:t})=>[s("div",Nt,d(k(V)(t.profit||0)),1)]),"item.profitMargin":l(({item:t})=>[a(Y,{color:(t.profitMargin||0)>0?"success":"error",size:"small",label:""},{default:l(()=>[p(d((t.profitMargin||0).toFixed(1))+"% ",1)]),_:2},1032,["color"])]),_:1},8,["items","loading"])]),_:1,__:[38]})]),_:1}),a(ke,{modelValue:z.value,"onUpdate:modelValue":e[18]||(e[18]=t=>z.value=t),"max-width":"600"},{default:l(()=>[a(D,null,{default:l(()=>[a(he,null,{default:l(()=>e[39]||(e[39]=[p("Add New Data")])),_:1,__:[39]}),a(E,null,{default:l(()=>[a(ue,{modelValue:M.value,"onUpdate:modelValue":e[8]||(e[8]=t=>M.value=t),items:[{title:"Sales",value:"sales"},{title:"Expense",value:"expense"}],label:"Category",class:"mb-4"},null,8,["modelValue"]),M.value==="sales"?(Q(),oe("div",qt,[a(P,{modelValue:u.value.product,"onUpdate:modelValue":e[9]||(e[9]=t=>u.value.product=t),label:"Product",class:"mb-4"},null,8,["modelValue"]),a(P,{modelValue:u.value.dateOfSale,"onUpdate:modelValue":e[10]||(e[10]=t=>u.value.dateOfSale=t),label:"Date of Sale",type:"date",class:"mb-4"},null,8,["modelValue"]),a(P,{modelValue:u.value.unitPrice,"onUpdate:modelValue":e[11]||(e[11]=t=>u.value.unitPrice=t),label:"Unit Price",type:"number",prefix:"SAR",class:"mb-4"},null,8,["modelValue"]),a(P,{modelValue:u.value.quantitySold,"onUpdate:modelValue":e[12]||(e[12]=t=>u.value.quantitySold=t),label:"Quantity Sold",type:"number",class:"mb-4"},null,8,["modelValue"])])):re("",!0),M.value==="expense"?(Q(),oe("div",jt,[a(P,{modelValue:u.value.expenseCategory,"onUpdate:modelValue":e[13]||(e[13]=t=>u.value.expenseCategory=t),label:"Expense Category",class:"mb-4"},null,8,["modelValue"]),a(P,{modelValue:u.value.dateOfExpense,"onUpdate:modelValue":e[14]||(e[14]=t=>u.value.dateOfExpense=t),label:"Date of Expense",type:"date",class:"mb-4"},null,8,["modelValue"]),a(P,{modelValue:u.value.amount,"onUpdate:modelValue":e[15]||(e[15]=t=>u.value.amount=t),label:"Amount",type:"number",prefix:"SAR",class:"mb-4"},null,8,["modelValue"]),a(P,{modelValue:u.value.description,"onUpdate:modelValue":e[16]||(e[16]=t=>u.value.description=t),label:"Description",class:"mb-4"},null,8,["modelValue"])])):re("",!0)]),_:1}),a(_e,null,{default:l(()=>[a(ne),a(S,{variant:"outlined",onClick:e[17]||(e[17]=t=>z.value=!1)},{default:l(()=>e[40]||(e[40]=[p(" Cancel ")])),_:1,__:[40]}),a(S,{color:"primary",loading:F.value,onClick:Ge},{default:l(()=>e[41]||(e[41]=[p(" Add Data ")])),_:1,__:[41]},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(ke,{modelValue:L.value,"onUpdate:modelValue":e[22]||(e[22]=t=>L.value=t),"max-width":"500"},{default:l(()=>[a(D,null,{default:l(()=>[a(he,null,{default:l(()=>e[42]||(e[42]=[p("Import Data")])),_:1,__:[42]}),a(E,null,{default:l(()=>[a(ue,{modelValue:te.value,"onUpdate:modelValue":e[19]||(e[19]=t=>te.value=t),items:[{title:"Sales",value:"sales"},{title:"Expense",value:"expenses"}],label:"Category",class:"mb-4"},null,8,["modelValue"]),a(pt,{modelValue:R.value,"onUpdate:modelValue":e[20]||(e[20]=t=>R.value=t),label:"Choose file",accept:".csv,.xlsx","prepend-icon":"tabler-upload"},null,8,["modelValue"])]),_:1}),a(_e,null,{default:l(()=>[a(ne),a(S,{variant:"outlined",onClick:e[21]||(e[21]=t=>L.value=!1)},{default:l(()=>e[43]||(e[43]=[p(" Cancel ")])),_:1,__:[43]}),a(S,{color:"primary",loading:F.value,disabled:!R.value,onClick:Qe},{default:l(()=>e[44]||(e[44]=[p(" Import ")])),_:1,__:[44]},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}});export{Ta as default};
