import{d as A,d6 as F,r as f,w as k,g as I,o as d,f as o,b as s,df as _,au as N,m as r,e as l,aa as h,J as g,c as v,l as b,z as c,K as y,F as V,i as D,t as U,v as w}from"./main-DGm6yV1K.js";import{C as z}from"./vue3-perfect-scrollbar-CaBcfnjx.js";import{V as T}from"./VCard-Dnm1uaQD.js";import{V as S}from"./VCardText-BVvU-0tD.js";import{V as j}from"./VTextField-DBpL81Vm.js";import{V as E}from"./VDivider-D1nVP5py.js";import{V as M,a as J}from"./VList-BB8Xr9_D.js";import{V as O}from"./VSkeletonLoader-DxfNZrEz.js";import{V as P}from"./VDialog-B-R7Rjej.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VAvatar-DPtk-yN5.js";import"./VImg-C0tMXNU8.js";/* empty css                   */import"./VCounter-CWva7-gb.js";import"./VField-XG09xMlO.js";import"./form-TsDzzk6K.js";import"./easing-Bybner-F.js";import"./VInput-CckDb7qY.js";import"./forwardRefs-C-GTDzx5.js";import"./ssrBoot-DMoVtlfk.js";import"./VOverlay-CwBiQuy6.js";import"./lazy-DvPke9wo.js";import"./scopeId-IZ4GITye.js";import"./dialog-transition-BdfnzIrf.js";const X={class:"d-flex align-center text-high-emphasis me-1"},q={class:"d-flex align-start"},G={class:"h-100"},H={class:"h-100"},W={class:"app-bar-search-suggestions d-flex flex-column align-center justify-center text-high-emphasis pa-12"},Y={class:"d-flex align-center flex-wrap justify-center gap-2 text-h5 mt-3"},Z=A({__name:"AppBarSearch",props:{isDialogVisible:{type:Boolean},searchResults:{},isLoading:{type:Boolean}},emits:["update:isDialogVisible","search"],setup(x,{emit:L}){const n=x,u=L,{ctrl_k:C,meta_k:$}=F({passive:!1,onEventFired(e){e.ctrlKey&&e.key==="k"&&e.type==="keydown"&&e.preventDefault()}}),m=f(),B=f(),t=f("");k([C,$],()=>{u("update:isDialogVisible",!0)});const p=()=>{t.value="",u("update:isDialogVisible",!1)},R=e=>{var i,a;e.key==="ArrowDown"?(e.preventDefault(),(i=m.value)==null||i.focus("next")):e.key==="ArrowUp"&&(e.preventDefault(),(a=m.value)==null||a.focus("prev"))},K=e=>{t.value="",u("update:isDialogVisible",e)};return k(()=>n.isDialogVisible,()=>{t.value=""}),(e,i)=>(d(),I(P,{"max-width":"600","model-value":n.isDialogVisible,height:e.$vuetify.display.smAndUp?"531":"100%",fullscreen:e.$vuetify.display.width<600,class:"app-bar-search-dialog","onUpdate:modelValue":K,onKeyup:_(p,["esc"])},{default:o(()=>[s(T,{height:"100%",width:"100%",class:"position-relative"},{default:o(()=>[s(S,{class:"px-4",style:{"padding-block":"1rem 1.2rem"}},{default:o(()=>[s(j,{ref_key:"refSearchInput",ref:B,modelValue:r(t),"onUpdate:modelValue":[i[0]||(i[0]=a=>N(t)?t.value=a:null),i[1]||(i[1]=a=>e.$emit("search",r(t)))],autofocus:"",density:"compact",variant:"plain",class:"app-bar-search-input",onKeyup:_(p,["esc"]),onKeydown:R},{"prepend-inner":o(()=>[l("div",X,[s(h,{size:"24",icon:"tabler-search"})])]),"append-inner":o(()=>[l("div",q,[l("div",{class:"text-base text-disabled cursor-pointer me-3",onClick:p}," [esc] "),s(h,{icon:"tabler-x",size:"24",onClick:p})])]),_:1},8,["modelValue"])]),_:1}),s(E),s(r(z),{options:{wheelPropagation:!1,suppressScrollX:!0},class:"h-100"},{default:o(()=>[g(l("div",G,[c(e.$slots,"suggestions",{},void 0,!0)],512),[[y,!!n.searchResults&&!r(t)&&e.$slots.suggestions]]),e.isLoading?b("",!0):(d(),v(V,{key:0},[g(s(r(M),{ref_key:"refSearchList",ref:m,density:"compact",class:"app-bar-search-list py-0"},{default:o(()=>[(d(!0),v(V,null,D(n.searchResults,a=>c(e.$slots,"searchResult",{key:a,item:a},()=>[s(r(J),null,{default:o(()=>[U(w(a),1)]),_:2},1024)],!0)),128))]),_:3},512),[[y,r(t).length&&!!n.searchResults.length]]),g(l("div",H,[c(e.$slots,"noData",{},()=>[s(S,{class:"h-100"},{default:o(()=>[l("div",W,[s(h,{size:"64",icon:"tabler-file-alert"}),l("div",Y,[i[2]||(i[2]=l("span",null,"No Result For ",-1)),l("span",null,'"'+w(r(t))+'"',1)]),c(e.$slots,"noDataSuggestion",{},void 0,!0)])]),_:3})],!0)],512),[[y,!n.searchResults.length&&r(t).length]])],64)),e.isLoading?(d(),v(V,{key:1},D(3,a=>s(O,{key:a,type:"list-item-two-line"})),64)):b("",!0)]),_:3})]),_:3})]),_:3},8,["model-value","height","fullscreen"]))}}),we=Q(Z,[["__scopeId","data-v-ed9c4ded"]]);export{we as default};
