import{V as J,_ as Ee}from"./VDialog-CEq2jzbd.js";import{u as Ne,_ as $e,T as Fe,a as Pe,P as Oe,S as Le}from"./CreateTaskModal.vue_vue_type_script_setup_true_lang-DViXMCY2.js";import{d as qe,r as g,P as b,w as pe,G as Me,c as P,b as t,f as a,aR as A,m as l,b5 as O,j as Re,o as x,e as o,a9 as w,t as m,ax as f,g as C,l as R,v as u,aF as ve,F as _e}from"./main-B8QbR-yS.js";import{V as L,a as c}from"./VRow-LlT6Azsr.js";import{a as Be,V as be}from"./VTabs-DXRKnteB.js";import{a as je,V as ye}from"./VWindowItem-CHtlO5gs.js";import{V as ge}from"./VAlert-DpqH6FXl.js";import{V,a as xe,b as Ve,c as Te,d as Q}from"./VCard-D9PhtsJ0.js";import{V as T}from"./VCardText-Cbtr6Qhr.js";import{V as S}from"./VAvatar-87LH5tAk.js";import{V as U}from"./VDivider-DOfIMbJY.js";import{V as ke}from"./VDataTable-FYAU2aQJ.js";import{V as De}from"./VMenu-TQcmpCCv.js";import{V as we,a as H,b as E}from"./VList-BJCgULVd.js";import{V as N}from"./VChip-CgHwmC-k.js";import{V as X}from"./VSpacer-BSXBFFTK.js";import{V as q}from"./VTextField-C7_y5spr.js";import{V as Ge}from"./VTextarea-1ursQqQ2.js";import{V as B}from"./VSelect-GSzN3Qps.js";import"./VOverlay-B3La6Ajr.js";import"./forwardRefs--KQCZfKO.js";import"./scopeId-DyQ6a1uN.js";import"./VImg-Ceu2Mboj.js";import"./dialog-transition-Dy2Gj1XO.js";import"./VForm-C9sxpau4.js";import"./form-Dt-W1fp6.js";/* empty css              */import"./VSlideGroup-BuNiGLv2.js";import"./VCheckboxBtn-CWPoGbRz.js";import"./VSelectionControl-DDEVNAf7.js";import"./VTable-CgkStP3y.js";import"./VField-Bw51LFql.js";import"./VInput-DB3XZUVb.js";const Ke={class:"d-flex align-center justify-space-between"},We={key:1,class:"text-center py-12"},Ye={class:"ms-4"},Je={class:"text-h4"},Qe={class:"ms-4"},Xe={class:"text-h4"},Ze={class:"ms-4"},et={class:"text-h4"},tt={class:"ms-4"},at={class:"text-h4"},st={class:"text-base font-weight-medium"},lt={class:"text-body-2 text-disabled"},ot={class:"text-body-1"},it={class:"text-center"},dt={key:1,class:"text-center py-12"},rt={class:"ms-4"},nt={class:"text-h4"},ut={class:"ms-4"},mt={class:"text-h4"},ct={class:"ms-4"},ft={class:"text-h4"},pt={class:"ms-4"},vt={class:"text-h4"},_t={class:"text-base font-weight-medium"},bt={class:"text-body-2 text-disabled"},yt={class:"text-body-1"},gt={class:"text-center"},xt={class:"text-h6 mb-2"},Vt={class:"text-body-1 mb-4"},Tt={class:"text-body-1"},kt={class:"text-body-1"},Dt={class:"text-body-1"},wt={class:"text-body-1"},ia=qe({__name:"tasks-management",setup(Ct){Re();const{getUsersForSelect:Ce,initializeUsers:j,loading:Se}=Ne(),p=g("franchisee"),z=g(!1),D=g(!1),h=g(!1),d=g(null),I=g(null),v=g([]),_=g([]),G=g(!1),K=g(!1),$=g(null),F=g(null),M=g(!1),he=async()=>{var r,e;G.value=!0,$.value=null;try{const n=await O("/v1/franchisor/tasks");if(n.success&&((r=n.data)!=null&&r.data)){const s=n.data.data.filter(i=>{var y,k;return((y=i.assigned_to)==null?void 0:y.role)==="franchisee"||((k=i.assigned_to)==null?void 0:k.role)==="unit_manager"});v.value=s.map(i=>{var y,k;return{id:i.id,title:i.title,description:i.description,category:i.type||"other",assignedTo:((y=i.assigned_to)==null?void 0:y.name)||"Unassigned",unitName:((k=i.unit)==null?void 0:k.unit_name)||"N/A",startDate:i.started_at?new Date(i.started_at).toISOString().split("T")[0]:null,dueDate:i.due_date?new Date(i.due_date).toISOString().split("T")[0]:null,priority:i.priority||"medium",status:i.status||"pending",estimatedHours:i.estimated_hours||0,actualHours:i.actual_hours||0,createdAt:i.created_at,updatedAt:i.updated_at}})}else v.value=[]}catch(n){console.error("Failed to load franchisee tasks:",n),$.value=((e=n==null?void 0:n.data)==null?void 0:e.message)||"Failed to load franchisee tasks",v.value=[]}finally{G.value=!1}},ze=async()=>{var r,e;K.value=!0,F.value=null;try{const n=await O("/v1/franchisor/tasks");if(n.success&&((r=n.data)!=null&&r.data)){const s=n.data.data.filter(i=>{var k,me,ce,fe;return["Marketing","Customer Service"].includes(i.type)||((k=i.assigned_to)==null?void 0:k.role)==="sales"||((me=i.title)==null?void 0:me.toLowerCase().includes("sales"))||((ce=i.title)==null?void 0:ce.toLowerCase().includes("lead"))||((fe=i.title)==null?void 0:fe.toLowerCase().includes("client"))});_.value=s.map(i=>{var y,k;return{id:i.id,title:i.title,description:i.description,category:i.type||"other",assignedTo:((y=i.assigned_to)==null?void 0:y.name)||"Unassigned",unitName:((k=i.unit)==null?void 0:k.unit_name)||"N/A",startDate:i.started_at?new Date(i.started_at).toISOString().split("T")[0]:null,dueDate:i.due_date?new Date(i.due_date).toISOString().split("T")[0]:null,priority:i.priority||"medium",status:i.status||"pending",estimatedHours:i.estimated_hours||0,actualHours:i.actual_hours||0,createdAt:i.created_at,updatedAt:i.updated_at}})}else _.value=[]}catch(n){console.error("Failed to load sales tasks:",n),F.value=((e=n==null?void 0:n.data)==null?void 0:e.message)||"Failed to load sales tasks",_.value=[]}finally{K.value=!1}},Z=b(()=>v.value.length),ee=b(()=>v.value.filter(r=>r.status==="completed").length),te=b(()=>v.value.filter(r=>r.status==="in_progress").length),ae=b(()=>{const r=new Date;return v.value.filter(e=>e.dueDate?new Date(e.dueDate)<=r&&e.status!=="completed":!1).length}),se=b(()=>_.value.length),le=b(()=>_.value.filter(r=>r.status==="completed").length),oe=b(()=>_.value.filter(r=>r.status==="in_progress").length),ie=b(()=>{const r=new Date;return _.value.filter(e=>e.dueDate?new Date(e.dueDate)<=r&&e.status!=="completed":!1).length});b(()=>p.value==="franchisee"?v.value:_.value),b(()=>p.value==="franchisee"?Z.value:se.value),b(()=>p.value==="franchisee"?ee.value:le.value),b(()=>p.value==="franchisee"?te.value:oe.value),b(()=>p.value==="franchisee"?ae.value:ie.value);const Ie=b(()=>Ce(p.value)),W=r=>r==="completed"?"success":r==="in_progress"?"warning":r==="pending"?"info":"secondary",Y=r=>r==="high"?"error":r==="medium"?"warning":r==="low"?"info":"secondary",Ae=async r=>{var e,n;try{const s=await O("/v1/franchisor/tasks",{method:"POST",body:{title:r.title,description:r.description,category:r.category,priority:r.priority,status:r.status||"pending",due_date:r.dueDate,estimated_hours:r.estimatedHours}});if(s.success){const i={id:s.data.id,title:s.data.title,description:s.data.description,category:s.data.type||"other",assignedTo:((e=s.data.assigned_to)==null?void 0:e.name)||"Unassigned",unitName:((n=s.data.unit)==null?void 0:n.unit_name)||"N/A",startDate:s.data.started_at?new Date(s.data.started_at).toISOString().split("T")[0]:null,dueDate:s.data.due_date?new Date(s.data.due_date).toISOString().split("T")[0]:null,priority:s.data.priority||"medium",status:s.data.status||"pending",estimatedHours:s.data.estimated_hours||0,actualHours:s.data.actual_hours||0,createdAt:s.data.created_at,updatedAt:s.data.updated_at};p.value==="franchisee"?v.value.unshift(i):_.value.unshift(i)}else console.error("Failed to create task:",s)}catch(s){console.error("Error creating task:",s)}},de=[...Fe],re=r=>{d.value=r,z.value=!0},ne=r=>{d.value={...r},D.value=!0},ue=r=>{I.value=r,h.value=!0},Ue=async()=>{if(I.value!==null){try{const r=await O(`/v1/franchisor/tasks/${I.value}`,{method:"DELETE"});if(r.success)if(p.value==="franchisee"){const e=v.value.findIndex(n=>n.id===I.value);e!==-1&&v.value.splice(e,1)}else{const e=_.value.findIndex(n=>n.id===I.value);e!==-1&&_.value.splice(e,1)}else console.error("Failed to delete task:",r)}catch(r){console.error("Error deleting task:",r)}h.value=!1,I.value=null}},He=async()=>{var r,e;if(d.value){try{const n=await O(`/v1/franchisor/tasks/${d.value.id}`,{method:"PUT",body:{title:d.value.title,description:d.value.description,category:d.value.category,priority:d.value.priority,status:d.value.status,due_date:d.value.dueDate,estimated_hours:d.value.estimatedHours,actual_hours:d.value.actualHours}});if(n.success){const s={id:n.data.id,title:n.data.title,description:n.data.description,category:n.data.type||"other",assignedTo:((r=n.data.assigned_to)==null?void 0:r.name)||d.value.assignedTo,unitName:((e=n.data.unit)==null?void 0:e.unit_name)||d.value.unitName,startDate:n.data.started_at?new Date(n.data.started_at).toISOString().split("T")[0]:d.value.startDate,dueDate:n.data.due_date?new Date(n.data.due_date).toISOString().split("T")[0]:d.value.dueDate,priority:n.data.priority||d.value.priority,status:n.data.status||d.value.status,estimatedHours:n.data.estimated_hours||d.value.estimatedHours,actualHours:n.data.actual_hours||d.value.actualHours,createdAt:n.data.created_at,updatedAt:n.data.updated_at};if(p.value==="franchisee"){const i=v.value.findIndex(y=>y.id===d.value.id);i!==-1&&(v.value[i]=s)}else{const i=_.value.findIndex(y=>y.id===d.value.id);i!==-1&&(_.value[i]=s)}}else console.error("Failed to update task:",n)}catch(n){console.error("Error updating task:",n)}D.value=!1,d.value=null}};return pe(p,async r=>{await j(r)}),pe(D,async r=>{r&&await j(p.value)}),Me(async()=>{he(),ze(),await j(p.value)}),(r,e)=>{const n=Ee;return x(),P("section",null,[t(L,{class:"mb-6"},{default:a(()=>[t(c,{cols:"12"},{default:a(()=>[o("div",Ke,[e[26]||(e[26]=o("div",null,[o("h2",{class:"text-h2 mb-1"}," Tasks Management "),o("p",{class:"text-body-1 text-medium-emphasis"}," Manage and track tasks across franchisees and sales teams ")],-1)),t(w,{color:"primary","prepend-icon":"tabler-plus",onClick:e[0]||(e[0]=s=>M.value=!0)},{default:a(()=>e[25]||(e[25]=[m(" Create Task ")])),_:1,__:[25]})])]),_:1})]),_:1}),t(Be,{modelValue:l(p),"onUpdate:modelValue":e[1]||(e[1]=s=>A(p)?p.value=s:null),class:"mb-6"},{default:a(()=>[t(be,{value:"franchisee"},{default:a(()=>[t(f,{icon:"tabler-building-store",start:""}),e[27]||(e[27]=m(" Franchisee Tasks "))]),_:1,__:[27]}),t(be,{value:"sales"},{default:a(()=>[t(f,{icon:"tabler-user-star",start:""}),e[28]||(e[28]=m(" Sales Tasks "))]),_:1,__:[28]})]),_:1},8,["modelValue"]),t(je,{modelValue:l(p),"onUpdate:modelValue":e[4]||(e[4]=s=>A(p)?p.value=s:null),class:"disable-tab-transition"},{default:a(()=>[t(ye,{value:"franchisee"},{default:a(()=>[l($)?(x(),C(ge,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[2]||(e[2]=s=>$.value=null)},{default:a(()=>[m(u(l($)),1)]),_:1})):R("",!0),l(G)?(x(),P("div",We,[t(ve,{indeterminate:"",size:"64",class:"mb-4"}),e[29]||(e[29]=o("h3",{class:"text-h3 mb-2"}," Loading Franchisee Tasks... ",-1)),e[30]||(e[30]=o("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the task information. ",-1))])):(x(),P(_e,{key:2},[t(L,{class:"mb-6"},{default:a(()=>[t(c,{cols:"12",md:"3"},{default:a(()=>[t(V,null,{default:a(()=>[t(T,{class:"d-flex align-center"},{default:a(()=>[t(S,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:a(()=>[t(f,{icon:"tabler-checklist",size:"26"})]),_:1}),o("div",Ye,[e[31]||(e[31]=o("div",{class:"text-body-2 text-disabled"}," Total Tasks ",-1)),o("h4",Je,u(l(Z)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:a(()=>[t(V,null,{default:a(()=>[t(T,{class:"d-flex align-center"},{default:a(()=>[t(S,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:a(()=>[t(f,{icon:"tabler-check",size:"26"})]),_:1}),o("div",Qe,[e[32]||(e[32]=o("div",{class:"text-body-2 text-disabled"}," Completed ",-1)),o("h4",Xe,u(l(ee)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:a(()=>[t(V,null,{default:a(()=>[t(T,{class:"d-flex align-center"},{default:a(()=>[t(S,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:a(()=>[t(f,{icon:"tabler-clock",size:"26"})]),_:1}),o("div",Ze,[e[33]||(e[33]=o("div",{class:"text-body-2 text-disabled"}," In Progress ",-1)),o("h4",et,u(l(te)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:a(()=>[t(V,null,{default:a(()=>[t(T,{class:"d-flex align-center"},{default:a(()=>[t(S,{size:"44",rounded:"",color:"error",variant:"tonal"},{default:a(()=>[t(f,{icon:"tabler-alert-circle",size:"26"})]),_:1}),o("div",tt,[e[34]||(e[34]=o("div",{class:"text-body-2 text-disabled"}," Due ",-1)),o("h4",at,u(l(ae)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(V,null,{default:a(()=>[t(xe,{class:"pb-4"},{default:a(()=>[t(Ve,null,{default:a(()=>e[35]||(e[35]=[m("Franchisee Tasks")])),_:1,__:[35]}),t(Te,{class:"text-body-2 text-disabled"},{default:a(()=>e[36]||(e[36]=[m(" View and manage tasks assigned to your franchisees ")])),_:1,__:[36]})]),_:1}),t(U),l(v).length>0?(x(),C(ke,{key:0,items:l(v),headers:de,class:"text-no-wrap","item-value":"id"},{"item.taskInfo":a(({item:s})=>[o("div",null,[o("h6",st,u(s.title),1),o("div",lt,u(s.description),1)])]),"item.unitName":a(({item:s})=>[o("div",ot,u(s.unitName),1)]),"item.priority":a(({item:s})=>[t(N,{color:Y(s.priority),size:"small",label:"",class:"text-capitalize"},{default:a(()=>[m(u(s.priority),1)]),_:2},1032,["color"])]),"item.status":a(({item:s})=>[t(N,{color:W(s.status),size:"small",label:"",class:"text-capitalize"},{default:a(()=>[m(u(s.status),1)]),_:2},1032,["color"])]),"item.actions":a(({item:s})=>[t(w,{icon:"",variant:"text",color:"medium-emphasis",size:"small"},{default:a(()=>[t(f,{icon:"tabler-dots-vertical"}),t(De,{activator:"parent"},{default:a(()=>[t(we,null,{default:a(()=>[t(H,{onClick:i=>re(s)},{prepend:a(()=>[t(f,{icon:"tabler-eye"})]),default:a(()=>[t(E,null,{default:a(()=>e[37]||(e[37]=[m("View")])),_:1,__:[37]})]),_:2},1032,["onClick"]),t(H,{onClick:i=>ne(s)},{prepend:a(()=>[t(f,{icon:"tabler-edit"})]),default:a(()=>[t(E,null,{default:a(()=>e[38]||(e[38]=[m("Edit")])),_:1,__:[38]})]),_:2},1032,["onClick"]),t(H,{onClick:i=>ue(s.id)},{prepend:a(()=>[t(f,{icon:"tabler-trash"})]),default:a(()=>[t(E,null,{default:a(()=>e[39]||(e[39]=[m("Delete")])),_:1,__:[39]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["items"])):(x(),C(T,{key:1,class:"py-8"},{default:a(()=>[o("div",it,[t(f,{icon:"tabler-checklist",size:"64",class:"text-disabled mb-4"}),e[40]||(e[40]=o("h4",{class:"text-h4 mb-2"}," No Franchisee Tasks Found ",-1)),e[41]||(e[41]=o("p",{class:"text-body-1 text-medium-emphasis"}," There are no tasks assigned to franchisees yet. Create tasks to manage operations across your franchise network. ",-1))])]),_:1}))]),_:1})],64))]),_:1}),t(ye,{value:"sales"},{default:a(()=>[l(F)?(x(),C(ge,{key:0,type:"error",variant:"tonal",class:"mb-4",closable:"","onClick:close":e[3]||(e[3]=s=>F.value=null)},{default:a(()=>[m(u(l(F)),1)]),_:1})):R("",!0),l(K)?(x(),P("div",dt,[t(ve,{indeterminate:"",size:"64",class:"mb-4"}),e[42]||(e[42]=o("h3",{class:"text-h3 mb-2"}," Loading Sales Tasks... ",-1)),e[43]||(e[43]=o("p",{class:"text-body-1 text-medium-emphasis"}," Please wait while we fetch the sales team task information. ",-1))])):(x(),P(_e,{key:2},[t(L,{class:"mb-6"},{default:a(()=>[t(c,{cols:"12",md:"3"},{default:a(()=>[t(V,null,{default:a(()=>[t(T,{class:"d-flex align-center"},{default:a(()=>[t(S,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:a(()=>[t(f,{icon:"tabler-checklist",size:"26"})]),_:1}),o("div",rt,[e[44]||(e[44]=o("div",{class:"text-body-2 text-disabled"}," Total Tasks ",-1)),o("h4",nt,u(l(se)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:a(()=>[t(V,null,{default:a(()=>[t(T,{class:"d-flex align-center"},{default:a(()=>[t(S,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:a(()=>[t(f,{icon:"tabler-check",size:"26"})]),_:1}),o("div",ut,[e[45]||(e[45]=o("div",{class:"text-body-2 text-disabled"}," Completed ",-1)),o("h4",mt,u(l(le)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:a(()=>[t(V,null,{default:a(()=>[t(T,{class:"d-flex align-center"},{default:a(()=>[t(S,{size:"44",rounded:"",color:"warning",variant:"tonal"},{default:a(()=>[t(f,{icon:"tabler-clock",size:"26"})]),_:1}),o("div",ct,[e[46]||(e[46]=o("div",{class:"text-body-2 text-disabled"}," In Progress ",-1)),o("h4",ft,u(l(oe)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"3"},{default:a(()=>[t(V,null,{default:a(()=>[t(T,{class:"d-flex align-center"},{default:a(()=>[t(S,{size:"44",rounded:"",color:"error",variant:"tonal"},{default:a(()=>[t(f,{icon:"tabler-alert-circle",size:"26"})]),_:1}),o("div",pt,[e[47]||(e[47]=o("div",{class:"text-body-2 text-disabled"}," Due ",-1)),o("h4",vt,u(l(ie)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(V,null,{default:a(()=>[t(xe,{class:"pb-4"},{default:a(()=>[t(Ve,null,{default:a(()=>e[48]||(e[48]=[m("Sales Team Tasks")])),_:1,__:[48]}),t(Te,{class:"text-body-2 text-disabled"},{default:a(()=>e[49]||(e[49]=[m(" View and manage tasks assigned to your sales team ")])),_:1,__:[49]})]),_:1}),t(U),l(_).length>0?(x(),C(ke,{key:0,items:l(_),headers:de,class:"text-no-wrap","item-value":"id"},{"item.taskInfo":a(({item:s})=>[o("div",null,[o("h6",_t,u(s.title),1),o("div",bt,u(s.description),1)])]),"item.unitName":a(({item:s})=>[o("div",yt,u(s.unitName),1)]),"item.priority":a(({item:s})=>[t(N,{color:Y(s.priority),size:"small",label:"",class:"text-capitalize"},{default:a(()=>[m(u(s.priority),1)]),_:2},1032,["color"])]),"item.status":a(({item:s})=>[t(N,{color:W(s.status),size:"small",label:"",class:"text-capitalize"},{default:a(()=>[m(u(s.status),1)]),_:2},1032,["color"])]),"item.actions":a(({item:s})=>[t(w,{icon:"",variant:"text",color:"medium-emphasis",size:"small"},{default:a(()=>[t(f,{icon:"tabler-dots-vertical"}),t(De,{activator:"parent"},{default:a(()=>[t(we,null,{default:a(()=>[t(H,{onClick:i=>re(s)},{prepend:a(()=>[t(f,{icon:"tabler-eye"})]),default:a(()=>[t(E,null,{default:a(()=>e[50]||(e[50]=[m("View")])),_:1,__:[50]})]),_:2},1032,["onClick"]),t(H,{onClick:i=>ne(s)},{prepend:a(()=>[t(f,{icon:"tabler-edit"})]),default:a(()=>[t(E,null,{default:a(()=>e[51]||(e[51]=[m("Edit")])),_:1,__:[51]})]),_:2},1032,["onClick"]),t(H,{onClick:i=>ue(s.id)},{prepend:a(()=>[t(f,{icon:"tabler-trash"})]),default:a(()=>[t(E,null,{default:a(()=>e[52]||(e[52]=[m("Delete")])),_:1,__:[52]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["items"])):(x(),C(T,{key:1,class:"py-8"},{default:a(()=>[o("div",gt,[t(f,{icon:"tabler-user-star",size:"64",class:"text-disabled mb-4"}),e[53]||(e[53]=o("h4",{class:"text-h4 mb-2"}," No Sales Tasks Found ",-1)),e[54]||(e[54]=o("p",{class:"text-body-1 text-medium-emphasis"}," There are no tasks assigned to the sales team yet. Create tasks to track sales activities and goals. ",-1))])]),_:1}))]),_:1})],64))]),_:1})]),_:1},8,["modelValue"]),t($e,{"is-dialog-visible":l(M),"onUpdate:isDialogVisible":e[5]||(e[5]=s=>A(M)?M.value=s:null),"current-tab":l(p),onTaskCreated:Ae},null,8,["is-dialog-visible","current-tab"]),t(J,{modelValue:l(z),"onUpdate:modelValue":e[8]||(e[8]=s=>A(z)?z.value=s:null),"max-width":"600"},{default:a(()=>[t(n,{onClick:e[6]||(e[6]=s=>z.value=!1)}),t(V,{title:"Task Details"},{default:a(()=>[t(U),l(d)?(x(),C(T,{key:0,class:"pa-6"},{default:a(()=>[t(L,null,{default:a(()=>[t(c,{cols:"12"},{default:a(()=>[o("h6",xt,u(l(d).title),1),o("p",Vt,u(l(d).description),1)]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[e[55]||(e[55]=o("div",{class:"text-body-2 text-disabled mb-1"}," Category ",-1)),o("div",Tt,u(l(d).category),1)]),_:1,__:[55]}),t(c,{cols:"12",md:"6"},{default:a(()=>[e[56]||(e[56]=o("div",{class:"text-body-2 text-disabled mb-1"}," Assigned To ",-1)),o("div",kt,u(l(d).assignedTo),1)]),_:1,__:[56]}),t(c,{cols:"12",md:"6"},{default:a(()=>[e[57]||(e[57]=o("div",{class:"text-body-2 text-disabled mb-1"}," Start Date ",-1)),o("div",Dt,u(l(d).startDate),1)]),_:1,__:[57]}),t(c,{cols:"12",md:"6"},{default:a(()=>[e[58]||(e[58]=o("div",{class:"text-body-2 text-disabled mb-1"}," Due Date ",-1)),o("div",wt,u(l(d).dueDate),1)]),_:1,__:[58]}),t(c,{cols:"12",md:"6"},{default:a(()=>[e[59]||(e[59]=o("div",{class:"text-body-2 text-disabled mb-1"}," Priority ",-1)),t(N,{color:Y(l(d).priority),size:"small",label:"",class:"text-capitalize"},{default:a(()=>[m(u(l(d).priority),1)]),_:1},8,["color"])]),_:1,__:[59]}),t(c,{cols:"12",md:"6"},{default:a(()=>[e[60]||(e[60]=o("div",{class:"text-body-2 text-disabled mb-1"}," Status ",-1)),t(N,{color:W(l(d).status),size:"small",label:"",class:"text-capitalize"},{default:a(()=>[m(u(l(d).status),1)]),_:1},8,["color"])]),_:1,__:[60]})]),_:1})]),_:1})):R("",!0),t(U),t(Q,{class:"pa-6"},{default:a(()=>[t(X),t(w,{color:"secondary",variant:"tonal",onClick:e[7]||(e[7]=s=>z.value=!1)},{default:a(()=>e[61]||(e[61]=[m(" Close ")])),_:1,__:[61]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(J,{modelValue:l(D),"onUpdate:modelValue":e[21]||(e[21]=s=>A(D)?D.value=s:null),"max-width":"600",persistent:""},{default:a(()=>[t(n,{onClick:e[9]||(e[9]=s=>D.value=!1)}),t(V,{title:"Edit Task"},{default:a(()=>[t(U),l(d)?(x(),C(T,{key:0,class:"pa-6"},{default:a(()=>[t(L,null,{default:a(()=>[t(c,{cols:"12"},{default:a(()=>[t(q,{modelValue:l(d).title,"onUpdate:modelValue":e[10]||(e[10]=s=>l(d).title=s),label:"Task Title",placeholder:"Enter task title",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12"},{default:a(()=>[t(Ge,{modelValue:l(d).description,"onUpdate:modelValue":e[11]||(e[11]=s=>l(d).description=s),label:"Description",placeholder:"Enter task description",rows:"3",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(B,{modelValue:l(d).category,"onUpdate:modelValue":e[12]||(e[12]=s=>l(d).category=s),label:"Category",placeholder:"Select category",items:l(Pe),required:""},null,8,["modelValue","items"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(B,{modelValue:l(d).assignedTo,"onUpdate:modelValue":e[13]||(e[13]=s=>l(d).assignedTo=s),label:"Assigned To",placeholder:"Select user",items:l(Ie),loading:l(Se),"item-title":"title","item-value":"value",required:""},null,8,["modelValue","items","loading"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(q,{modelValue:l(d).startDate,"onUpdate:modelValue":e[14]||(e[14]=s=>l(d).startDate=s),label:"Start Date",type:"date",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(q,{modelValue:l(d).dueDate,"onUpdate:modelValue":e[15]||(e[15]=s=>l(d).dueDate=s),label:"Due Date",type:"date",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(B,{modelValue:l(d).priority,"onUpdate:modelValue":e[16]||(e[16]=s=>l(d).priority=s),label:"Priority",items:l(Oe),required:""},null,8,["modelValue","items"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(B,{modelValue:l(d).status,"onUpdate:modelValue":e[17]||(e[17]=s=>l(d).status=s),label:"Status",items:l(Le),required:""},null,8,["modelValue","items"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(q,{modelValue:l(d).estimatedHours,"onUpdate:modelValue":e[18]||(e[18]=s=>l(d).estimatedHours=s),label:"Estimated Hours",type:"number",min:"0"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(q,{modelValue:l(d).actualHours,"onUpdate:modelValue":e[19]||(e[19]=s=>l(d).actualHours=s),label:"Actual Hours",type:"number",min:"0"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})):R("",!0),t(U),t(Q,{class:"pa-6"},{default:a(()=>[t(X),t(w,{color:"secondary",variant:"tonal",onClick:e[20]||(e[20]=s=>D.value=!1)},{default:a(()=>e[62]||(e[62]=[m(" Cancel ")])),_:1,__:[62]}),t(w,{color:"primary",onClick:He},{default:a(()=>e[63]||(e[63]=[m(" Save Changes ")])),_:1,__:[63]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(J,{modelValue:l(h),"onUpdate:modelValue":e[24]||(e[24]=s=>A(h)?h.value=s:null),"max-width":"600"},{default:a(()=>[t(n,{onClick:e[22]||(e[22]=s=>h.value=!1)}),t(V,{title:"Confirm Delete"},{default:a(()=>[t(T,null,{default:a(()=>e[64]||(e[64]=[m(" Are you sure you want to delete this task? This action cannot be undone. ")])),_:1,__:[64]}),t(Q,null,{default:a(()=>[t(X),t(w,{color:"secondary",variant:"tonal",onClick:e[23]||(e[23]=s=>h.value=!1)},{default:a(()=>e[65]||(e[65]=[m(" Cancel ")])),_:1,__:[65]}),t(w,{color:"error",onClick:Ue},{default:a(()=>e[66]||(e[66]=[m(" Delete ")])),_:1,__:[66]})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}});export{ia as default};
