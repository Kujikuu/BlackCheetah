import{_ as L}from"./AppStepper.vue_vue_type_style_index_0_lang-DwjkI6Gx.js";import{_ as M}from"./AppTextarea.vue_vue_type_script_setup_true_lang-Cbu5QOEk.js";import{_ as O}from"./AppDateTimePicker.vue_vue_type_style_index_0_lang-C32--7EL.js";import{_ as x}from"./AppSelect.vue_vue_type_script_setup_true_lang-DYWNHqEN.js";import{V as N,a as r}from"./VRow-CWZpCBwA.js";import{V as E}from"./VFileInput-eH_XIi2N.js";import{d as g,r as v,w as k,g as b,o as V,f as o,b as e,e as _,m as a,c2 as P,j as $,x as J,au as A,a3 as D,t as w,aa as U,aO as T}from"./main-C-XcYpJA.js";import{_ as j}from"./AppTextField.vue_vue_type_script_setup_true_lang-cll0KdiE.js";import{V as F}from"./VCard-DISeXwr4.js";import{V as h}from"./VCardText-CEySelaG.js";import{a as R,V as I}from"./VWindowItem-C8n-jKjP.js";import"./VSlideGroup-BQAU8ct_.js";import"./VAvatar-D2epmcpy.js";import"./VImg-D1uZhlk0.js";import"./form-DuADsac0.js";import"./VTextarea-BQT8izNQ.js";/* empty css                   */import"./VCounter-C_LbNd2E.js";import"./VField-DIWiONsX.js";import"./easing-Bybner-F.js";import"./VInput-BTftOa-l.js";import"./forwardRefs-C-GTDzx5.js";import"./VSelect-5-kca9Hr.js";import"./VTextField-CSI95_ey.js";import"./VList-9s1GRErj.js";import"./ssrBoot-DtjyrkNE.js";import"./VDivider-Bk49LTaU.js";import"./dialog-transition-B1a2-QrP.js";import"./VMenu-CeGarMgs.js";import"./VOverlay-EFD0dTaV.js";import"./lazy-CYX4z4FS.js";import"./scopeId-Cz5VrSPP.js";import"./VCheckboxBtn-BSH2AfDu.js";import"./VSelectionControl-CAJyj1-L.js";import"./VChip-CzBtwj53.js";/* empty css              */const z=g({__name:"AdditionalDetails",props:{formData:{}},emits:["update:formData"],setup(S,{emit:f}){const c=S,u=f,l=v(c.formData);k(l,()=>{u("update:formData",l.value)},{deep:!0});const d=[{title:"Website",value:"website"},{title:"Referral",value:"referral"},{title:"Social Media",value:"social_media"},{title:"Advertisement",value:"advertisement"},{title:"Cold Call",value:"cold_call"},{title:"Event",value:"event"},{title:"Other",value:"other"}],p=[{title:"New",value:"new"},{title:"Contacted",value:"contacted"},{title:"Qualified",value:"qualified"},{title:"Proposal Sent",value:"proposal_sent"},{title:"Negotiating",value:"negotiating"},{title:"Closed Won",value:"closed_won"},{title:"Closed Lost",value:"closed_lost"}],y=[{title:"Sarah Johnson",value:"sarah_johnson"},{title:"John Smith",value:"john_smith"},{title:"Michael Brown",value:"michael_brown"}],i=t=>{const s=t.target;s.files&&(l.value.attachments=Array.from(s.files))};return(t,s)=>{const n=x,C=O,B=M;return V(),b(N,null,{default:o(()=>[e(r,{cols:"12"},{default:o(()=>s[6]||(s[6]=[_("h5",{class:"text-h5 mb-1"}," Additional Details ",-1),_("p",{class:"text-body-1 mb-6"}," Provide lead management and tracking information ",-1)])),_:1,__:[6]}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(n,{modelValue:a(l).leadSource,"onUpdate:modelValue":s[0]||(s[0]=m=>a(l).leadSource=m),label:"Lead Source",placeholder:"Select Source",items:d},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(n,{modelValue:a(l).leadStatus,"onUpdate:modelValue":s[1]||(s[1]=m=>a(l).leadStatus=m),label:"Lead Status",placeholder:"Select Status",items:p},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(n,{modelValue:a(l).leadOwner,"onUpdate:modelValue":s[2]||(s[2]=m=>a(l).leadOwner=m),label:"Lead Owner",placeholder:"Select Owner",items:y},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(C,{modelValue:a(l).lastContactedDate,"onUpdate:modelValue":s[3]||(s[3]=m=>a(l).lastContactedDate=m),label:"Last Contacted Date",placeholder:"Select Date"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(C,{modelValue:a(l).scheduledMeetingDate,"onUpdate:modelValue":s[4]||(s[4]=m=>a(l).scheduledMeetingDate=m),label:"Scheduled Meeting Date",placeholder:"Select Date"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12"},{default:o(()=>[e(B,{modelValue:a(l).note,"onUpdate:modelValue":s[5]||(s[5]=m=>a(l).note=m),label:"Note",placeholder:"Add any additional notes about this lead...",rows:"4"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12"},{default:o(()=>[e(E,{label:"Attachments",multiple:"","prepend-icon":"tabler-paperclip",placeholder:"Upload files",chips:"","show-size":"",counter:"",onChange:i})]),_:1})]),_:1})}}}),W=g({__name:"BasicInfo",props:{formData:{}},emits:["update:formData"],setup(S,{emit:f}){const c=S,u=f,l=v(c.formData);k(l,()=>{u("update:formData",l.value)},{deep:!0});const d=[{title:"Saudi Arabia",value:"Saudi Arabia"},{title:"United Arab Emirates",value:"United Arab Emirates"},{title:"Qatar",value:"Qatar"},{title:"Kuwait",value:"Kuwait"},{title:"Oman",value:"Oman"},{title:"Bahrain",value:"Bahrain"},{title:"Jordan",value:"Jordan"},{title:"Lebanon",value:"Lebanon"},{title:"Egypt",value:"Egypt"},{title:"Iraq",value:"Iraq"},{title:"Syria",value:"Syria"},{title:"Palestine",value:"Palestine"},{title:"Yemen",value:"Yemen"}],p=[{title:"Riyadh",value:"Riyadh"},{title:"Makkah",value:"Makkah"},{title:"Medina",value:"Medina"},{title:"Eastern Province",value:"Eastern Province"},{title:"Asir",value:"Asir"},{title:"Tabuk",value:"Tabuk"},{title:"Hail",value:"Hail"},{title:"Northern Borders",value:"Northern Borders"},{title:"Jazan",value:"Jazan"},{title:"Najran",value:"Najran"},{title:"Al Bahah",value:"Al Bahah"},{title:"Al Jawf",value:"Al Jawf"}];return(y,i)=>{const t=j,s=x;return V(),b(N,null,{default:o(()=>[e(r,{cols:"12"},{default:o(()=>i[8]||(i[8]=[_("h5",{class:"text-h5 mb-1"}," Basic Information ",-1),_("p",{class:"text-body-1 mb-6"}," Enter lead's personal and contact details ",-1)])),_:1,__:[8]}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(t,{modelValue:a(l).firstName,"onUpdate:modelValue":i[0]||(i[0]=n=>a(l).firstName=n),label:"First Name",placeholder:"John"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(t,{modelValue:a(l).lastName,"onUpdate:modelValue":i[1]||(i[1]=n=>a(l).lastName=n),label:"Last Name",placeholder:"Doe"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(t,{modelValue:a(l).email,"onUpdate:modelValue":i[2]||(i[2]=n=>a(l).email=n),label:"Email Address",type:"email",placeholder:"john.doe@example.com"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(t,{modelValue:a(l).contactNumber,"onUpdate:modelValue":i[3]||(i[3]=n=>a(l).contactNumber=n),label:"Contact Number",placeholder:"+966 50 123 4567"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(s,{modelValue:a(l).country,"onUpdate:modelValue":i[4]||(i[4]=n=>a(l).country=n),label:"Country",placeholder:"Select Country",items:d},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(s,{modelValue:a(l).state,"onUpdate:modelValue":i[5]||(i[5]=n=>a(l).state=n),label:"State",placeholder:"Select State",items:p},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(t,{modelValue:a(l).city,"onUpdate:modelValue":i[6]||(i[6]=n=>a(l).city=n),label:"City",placeholder:"San Francisco"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",md:"6"},{default:o(()=>[e(t,{modelValue:a(l).companyName,"onUpdate:modelValue":i[7]||(i[7]=n=>a(l).companyName=n),label:"Company Name",placeholder:"Tech Corp"},null,8,["modelValue"])]),_:1})]),_:1})}}}),q={class:"d-flex flex-wrap gap-4 justify-space-between mt-6"},Ie=g({__name:"add-lead",setup(S){const{mdAndUp:f}=P(),c=[{title:"Basic Information",subtitle:"Personal & Contact Details",icon:"tabler-user"},{title:"Additional Details",subtitle:"Lead Management Info",icon:"tabler-file-info"}],u=v(0),l=$(),d=v({basicInfo:{firstName:"",lastName:"",email:"",contactNumber:"",country:null,state:null,city:"",companyName:""},additionalDetails:{leadSource:null,leadStatus:null,leadOwner:null,lastContactedDate:"",scheduledMeetingDate:"",note:"",attachments:[]}}),p=v(!1),y=async()=>{try{p.value=!0;const i={first_name:d.value.basicInfo.firstName,last_name:d.value.basicInfo.lastName,email:d.value.basicInfo.email,phone:d.value.basicInfo.contactNumber,company:d.value.basicInfo.companyName||null,country:d.value.basicInfo.country||null,state:d.value.basicInfo.state||null,city:d.value.basicInfo.city||null,source:d.value.additionalDetails.leadSource||"website",status:d.value.additionalDetails.leadStatus||"new",priority:"medium",notes:d.value.additionalDetails.note||null},t=await T("/v1/franchisor/leads",{method:"POST",body:i});t.success&&(console.log("Lead created successfully:",t.data),l.push({name:"franchisor-lead-management"}))}catch(i){console.error("Error adding lead:",i)}finally{p.value=!1}};return(i,t)=>{const s=L;return V(),b(F,null,{default:o(()=>[e(N,{"no-gutters":""},{default:o(()=>[e(r,{cols:"12",md:"4",lg:"3",class:J(a(f)?"border-e":"border-b")},{default:o(()=>[e(h,null,{default:o(()=>[e(s,{"current-step":a(u),"onUpdate:currentStep":t[0]||(t[0]=n=>A(u)?u.value=n:null),direction:"vertical",items:c,"icon-size":"22",class:"stepper-icon-step-bg"},null,8,["current-step"])]),_:1})]),_:1},8,["class"]),e(r,{cols:"12",md:"8",lg:"9"},{default:o(()=>[e(h,null,{default:o(()=>[e(R,{modelValue:a(u),"onUpdate:modelValue":t[3]||(t[3]=n=>A(u)?u.value=n:null),class:"disable-tab-transition"},{default:o(()=>[e(I,null,{default:o(()=>[e(W,{"form-data":a(d).basicInfo,"onUpdate:formData":t[1]||(t[1]=n=>a(d).basicInfo=n)},null,8,["form-data"])]),_:1}),e(I,null,{default:o(()=>[e(z,{"form-data":a(d).additionalDetails,"onUpdate:formData":t[2]||(t[2]=n=>a(d).additionalDetails=n)},null,8,["form-data"])]),_:1})]),_:1},8,["modelValue"]),_("div",q,[e(D,{color:"secondary",variant:"tonal",disabled:a(u)===0,onClick:t[4]||(t[4]=n=>u.value--)},{default:o(()=>[e(U,{icon:"tabler-arrow-left",start:"",class:"flip-in-rtl"}),t[6]||(t[6]=w(" Previous "))]),_:1,__:[6]},8,["disabled"]),c.length-1===a(u)?(V(),b(D,{key:0,color:"success",loading:a(p),disabled:a(p),onClick:y},{default:o(()=>t[7]||(t[7]=[w(" Submit ")])),_:1,__:[7]},8,["loading","disabled"])):(V(),b(D,{key:1,onClick:t[5]||(t[5]=n=>u.value++)},{default:o(()=>[t[8]||(t[8]=w(" Next ")),e(U,{icon:"tabler-arrow-right",end:"",class:"flip-in-rtl"})]),_:1,__:[8]}))])]),_:1})]),_:1})]),_:1})]),_:1})}}});export{Ie as default};
