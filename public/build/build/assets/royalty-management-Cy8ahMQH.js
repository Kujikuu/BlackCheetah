import{f as N}from"./formatters--UtN2sCw.js";import{d as se,r as i,g as Y,f as l,b as t,m as h,aR as Z,e as s,t as d,v as c,a9 as C,o as F,P as ee,G as Ue,c as Me,b5 as z,ax as P,l as te,b3 as Pe}from"./main-gemCwVks.js";import{V as ie,_ as ne}from"./VDialog-6C-NQXCx.js";import{r as O,_ as Ae,a as qe}from"./ViewRoyaltyDetailsDialog.vue_vue_type_script_setup_true_lang-DcVXU_5y.js";import{V as j}from"./VCardText-BD5AHO-w.js";import{V as A,a as u}from"./VRow-DiX7eN30.js";import{V as k}from"./VSelect-C9dxRhag.js";import{V as Te}from"./VAlert-RufLsxZw.js";import{d as ue,V as q,a as Fe,b as Oe,c as je}from"./VCard-DJ82mpnW.js";import{V as de}from"./VSpacer-Cpeayo2U.js";import{V as ae}from"./VAvatar-12xz6mHy.js";import{S as Ee}from"./saudi-riyal-DZyktURw.js";import{V as Be}from"./VDivider-B4ry9pxl.js";import{V as $e}from"./VDataTable-C-SlKz4P.js";import{V as le}from"./VTooltip-CVtgTmoh.js";import{V as oe}from"./VChip-DlNApjyg.js";import{V as Ie}from"./VForm-FUZpY-zG.js";import{V}from"./VTextField-BhxF6EAD.js";import{V as re}from"./VTextarea-OEcL0zKK.js";import"./VOverlay-p8m6-W96.js";import"./forwardRefs--KQCZfKO.js";import"./scopeId-BgtgI3QF.js";import"./VImg-DSB6m92Q.js";import"./dialog-transition-C9rYmnXC.js";import"./VFileInput-CB0ItP4X.js";import"./VField-CsHfcJSz.js";import"./form-DjHlhIbZ.js";import"./VInput-B3GinL-f.js";import"./VTable-0Z68chLt.js";/* empty css              */import"./VList-MyW-iB3v.js";import"./VMenu-CeaiRCNz.js";import"./VCheckboxBtn-ZAK0D-Rf.js";import"./VSelectionControl-COVpGwiX.js";import"./VSlideGroup-CEWgOBQJ.js";const Le={class:"text-body-2"},Ne=se({__name:"ExportRoyaltyDialog",props:{isDialogVisible:{type:Boolean},selectedPeriod:{}},emits:["update:isDialogVisible","export-completed"],setup(G,{emit:T}){const R=G,_=T,p=i("csv"),g=i("all"),x=i(!1),D=[{title:"CSV",value:"csv"},{title:"Excel",value:"excel"}],b=[{title:"All Royalties",value:"all"},{title:"Paid Only",value:"paid"},{title:"Pending Only",value:"pending"},{title:"Overdue Only",value:"overdue"}],S=async()=>{try{x.value=!0;const r=await O.exportRoyalties({format:p.value,data_type:g.value,period:R.selectedPeriod}),n=window.URL.createObjectURL(r),v=document.createElement("a");v.href=n,v.download=`royalties_${R.selectedPeriod}_${new Date().toISOString().split("T")[0]}.${p.value}`,document.body.appendChild(v),v.click(),document.body.removeChild(v),window.URL.revokeObjectURL(n),_("export-completed"),_("update:isDialogVisible",!1)}catch(r){console.error("Export failed:",r)}finally{x.value=!1}},U=()=>{_("update:isDialogVisible",!1)};return(r,n)=>{const v=ne;return F(),Y(ie,{"model-value":r.isDialogVisible,"max-width":"600","onUpdate:modelValue":n[2]||(n[2]=f=>_("update:isDialogVisible",f))},{default:l(()=>[t(v,{onClick:U}),t(q,{title:"Export Royalty Data"},{default:l(()=>[t(j,null,{default:l(()=>[t(A,null,{default:l(()=>[t(u,{cols:"12"},{default:l(()=>[t(k,{modelValue:h(g),"onUpdate:modelValue":n[0]||(n[0]=f=>Z(g)?g.value=f:null),items:b,"item-title":"title","item-value":"value",label:"Data Type",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1}),t(u,{cols:"12"},{default:l(()=>[t(k,{modelValue:h(p),"onUpdate:modelValue":n[1]||(n[1]=f=>Z(p)?p.value=f:null),items:D,"item-title":"title","item-value":"value",label:"Export Format",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1}),t(Te,{type:"info",variant:"tonal",class:"mt-4"},{default:l(()=>{var f;return[s("div",Le,[n[3]||(n[3]=s("strong",null,"Current Selection:",-1)),n[4]||(n[4]=s("br",null,null,-1)),d(" Period: "+c(r.selectedPeriod.charAt(0).toUpperCase()+r.selectedPeriod.slice(1)),1),n[5]||(n[5]=s("br",null,null,-1)),d(" Data Type: "+c((f=b.find(E=>E.value===h(g)))==null?void 0:f.title),1),n[6]||(n[6]=s("br",null,null,-1)),d(" Format: "+c(h(p).toUpperCase()),1)])]}),_:1})]),_:1}),t(ue,null,{default:l(()=>[t(de),t(C,{color:"secondary",variant:"tonal",onClick:U},{default:l(()=>n[7]||(n[7]=[d(" Cancel ")])),_:1,__:[7]}),t(C,{color:"primary",loading:h(x),onClick:S},{default:l(()=>n[8]||(n[8]=[d(" Export Data ")])),_:1,__:[8]},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model-value"])}}}),ze={class:"d-flex justify-space-between align-center flex-wrap gap-4"},Ye={class:"d-flex gap-3 align-center flex-wrap"},Ge={class:"d-flex align-center justify-space-between"},He={class:"text-h4 text-success"},Qe={class:"d-flex align-center justify-space-between"},Je={class:"text-h4 text-warning"},Ke={class:"font-weight-medium"},We={class:"font-weight-medium text-primary"},Xe={class:"text-body-2 text-medium-emphasis"},Ze={class:"text-body-2"},et={class:"font-weight-medium text-info"},tt={class:"font-weight-medium text-success"},at={class:"d-flex gap-2"},Et=se({__name:"royalty-management",setup(G){const T=i(!1),R=i(!1),_=i(!1),p=i("monthly"),g=i(!1),x=i(!1),D=i(!1),b=i(!1),S=i(null),U=i(null);i("csv"),i("all");const r=i({franchise_id:null,unit_id:null,franchisee_id:null,type:"monthly",period_year:new Date().getFullYear(),period_month:new Date().getMonth()+1,period_quarter:null,base_revenue:0,royalty_rate:8.5,royalty_amount:0,marketing_fee_rate:2,marketing_fee_amount:0,technology_fee_rate:0,technology_fee_amount:50,other_fees:0,adjustments:0,total_amount:0,due_date:"",status:"pending",description:"",notes:"",is_auto_generated:!1}),n=i([]),v=i([]),f=i([]),E=i({amount_paid:0,payment_date:"",payment_type:"",attachment:null}),H=i([]),B=i({royalty_collected_till_date:0,upcoming_royalties:0,total_royalties:0,pending_amount:0,paid_amount:0,overdue_amount:0,overdue_count:0}),me=ee(()=>{var a;const e=(a=B.value)==null?void 0:a.royalty_collected_till_date;return e?Number(e):0}),ce=ee(()=>{var a;const e=(a=B.value)==null?void 0:a.upcoming_royalties;return e?Number(e):0}),Q=[{title:"Monthly",value:"monthly"},{title:"Quarterly",value:"quarterly"},{title:"Annual",value:"annual"},{title:"Special",value:"special"}],pe=[{title:"Bank Transfer",value:"bank_transfer"},{title:"Credit Card",value:"credit_card"},{title:"Mada",value:"mada"},{title:"STC Pay",value:"stc_pay"},{title:"SADAD",value:"sadad"},{title:"Check",value:"check"},{title:"Cash",value:"cash"},{title:"Online Payment",value:"online_payment"}],ye=[{title:"Billing Period",key:"billingPeriod",sortable:!0},{title:"Franchisee Name",key:"franchiseeName",sortable:!0},{title:"Store Location",key:"storeLocation",sortable:!0},{title:"Due Date",key:"dueDate",sortable:!0},{title:"Gross Sales (SAR)",key:"grossSales",sortable:!0},{title:"Royalty %",key:"royaltyPercentage",sortable:!0},{title:"Amount (SAR)",key:"amount",sortable:!0},{title:"Status",key:"status",sortable:!0},{title:"Actions",key:"actions",sortable:!1}],$=async()=>{try{T.value=!0;const e=await O.getRoyalties({period:p.value});H.value=e.data.data}catch{}finally{T.value=!1}},I=async()=>{try{R.value=!0;const e=await O.getStatistics({period:p.value});B.value=e.data}catch{}finally{R.value=!1}},fe=()=>{g.value=!0},ve=()=>{console.log("Export completed successfully")},_e=e=>{U.value=e,D.value=!0},J=e=>{S.value=e,E.value={amount_paid:e.amount,payment_date:new Date().toISOString().split("T")[0],payment_type:"",attachment:null},x.value=!0},ge=async()=>{await $(),await I(),x.value=!1,S.value=null},be=e=>{J(e)},Ve=e=>{switch(e){case"paid":return"success";case"pending":return"warning";case"overdue":return"error";default:return"default"}},he=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),xe=async()=>{try{const e=await z("/api/v1/franchisor/franchise");e.success&&e.data&&(n.value=[e.data])}catch{}},Ce=async()=>{try{const e=await z("/api/v1/franchisor/units");e.success&&e.data&&(v.value=e.data.data||[])}catch{}},we=async()=>{try{const e=await z("/api/v1/franchisor/franchisees");e.success&&e.data&&(f.value=e.data.data||[])}catch{}},w=()=>{const e=r.value.base_revenue;r.value.royalty_amount=e*r.value.royalty_rate/100,r.value.marketing_fee_amount=e*r.value.marketing_fee_rate/100,r.value.technology_fee_rate>0&&(r.value.technology_fee_amount=e*r.value.technology_fee_rate/100),r.value.total_amount=r.value.royalty_amount+r.value.marketing_fee_amount+r.value.technology_fee_amount+r.value.other_fees+r.value.adjustments},K=async()=>{try{if(_.value=!0,De(),!await Re())return;w();const a={...r.value,franchise_id:r.value.franchise_id||void 0,unit_id:r.value.unit_id||void 0,franchisee_id:r.value.franchisee_id||void 0};(await O.createRoyalty(a)).success&&(W(),b.value=!1,await $(),await I())}catch{}finally{_.value=!1}},W=()=>{r.value={franchise_id:null,unit_id:null,franchisee_id:null,type:"monthly",period_year:new Date().getFullYear(),period_month:new Date().getMonth()+1,period_quarter:null,base_revenue:0,royalty_rate:8.5,royalty_amount:0,marketing_fee_rate:2,marketing_fee_amount:0,technology_fee_rate:0,technology_fee_amount:50,other_fees:0,adjustments:0,total_amount:0,due_date:"",status:"pending",description:"",notes:"",is_auto_generated:!1}},ke=()=>{W(),b.value=!0};Ue(()=>{$(),I(),xe(),Ce(),we()});const m=i({}),y={franchise_id:[e=>!!e||"Franchise selection is required"],franchisee_id:[e=>!!e||"Franchisee selection is required"],type:[e=>!!e||"Royalty type is required",e=>["monthly","quarterly"].includes(e)||"Invalid royalty type"],period_year:[e=>!!e||"Period year is required",e=>e>=2020||"Period year must be at least 2020",e=>e<=new Date().getFullYear()+1||"Period year cannot be more than next year"],period_month:[e=>r.value.type==="monthly"?!!e||"Period month is required for monthly royalties":!0,e=>e&&(e<1||e>12)?"Period month must be between 1 and 12":!0],period_quarter:[e=>r.value.type==="quarterly"?!!e||"Period quarter is required for quarterly royalties":!0,e=>e&&(e<1||e>4)?"Period quarter must be between 1 and 4":!0],base_revenue:[e=>e!=null&&e!==""||"Base revenue is required",e=>e>=0||"Base revenue cannot be negative",e=>e<=99999999999e-2||"Base revenue is too large"],royalty_rate:[e=>e!=null&&e!==""||"Royalty rate is required",e=>e>=0||"Royalty rate cannot be negative",e=>e<=100||"Royalty rate cannot exceed 100%"],marketing_fee_rate:[e=>e!=null&&e!==""||"Marketing fee rate is required",e=>e>=0||"Marketing fee rate cannot be negative",e=>e<=100||"Marketing fee rate cannot exceed 100%"],due_date:[e=>!!e||"Due date is required",e=>{if(e){const a=new Date().toISOString().split("T")[0];return e>=a||"Due date cannot be in the past"}return!0}],technology_fee_amount:[e=>e==null||e===""||e>=0||"Technology fee cannot be negative",e=>e==null||e===""||e<=99999999999e-2||"Technology fee is too large"],other_fees:[e=>e==null||e===""||e>=0||"Other fees cannot be negative",e=>e==null||e===""||e<=99999999999e-2||"Other fees is too large"],adjustments:[e=>e==null||e===""||e>=-99999999999e-2||"Adjustments value is too low",e=>e==null||e===""||e<=99999999999e-2||"Adjustments value is too high"],description:[e=>!e||e.length<=1e3||"Description cannot exceed 1000 characters"],notes:[e=>!e||e.length<=2e3||"Notes cannot exceed 2000 characters"]},L=i(!1),M=i(),Re=async()=>{if(M.value){const{valid:e}=await M.value.validate();return L.value=e,e}return!1},De=()=>{m.value={},M.value&&M.value.resetValidation()};return(e,a)=>{const X=ne;return F(),Me("section",null,[t(A,{class:"mb-6"},{default:l(()=>[t(u,{cols:"12"},{default:l(()=>[s("div",ze,[a[25]||(a[25]=s("div",null,[s("h4",{class:"text-h4 mb-1"}," Royalty Management "),s("p",{class:"text-body-1 text-medium-emphasis"}," Track and manage royalty payments from all franchise units ")],-1)),s("div",Ye,[t(k,{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=o=>p.value=o),items:Q,"item-title":"title","item-value":"value",density:"compact",style:{"min-width":"120px"},variant:"outlined"},null,8,["modelValue"]),t(C,{color:"success",variant:"elevated",onClick:ke},{default:l(()=>[t(P,{icon:"tabler-plus",class:"me-2"}),a[23]||(a[23]=d(" Create Royalty "))]),_:1,__:[23]}),t(C,{color:"primary",variant:"elevated",onClick:fe},{default:l(()=>[t(P,{icon:"tabler-download",class:"me-2"}),a[24]||(a[24]=d(" Export "))]),_:1,__:[24]})])])]),_:1})]),_:1}),t(A,{class:"mb-6"},{default:l(()=>[t(u,{cols:"12",md:"6"},{default:l(()=>[t(q,null,{default:l(()=>[t(j,null,{default:l(()=>[s("div",Ge,[s("div",null,[a[26]||(a[26]=s("h6",{class:"text-h6 mb-1"}," Royalty Collected Till Date ",-1)),a[27]||(a[27]=s("div",{class:"text-body-2 text-medium-emphasis mb-3"}," Total payments received ",-1)),s("h4",He,c(("formatCurrency"in e?e.formatCurrency:h(N))(me.value,"SAR",!0)),1)]),t(ae,{color:"success",variant:"tonal",size:"56"},{default:l(()=>[t(h(Ee),{size:"28"})]),_:1})])]),_:1})]),_:1})]),_:1}),t(u,{cols:"12",md:"6"},{default:l(()=>[t(q,null,{default:l(()=>[t(j,null,{default:l(()=>[s("div",Qe,[s("div",null,[a[28]||(a[28]=s("h6",{class:"text-h6 mb-1"}," Upcoming Royalties ",-1)),a[29]||(a[29]=s("div",{class:"text-body-2 text-medium-emphasis mb-3"}," Pending payments due ",-1)),s("h4",Je,c(("formatCurrency"in e?e.formatCurrency:h(N))(ce.value,"SAR",!0)),1)]),t(ae,{color:"warning",variant:"tonal",size:"56"},{default:l(()=>[t(P,{icon:"tabler-clock",size:"28"})]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),t(A,null,{default:l(()=>[t(u,{cols:"12"},{default:l(()=>[t(q,null,{default:l(()=>[t(Fe,{class:"pb-4"},{default:l(()=>[t(Oe,{class:"text-h6"},{default:l(()=>a[30]||(a[30]=[d(" Royalty Records ")])),_:1,__:[30]}),t(je,{class:"text-body-2"},{default:l(()=>a[31]||(a[31]=[d(" Manage royalty payments and track collection status ")])),_:1,__:[31]})]),_:1}),t(Be),t($e,{headers:ye,items:H.value,"items-per-page":10,class:"text-no-wrap"},{"item.billingPeriod":l(({item:o})=>[s("div",Ke,c(o.billing_period),1)]),"item.franchiseeName":l(({item:o})=>[s("div",We,c(o.franchisee_name),1)]),"item.storeLocation":l(({item:o})=>[s("div",Xe,c(o.store_location),1)]),"item.dueDate":l(({item:o})=>[s("div",Ze,c(he(o.due_date)),1)]),"item.grossSales":l(({item:o})=>[s("div",et,c(("formatCurrency"in e?e.formatCurrency:h(N))(o.gross_sales||0,"SAR",!1)),1)]),"item.royaltyPercentage":l(({item:o})=>[t(oe,{size:"small",variant:"tonal",color:"primary"},{default:l(()=>[d(c(o.royalty_percentage)+"% ",1)]),_:2},1024)]),"item.amount":l(({item:o})=>[s("div",tt,c((o.amount||0).toLocaleString()),1)]),"item.status":l(({item:o})=>[t(oe,{color:Ve(o.status),size:"small",variant:"tonal",class:"text-capitalize"},{default:l(()=>[d(c(o.status),1)]),_:2},1032,["color"])]),"item.actions":l(({item:o})=>[s("div",at,[t(C,{icon:"",size:"small",color:"info",variant:"text",onClick:Se=>_e(o)},{default:l(()=>[t(P,{icon:"tabler-eye",size:"20"}),t(le,{activator:"parent",location:"top"},{default:l(()=>a[32]||(a[32]=[d(" View Details ")])),_:1,__:[32]})]),_:2},1032,["onClick"]),o.status!=="paid"?(F(),Y(C,{key:0,icon:"",size:"small",color:"success",variant:"text",onClick:Se=>J(o)},{default:l(()=>[t(P,{icon:"tabler-check",size:"20"}),t(le,{activator:"parent",location:"top"},{default:l(()=>a[33]||(a[33]=[d(" Mark as Completed ")])),_:1,__:[33]})]),_:2},1032,["onClick"])):te("",!0)])]),_:1},8,["items"])]),_:1})]),_:1})]),_:1}),t(Ne,{"is-dialog-visible":g.value,"onUpdate:isDialogVisible":a[1]||(a[1]=o=>g.value=o),"selected-period":p.value,onExportCompleted:ve},null,8,["is-dialog-visible","selected-period"]),t(ie,{modelValue:b.value,"onUpdate:modelValue":a[20]||(a[20]=o=>b.value=o),"max-width":"600",persistent:""},{default:l(()=>[t(X,{onClick:a[2]||(a[2]=o=>b.value=!1)}),t(q,{title:"Create New Royalty Record"},{default:l(()=>[t(j,null,{default:l(()=>[t(Ie,{ref_key:"formRef",ref:M,modelValue:L.value,"onUpdate:modelValue":a[18]||(a[18]=o=>L.value=o),onSubmit:Pe(K,["prevent"])},{default:l(()=>[t(A,null,{default:l(()=>[t(u,{cols:"12",md:"6"},{default:l(()=>[t(k,{modelValue:r.value.franchise_id,"onUpdate:modelValue":a[3]||(a[3]=o=>r.value.franchise_id=o),items:n.value,"item-title":"business_name","item-value":"id",label:"Franchise *",variant:"outlined",density:"compact",required:"",clearable:"",rules:y.franchise_id,"error-messages":m.value.franchise_id},null,8,["modelValue","items","rules","error-messages"])]),_:1}),t(u,{cols:"12",md:"6"},{default:l(()=>[t(k,{modelValue:r.value.unit_id,"onUpdate:modelValue":a[4]||(a[4]=o=>r.value.unit_id=o),items:v.value,"item-title":"unit_name","item-value":"id",label:"Unit",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","items"])]),_:1}),t(u,{cols:"12",md:"6"},{default:l(()=>[t(k,{modelValue:r.value.franchisee_id,"onUpdate:modelValue":a[5]||(a[5]=o=>r.value.franchisee_id=o),items:f.value,"item-title":"name","item-value":"id",label:"Franchisee *",variant:"outlined",density:"compact",required:"",clearable:"",rules:y.franchisee_id,"error-messages":m.value.franchisee_id},null,8,["modelValue","items","rules","error-messages"])]),_:1}),t(u,{cols:"12",md:"6"},{default:l(()=>[t(k,{modelValue:r.value.type,"onUpdate:modelValue":a[6]||(a[6]=o=>r.value.type=o),items:Q,"item-title":"title","item-value":"value",label:"Royalty Type *",variant:"outlined",density:"compact",required:"",rules:y.type,"error-messages":m.value.type},null,8,["modelValue","rules","error-messages"])]),_:1}),t(u,{cols:"12",md:"4"},{default:l(()=>[t(V,{modelValue:r.value.period_year,"onUpdate:modelValue":a[7]||(a[7]=o=>r.value.period_year=o),modelModifiers:{number:!0},label:"Period Year *",type:"number",variant:"outlined",density:"compact",required:"",rules:y.period_year,"error-messages":m.value.period_year},null,8,["modelValue","rules","error-messages"])]),_:1}),r.value.type==="monthly"?(F(),Y(u,{key:0,cols:"12",md:"4"},{default:l(()=>[t(V,{modelValue:r.value.period_month,"onUpdate:modelValue":a[8]||(a[8]=o=>r.value.period_month=o),modelModifiers:{number:!0},label:"Period Month *",type:"number",min:"1",max:"12",variant:"outlined",density:"compact",required:"",rules:y.period_month,"error-messages":m.value.period_month},null,8,["modelValue","rules","error-messages"])]),_:1})):te("",!0),t(u,{cols:"12",md:"4"},{default:l(()=>[t(V,{modelValue:r.value.due_date,"onUpdate:modelValue":a[9]||(a[9]=o=>r.value.due_date=o),label:"Due Date *",type:"date",variant:"outlined",density:"compact",required:"",rules:y.due_date,"error-messages":m.value.due_date},null,8,["modelValue","rules","error-messages"])]),_:1}),t(u,{cols:"12",md:"6"},{default:l(()=>[t(V,{modelValue:r.value.base_revenue,"onUpdate:modelValue":a[10]||(a[10]=o=>r.value.base_revenue=o),modelModifiers:{number:!0},label:"Base Revenue (SAR) *",type:"number",step:"0.01",variant:"outlined",density:"compact",required:"",rules:y.base_revenue,"error-messages":m.value.base_revenue,onInput:w},null,8,["modelValue","rules","error-messages"])]),_:1}),t(u,{cols:"12",md:"6"},{default:l(()=>[t(V,{modelValue:r.value.royalty_rate,"onUpdate:modelValue":a[11]||(a[11]=o=>r.value.royalty_rate=o),modelModifiers:{number:!0},label:"Royalty Rate (%)",type:"number",step:"0.1",variant:"outlined",density:"compact",rules:y.royalty_rate,"error-messages":m.value.royalty_rate,onInput:w},null,8,["modelValue","rules","error-messages"])]),_:1}),t(u,{cols:"12",md:"6"},{default:l(()=>[t(V,{modelValue:r.value.marketing_fee_rate,"onUpdate:modelValue":a[12]||(a[12]=o=>r.value.marketing_fee_rate=o),modelModifiers:{number:!0},label:"Marketing Fee Rate (%)",type:"number",step:"0.1",variant:"outlined",density:"compact",rules:y.marketing_fee_rate,"error-messages":m.value.marketing_fee_rate,onInput:w},null,8,["modelValue","rules","error-messages"])]),_:1}),t(u,{cols:"12",md:"6"},{default:l(()=>[t(V,{modelValue:r.value.technology_fee_amount,"onUpdate:modelValue":a[13]||(a[13]=o=>r.value.technology_fee_amount=o),modelModifiers:{number:!0},label:"Technology Fee (SAR)",type:"number",step:"0.01",variant:"outlined",density:"compact",rules:y.technology_fee_amount,"error-messages":m.value.technology_fee_amount,onInput:w},null,8,["modelValue","rules","error-messages"])]),_:1}),t(u,{cols:"12",md:"6"},{default:l(()=>[t(V,{modelValue:r.value.other_fees,"onUpdate:modelValue":a[14]||(a[14]=o=>r.value.other_fees=o),modelModifiers:{number:!0},label:"Other Fees (SAR)",type:"number",step:"0.01",variant:"outlined",density:"compact",rules:y.other_fees,"error-messages":m.value.other_fees,onInput:w},null,8,["modelValue","rules","error-messages"])]),_:1}),t(u,{cols:"12",md:"6"},{default:l(()=>[t(V,{modelValue:r.value.adjustments,"onUpdate:modelValue":a[15]||(a[15]=o=>r.value.adjustments=o),modelModifiers:{number:!0},label:"Adjustments (SAR)",type:"number",step:"0.01",variant:"outlined",density:"compact",rules:y.adjustments,"error-messages":m.value.adjustments,onInput:w},null,8,["modelValue","rules","error-messages"])]),_:1}),t(u,{cols:"12"},{default:l(()=>[t(re,{modelValue:r.value.description,"onUpdate:modelValue":a[16]||(a[16]=o=>r.value.description=o),label:"Description",variant:"outlined",density:"compact",rows:"2"},null,8,["modelValue"])]),_:1}),t(u,{cols:"12"},{default:l(()=>[t(re,{modelValue:r.value.notes,"onUpdate:modelValue":a[17]||(a[17]=o=>r.value.notes=o),label:"Notes",variant:"outlined",density:"compact",rows:"2"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(ue,null,{default:l(()=>[t(de),t(C,{color:"secondary",variant:"tonal",disabled:_.value,onClick:a[19]||(a[19]=o=>b.value=!1)},{default:l(()=>a[34]||(a[34]=[d(" Cancel ")])),_:1,__:[34]},8,["disabled"]),t(C,{color:"primary",loading:_.value,onClick:K},{default:l(()=>a[35]||(a[35]=[d(" Create Royalty ")])),_:1,__:[35]},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(Ae,{"is-dialog-visible":x.value,"onUpdate:isDialogVisible":a[21]||(a[21]=o=>x.value=o),"selected-royalty":S.value,"payment-type-options":pe,onPaymentSubmitted:ge},null,8,["is-dialog-visible","selected-royalty"]),t(qe,{"is-dialog-visible":D.value,"onUpdate:isDialogVisible":a[22]||(a[22]=o=>D.value=o),"viewed-royalty":U.value,onMarkAsCompleted:be},null,8,["is-dialog-visible","viewed-royalty"])])}}});export{Et as default};
