import{m as Ge}from"./vue3-apexcharts-Ch2Tb3m9.js";import{V as We,_ as Xe}from"./VDataTableServer-h2npWi6V.js";import{_ as Ye}from"./AppTextField.vue_vue_type_script_setup_true_lang-BiY8T0bF.js";import{_ as Je}from"./AppSelect.vue_vue_type_script_setup_true_lang-DXz23Wgu.js";import{f as O}from"./formatters-WDr9EcLN.js";import{aO as x,d as Ke,ak as Ze,r as n,P as R,w as ye,G as et,c as be,e as s,b as t,f as a,o as T,t as u,a3 as C,aT as tt,v as i,aa as b,m as L,l as M,g as xe}from"./main-BFHJN9nb.js";import{a as at,V as ge}from"./VTabs-BOALpnd-.js";import{V as g,b as K,d as Z,a as Ee}from"./VCard-DX1TBmaJ.js";import{V as ee,a as p}from"./VRow-CkpL0RVO.js";import{V as te}from"./VDialog-V4gnLJrB.js";import{V as E}from"./VCardText-DaLxJsvL.js";import{V as I}from"./VSpacer-CCpGOsVL.js";import{V as z}from"./VDivider-BkXgjbRp.js";import{V as B}from"./VChip-YDiTWgu4.js";import{V as _e}from"./VTooltip-Css5-rqo.js";import{V as we}from"./VSelect-DRqAennZ.js";import{V as Ve}from"./VAvatar-0YR6k8GC.js";import{q as lt}from"./VDataTable-KEGIK6KG.js";import{V as P}from"./VTextField-cuhL7eKu.js";import{V as st}from"./VFileInput-BP_SWKAb.js";import{V as ot}from"./VTable-C9ODUf_b.js";import"./_commonjsHelpers-CqkleIqs.js";import"./VPagination-C9KFFG-O.js";import"./form-CRnOu3kV.js";import"./forwardRefs-C-GTDzx5.js";import"./easing-Bybner-F.js";import"./VWindowItem-9dFuuoo1.js";import"./lazy-CMH8XMVs.js";import"./ssrBoot-BnhyewLe.js";import"./VImg-CUvr5mlE.js";import"./VSlideGroup-Crru8FDw.js";import"./scopeId-u705bwh2.js";/* empty css              */import"./VOverlay-CCjswVhh.js";import"./dialog-transition-BI7rMvXb.js";import"./VList-BQIhB7WP.js";import"./VMenu-S7-3kIyf.js";import"./VCheckboxBtn-B9nMFPWY.js";import"./VSelectionControl-CRxaOcuF.js";import"./filter-B0dGONQA.js";/* empty css                   */import"./VCounter-Cd8lIrDY.js";import"./VField-5Oc1eDZT.js";import"./VInput-C8j_k2yQ.js";const _="/v1/franchisor/financial",A={async getCharts(r){return await x(`${_}/charts`,{params:r})},async getStatistics(r){return await x(`${_}/statistics`,{params:r})},async getSales(r){return await x(`${_}/sales`,{params:r})},async createSale(r){return await x(`${_}/sales`,{method:"POST",body:r})},async updateSale(r,k){return await x(`${_}/sales/${r}`,{method:"PUT",body:k})},async deleteSale(r){await x(`${_}/sales/${r}`,{method:"DELETE"})},async getExpenses(r){return await x(`${_}/expenses`,{params:r})},async createExpense(r){return await x(`${_}/expenses`,{method:"POST",body:r})},async updateExpense(r,k){return await x(`${_}/expenses/${r}`,{method:"PUT",body:k})},async deleteExpense(r){await x(`${_}/expenses/${r}`,{method:"DELETE"})},async getProfit(r){return await x(`${_}/profit`,{params:r})},async getUnitPerformance(r){return await x(`${_}/unit-performance`,{params:r})},async importData(r,k){const w=new FormData;w.append("file",r),w.append("category",k),await x(`${_}/import`,{method:"POST",body:w})},async exportData(r,k){return await x(`${_}/export`,{params:{...k,category:r},parseResponse:w=>w})}},it={class:"me-3 d-flex gap-3 align-center"},nt={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},rt={style:{"inline-size":"15.625rem"}},ut={class:"font-weight-medium"},dt={class:"text-success font-weight-medium"},mt={class:"text-error font-weight-medium"},pt={class:"font-weight-medium"},ct={class:"text-error"},vt={class:"text-success font-weight-medium"},ft={class:"d-flex justify-space-between align-center flex-wrap gap-4"},yt={class:"d-flex gap-3 align-center flex-wrap"},bt={class:"d-flex align-center justify-space-between"},xt={class:"text-body-2 text-medium-emphasis mb-3"},gt={class:"text-h4 text-success"},_t={class:"d-flex align-center justify-space-between"},wt={class:"text-body-2 text-medium-emphasis mb-3"},Vt={class:"text-h4 text-error"},St={class:"d-flex align-center justify-space-between"},ht={class:"text-body-2 text-medium-emphasis mb-3"},kt={class:"text-h4 text-primary"},Dt={class:"text-body-1 text-high-emphasis"},Ct={class:"text-body-1 text-high-emphasis"},Et={class:"text-body-1 text-high-emphasis"},At={class:"text-body-1 text-high-emphasis"},Rt={class:"text-body-1 text-high-emphasis"},Pt={key:0},Ut={key:1},$t={class:"text-h6 mb-4 text-primary"},Tt={class:"mb-4"},zt={class:"font-weight-medium text-h6"},Nt={class:"mb-4"},Ft={class:"font-weight-medium"},Ot={class:"text-h6 mb-4 text-primary"},Lt={class:"text-center"},Mt={class:"text-h6 font-weight-bold"},It={class:"text-center"},Bt={class:"text-h6 font-weight-bold"},qt={class:"text-center"},jt={class:"text-h6 font-weight-bold"},Ht={class:"text-h6 mb-4 text-primary"},Qt={class:"text-end"},Gt={class:"text-end"},Wt={class:"bg-success-lighten-5"},Xt={class:"text-end font-weight-bold text-success"},Yt={class:"text-h6 mb-4 text-primary"},Jt={class:"mb-4"},Kt={class:"mb-4"},Zt={class:"font-weight-medium"},ea={class:"mb-4"},ta={class:"font-weight-medium"},aa={class:"mb-4"},la={class:"font-weight-medium"},sa={class:"text-h6 mb-4 text-primary"},oa={class:"text-center"},ia={class:"text-h4 font-weight-bold"},Ja=Ke({__name:"financial-overview",setup(r){const k=Ze(),w=n(10),U=n(1),Se=n(),he=n(),Ae=async o=>{var e,c;Se.value=(e=o.sortBy[0])==null?void 0:e.key,he.value=(c=o.sortBy[0])==null?void 0:c.order,await ve()},f=n("monthly"),S=n("all"),d=n("sales"),ae=n([]),le=n([]),se=n([]);R(()=>d.value==="sales"?ae.value:d.value==="expense"?le.value:d.value==="profit"?se.value:[]);const q=n(!1),oe=n(!1),ke=n(!1),ie=n(!1),ne=n(!1),j=n(!1),H=n(!1),V=n(null),D=n(null),re=n({categories:[],series:[]}),Q=n({totalSales:0,totalExpenses:0,totalProfit:0,totalRoyalties:0,salesGrowth:0,profitMargin:0}),ue=n([]),de=n([]),me=n([]),pe=n([]),G=n(0),W=n(""),De=R(()=>{switch(d.value){case"sales":return ae.value;case"expense":return le.value;case"profit":return se.value;default:return[]}}),Re=R(()=>{const o=k.current.value.colors;return{chart:{type:"line",height:400,toolbar:{show:!1},zoom:{enabled:!1},parentHeightOffset:0},stroke:{curve:"smooth",width:3},xaxis:{categories:re.value.categories,labels:{style:{colors:`rgba(${o["on-surface"]}, 0.6)`,fontSize:"13px"}},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{style:{colors:`rgba(${o["on-surface"]}, 0.6)`,fontSize:"13px"},formatter:e=>`${(e/1e3).toFixed(0)}k SAR`}},legend:{show:!0,position:"top",horizontalAlign:"left",labels:{colors:`rgba(${o["on-surface"]}, 0.8)`}},colors:["rgba(var(--v-theme-success), 1)","rgba(var(--v-theme-error), 1)","rgba(var(--v-theme-warning), 1)","rgba(var(--v-theme-primary), 1)"],grid:{borderColor:`rgba(${o["on-surface"]}, 0.12)`,strokeDashArray:5,padding:{top:-20,bottom:-10,left:0,right:0}},tooltip:{theme:k.current.value.dark?"dark":"light",y:{formatter:e=>`${e.toLocaleString()} SAR`}}}}),Pe=R(()=>Q.value.totalSales),Ue=R(()=>Q.value.totalExpenses),$e=R(()=>Q.value.totalProfit),Te=[{title:"Daily",value:"daily"},{title:"Monthly",value:"monthly"},{title:"Yearly",value:"yearly"}],ze=[{title:"Franchisee Name",key:"name",sortable:!0},{title:"Location",key:"location",sortable:!0},{title:"Sales (SAR)",key:"sales",sortable:!0},{title:"Expenses (SAR)",key:"expenses",sortable:!0},{title:"Royalties (SAR)",key:"royalties",sortable:!0},{title:"Net Sales (SAR)",key:"netSales",sortable:!0},{title:"Profit (SAR)",key:"profit",sortable:!0},{title:"Profit Margin (%)",key:"profitMargin",sortable:!0}],Ne=[{title:"Product",key:"product",sortable:!0},{title:"Date of Sale",key:"date",sortable:!0},{title:"Unit Price (SAR)",key:"unitPrice",sortable:!0},{title:"Quantity Sold",key:"quantity",sortable:!0},{title:"Sale (SAR)",key:"sale",sortable:!0},{title:"Actions",key:"actions",sortable:!1}],Fe=[{title:"Expense Category",key:"expenseCategory",sortable:!0},{title:"Date of Expense",key:"date",sortable:!0},{title:"Amount (SAR)",key:"amount",sortable:!0},{title:"Description",key:"description",sortable:!0},{title:"Actions",key:"actions",sortable:!1}],Oe=[{title:"Date",key:"date",sortable:!0},{title:"Total Sales (SAR)",key:"totalSales",sortable:!0},{title:"Total Expenses (SAR)",key:"totalExpenses",sortable:!0},{title:"Profit (SAR)",key:"profit",sortable:!0}],Le=R(()=>{switch(d.value){case"sales":return ue.value;case"expense":return de.value;case"profit":return me.value;default:return[]}}),Me=R(()=>{switch(d.value){case"sales":return Ne;case"expense":return Fe;case"profit":return Oe;default:return[]}}),Ce=R(()=>G.value),X=n(!1),Y=n(!1),N=n("sales"),ce=n("sales"),$=n(null),m=n({product:"",dateOfSale:"",unitPrice:0,quantitySold:0,expenseCategory:"",dateOfExpense:"",amount:0,description:""}),Ie=async()=>{oe.value=!0;try{const o={period:f.value,unit:S.value==="all"?void 0:S.value},e=await A.getCharts(o);re.value=e.data||{categories:[],series:[]}}catch(o){console.error("Error loading chart data:",o)}finally{oe.value=!1}},Be=async()=>{ke.value=!0;try{const o={period:f.value,unit:S.value==="all"?void 0:S.value},e=await A.getStatistics(o);Q.value=e.data||{totalSales:0,totalExpenses:0,totalProfit:0,totalRoyalties:0,salesGrowth:0,profitMargin:0}}catch(o){console.error("Error loading statistics:",o)}finally{ke.value=!1}},F=async()=>{var o,e,c,v,y,J;ie.value=!0;try{const l={search:W.value||void 0,page:U.value,per_page:w.value,sortBy:Se.value,sortOrder:he.value,period:f.value,unit_id:S.value==="all"?void 0:S.value};switch(d.value){case"sales":{const h=await A.getSales(l);ue.value=((o=h.data)==null?void 0:o.data)||[],G.value=((e=h.data)==null?void 0:e.total)||0;break}case"expense":{const h=await A.getExpenses(l);de.value=((c=h.data)==null?void 0:c.data)||[],G.value=((v=h.data)==null?void 0:v.total)||0;break}case"profit":{const h=await A.getProfit(l);me.value=((y=h.data)==null?void 0:y.data)||[],G.value=((J=h.data)==null?void 0:J.total)||0;break}}}catch(l){console.error("Error loading table data:",l)}finally{ie.value=!1}},qe=async()=>{var o;ne.value=!0;try{const e={period:f.value,unit:S.value==="all"?void 0:S.value},v=((o=(await A.getUnitPerformance(e)).data)==null?void 0:o.data)||[];Array.isArray(v)?pe.value=v.map(y=>({id:y.id,name:y.name,location:y.location,sales:y.sales||0,expenses:y.expenses||0,royalties:y.royalties||0,netSales:(y.sales||0)-(y.royalties||0),profit:y.profit||0,profitMargin:y.profitMargin||0})):pe.value=[]}catch(e){console.error("Error loading units data:",e)}finally{ne.value=!1}},ve=async()=>{q.value=!0;try{await Promise.all([Ie(),Be(),F(),qe()])}finally{q.value=!1}},je=async()=>{try{const o={period:f.value,unit:S.value==="all"?void 0:S.value},e=await A.exportData(d.value,o),c=window.URL.createObjectURL(e),v=document.createElement("a");v.href=c,v.download=`${d.value}-data-${f.value}.csv`,document.body.appendChild(v),v.click(),document.body.removeChild(v),window.URL.revokeObjectURL(c)}catch(o){console.error("Error exporting data:",o)}},He=async()=>{try{N.value==="sales"?await A.createSale({product:m.value.product,unit_price:m.value.unitPrice,quantity:m.value.quantitySold,date:m.value.dateOfSale,customer_name:"Walk-in Customer",customer_email:"customer@example.com",franchise_id:1,unit_id:1}):await A.createExpense({expense_category:m.value.expenseCategory,amount:m.value.amount,description:m.value.description,date:m.value.dateOfExpense}),X.value=!1,await F(),m.value={product:"",dateOfSale:"",unitPrice:0,quantitySold:0,expenseCategory:"",dateOfExpense:"",amount:0,description:""}}catch(o){console.error("Error adding data:",o)}},Qe=async()=>{if($.value)try{await A.importData($.value,ce.value),Y.value=!1,await F(),$.value=null}catch(o){console.error("Error importing data:",o)}},fe=o=>{const e=typeof o=="string"?Number.parseInt(o,10):o;let c;switch(d.value){case"sales":c=ue.value.find(v=>v.id===e);break;case"expense":c=de.value.find(v=>v.id===e);break;case"profit":c=me.value.find(v=>v.id===e);break}if(c)switch(d.value){case"sales":V.value=c,j.value=!0;break;case"expense":D.value=c,H.value=!0;break;case"profit":console.log("Viewing profit item:",c);break}};return ye([f,S],()=>{ve()}),ye(d,()=>{F()}),ye(W,()=>{U.value=1,F()}),et(()=>{ve()}),(o,e)=>{const c=Je,v=Ye,y=Xe,J=Ge;return T(),be("section",null,[e[69]||(e[69]=s("div",{class:"d-flex justify-space-between align-center mb-6"},[s("div",null,[s("h4",{class:"text-h4 mb-1"}," Financial Overview "),s("p",{class:"text-body-1 mb-0"}," Manage your financial data across sales, expenses, and profit ")])],-1)),t(at,{modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=l=>d.value=l),class:"mb-6"},{default:a(()=>[t(ge,{value:"sales"},{default:a(()=>e[27]||(e[27]=[u(" Sales ")])),_:1,__:[27]}),t(ge,{value:"expense"},{default:a(()=>e[28]||(e[28]=[u(" Expense ")])),_:1,__:[28]}),t(ge,{value:"profit"},{default:a(()=>e[29]||(e[29]=[u(" Profit ")])),_:1,__:[29]})]),_:1},8,["modelValue"]),t(g,{class:"mb-6"},{default:a(()=>[t(E,{class:"d-flex flex-wrap gap-4"},{default:a(()=>[s("div",it,[e[30]||(e[30]=s("span",{class:"text-body-2 text-disabled"},"Show:",-1)),t(c,{"model-value":w.value,items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"}],style:{"inline-size":"6.25rem"},"onUpdate:modelValue":e[1]||(e[1]=l=>w.value=parseInt(l,10))},null,8,["model-value"])]),t(I),s("div",nt,[s("div",rt,[t(v,{modelValue:W.value,"onUpdate:modelValue":e[2]||(e[2]=l=>W.value=l),placeholder:`Search ${d.value}...`,"prepend-inner-icon":"tabler-search"},null,8,["modelValue","placeholder"])]),t(C,{variant:"tonal",color:"secondary","prepend-icon":"tabler-download",disabled:!De.value.length,onClick:je},{default:a(()=>e[31]||(e[31]=[u(" Export Selected ")])),_:1,__:[31]},8,["disabled"])])]),_:1}),t(z),t(We,{"items-per-page":w.value,"onUpdate:itemsPerPage":e[4]||(e[4]=l=>w.value=l),page:U.value,"onUpdate:page":e[5]||(e[5]=l=>U.value=l),"model-value":De.value,items:Le.value,"item-value":"id","items-length":Ce.value,headers:Me.value,class:"text-no-wrap","show-select":"",loading:ie.value,"onUpdate:options":Ae,"onUpdate:modelValue":e[6]||(e[6]=l=>{switch(d.value){case"sales":ae.value=l;break;case"expense":le.value=l;break;case"profit":se.value=l;break}})},tt({bottom:a(()=>[t(y,{page:U.value,"onUpdate:page":e[3]||(e[3]=l=>U.value=l),"items-per-page":w.value,"total-items":Ce.value},null,8,["page","items-per-page","total-items"])]),_:2},[d.value==="sales"?{name:"item.unitPrice",fn:a(({item:l})=>[s("span",ut,i(Number(l.unitPrice).toFixed(2))+" SAR ",1)]),key:"0"}:void 0,d.value==="sales"?{name:"item.sale",fn:a(({item:l})=>[s("span",dt,i(Number(l.sale).toFixed(2))+" SAR ",1)]),key:"1"}:void 0,d.value==="expense"?{name:"item.amount",fn:a(({item:l})=>[s("span",mt,i(Number(l.amount).toFixed(2))+" SAR ",1)]),key:"2"}:void 0,d.value==="expense"?{name:"item.expenseCategory",fn:a(({item:l})=>[t(B,{size:"small",variant:"tonal",color:"primary"},{default:a(()=>[u(i(l.expenseCategory),1)]),_:2},1024)]),key:"3"}:void 0,d.value==="profit"?{name:"item.totalSales",fn:a(({item:l})=>[s("span",pt,i(Number(l.totalSales).toFixed(2))+" SAR ",1)]),key:"4"}:void 0,d.value==="profit"?{name:"item.totalExpenses",fn:a(({item:l})=>[s("span",ct,i(Number(l.totalExpenses).toFixed(2))+" SAR ",1)]),key:"5"}:void 0,d.value==="profit"?{name:"item.profit",fn:a(({item:l})=>[s("span",vt,i(Number(l.profit).toFixed(2))+" SAR ",1)]),key:"6"}:void 0,d.value==="sales"?{name:"item.actions",fn:a(({item:l})=>[t(C,{icon:"",variant:"text",color:"primary",size:"small",onClick:h=>fe(l.id)},{default:a(()=>[t(b,{icon:"tabler-eye"}),t(_e,{activator:"parent",location:"top"},{default:a(()=>e[32]||(e[32]=[u(" View Sale Details ")])),_:1,__:[32]})]),_:2},1032,["onClick"])]),key:"7"}:void 0,d.value==="expense"?{name:"item.actions",fn:a(({item:l})=>[t(C,{icon:"",variant:"text",color:"primary",size:"small",onClick:h=>fe(l.id)},{default:a(()=>[t(b,{icon:"tabler-eye"}),t(_e,{activator:"parent",location:"top"},{default:a(()=>e[33]||(e[33]=[u(" View Expense Details ")])),_:1,__:[33]})]),_:2},1032,["onClick"])]),key:"8"}:void 0,d.value==="profit"?{name:"item.actions",fn:a(({item:l})=>[t(C,{icon:"",variant:"text",color:"primary",size:"small",onClick:h=>fe(l.id)},{default:a(()=>[t(b,{icon:"tabler-eye"}),t(_e,{activator:"parent",location:"top"},{default:a(()=>e[34]||(e[34]=[u(" View Profit Details ")])),_:1,__:[34]})]),_:2},1032,["onClick"])]),key:"9"}:void 0]),1032,["items-per-page","page","model-value","items","items-length","headers","loading"])]),_:1}),t(ee,{class:"mb-6"},{default:a(()=>[t(p,{cols:"12"},{default:a(()=>[s("div",ft,[e[35]||(e[35]=s("div",null,[s("h4",{class:"text-h4 mb-1"}," Financial Overview "),s("p",{class:"text-body-1 text-medium-emphasis"}," Comprehensive financial analysis and performance tracking across all franchise units ")],-1)),s("div",yt,[t(we,{modelValue:f.value,"onUpdate:modelValue":e[7]||(e[7]=l=>f.value=l),items:Te,"item-title":"title","item-value":"value",density:"compact",style:{"min-width":"120px"},variant:"outlined"},null,8,["modelValue"])])])]),_:1})]),_:1}),t(ee,{class:"mb-6"},{default:a(()=>[t(p,{cols:"12",md:"4"},{default:a(()=>[t(g,null,{default:a(()=>[t(E,null,{default:a(()=>[s("div",bt,[s("div",null,[e[36]||(e[36]=s("h6",{class:"text-h6 mb-1"}," Total Sales ",-1)),s("div",xt,i(f.value==="yearly"?"Annual":f.value==="monthly"?"Monthly":"Daily")+" Revenue ",1),s("h4",gt,i((Pe.value||0).toLocaleString())+" SAR ",1)]),t(Ve,{color:"success",variant:"tonal",size:"56"},{default:a(()=>[t(b,{icon:"tabler-trending-up",size:"28"})]),_:1})])]),_:1})]),_:1})]),_:1}),t(p,{cols:"12",md:"4"},{default:a(()=>[t(g,null,{default:a(()=>[t(E,null,{default:a(()=>[s("div",_t,[s("div",null,[e[37]||(e[37]=s("h6",{class:"text-h6 mb-1"}," Total Expenses ",-1)),s("div",wt,i(f.value==="yearly"?"Annual":f.value==="monthly"?"Monthly":"Daily")+" Costs ",1),s("h4",Vt,i((Ue.value||0).toLocaleString())+" SAR ",1)]),t(Ve,{color:"error",variant:"tonal",size:"56"},{default:a(()=>[t(b,{icon:"tabler-trending-down",size:"28"})]),_:1})])]),_:1})]),_:1})]),_:1}),t(p,{cols:"12",md:"4"},{default:a(()=>[t(g,null,{default:a(()=>[t(E,null,{default:a(()=>[s("div",St,[s("div",null,[e[38]||(e[38]=s("h6",{class:"text-h6 mb-1"}," Total Profit ",-1)),s("div",ht,i(f.value==="yearly"?"Annual":f.value==="monthly"?"Monthly":"Daily")+" Earnings ",1),s("h4",kt,i(($e.value||0).toLocaleString())+" SAR ",1)]),t(Ve,{color:"primary",variant:"tonal",size:"56"},{default:a(()=>[t(b,{icon:"tabler-currency-riyal",size:"28"})]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),t(g,{class:"mb-6"},{default:a(()=>[t(E,null,{default:a(()=>{var l;return[e[39]||(e[39]=s("h6",{class:"text-h6 mb-4"}," Financial Performance ",-1)),t(J,{type:"line",height:"400",options:Re.value,series:((l=re.value)==null?void 0:l.series)||[],loading:oe.value},null,8,["options","series","loading"])]}),_:1,__:[39]})]),_:1}),t(g,null,{default:a(()=>[t(E,null,{default:a(()=>[e[40]||(e[40]=s("h6",{class:"text-h6 mb-4"}," Units Performance ",-1)),t(lt,{headers:ze,items:pe.value,loading:ne.value,class:"text-no-wrap"},{"item.sales":a(({item:l})=>[s("div",Dt,i(L(O)(l.sales||0)),1)]),"item.expenses":a(({item:l})=>[s("div",Ct,i(L(O)(l.expenses||0)),1)]),"item.royalties":a(({item:l})=>[s("div",Et,i(L(O)(l.royalties||0)),1)]),"item.netSales":a(({item:l})=>[s("div",At,i(L(O)(l.netSales||0)),1)]),"item.profit":a(({item:l})=>[s("div",Rt,i(L(O)(l.profit||0)),1)]),"item.profitMargin":a(({item:l})=>[t(B,{color:(l.profitMargin||0)>0?"success":"error",size:"small",label:""},{default:a(()=>[u(i((l.profitMargin||0).toFixed(1))+"% ",1)]),_:2},1032,["color"])]),_:1},8,["items","loading"])]),_:1,__:[40]})]),_:1}),t(te,{modelValue:X.value,"onUpdate:modelValue":e[18]||(e[18]=l=>X.value=l),"max-width":"600"},{default:a(()=>[t(g,null,{default:a(()=>[t(K,null,{default:a(()=>e[41]||(e[41]=[u("Add New Data")])),_:1,__:[41]}),t(E,null,{default:a(()=>[t(we,{modelValue:N.value,"onUpdate:modelValue":e[8]||(e[8]=l=>N.value=l),items:[{title:"Sales",value:"sales"},{title:"Expense",value:"expense"}],label:"Category",class:"mb-4"},null,8,["modelValue"]),N.value==="sales"?(T(),be("div",Pt,[t(P,{modelValue:m.value.product,"onUpdate:modelValue":e[9]||(e[9]=l=>m.value.product=l),label:"Product",class:"mb-4"},null,8,["modelValue"]),t(P,{modelValue:m.value.dateOfSale,"onUpdate:modelValue":e[10]||(e[10]=l=>m.value.dateOfSale=l),label:"Date of Sale",type:"date",class:"mb-4"},null,8,["modelValue"]),t(P,{modelValue:m.value.unitPrice,"onUpdate:modelValue":e[11]||(e[11]=l=>m.value.unitPrice=l),label:"Unit Price",type:"number",prefix:"SAR",class:"mb-4"},null,8,["modelValue"]),t(P,{modelValue:m.value.quantitySold,"onUpdate:modelValue":e[12]||(e[12]=l=>m.value.quantitySold=l),label:"Quantity Sold",type:"number",class:"mb-4"},null,8,["modelValue"])])):M("",!0),N.value==="expense"?(T(),be("div",Ut,[t(P,{modelValue:m.value.expenseCategory,"onUpdate:modelValue":e[13]||(e[13]=l=>m.value.expenseCategory=l),label:"Expense Category",class:"mb-4"},null,8,["modelValue"]),t(P,{modelValue:m.value.dateOfExpense,"onUpdate:modelValue":e[14]||(e[14]=l=>m.value.dateOfExpense=l),label:"Date of Expense",type:"date",class:"mb-4"},null,8,["modelValue"]),t(P,{modelValue:m.value.amount,"onUpdate:modelValue":e[15]||(e[15]=l=>m.value.amount=l),label:"Amount",type:"number",prefix:"SAR",class:"mb-4"},null,8,["modelValue"]),t(P,{modelValue:m.value.description,"onUpdate:modelValue":e[16]||(e[16]=l=>m.value.description=l),label:"Description",class:"mb-4"},null,8,["modelValue"])])):M("",!0)]),_:1}),t(Z,null,{default:a(()=>[t(I),t(C,{variant:"outlined",onClick:e[17]||(e[17]=l=>X.value=!1)},{default:a(()=>e[42]||(e[42]=[u(" Cancel ")])),_:1,__:[42]}),t(C,{color:"primary",loading:q.value,onClick:He},{default:a(()=>e[43]||(e[43]=[u(" Add Data ")])),_:1,__:[43]},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(te,{modelValue:Y.value,"onUpdate:modelValue":e[22]||(e[22]=l=>Y.value=l),"max-width":"500"},{default:a(()=>[t(g,null,{default:a(()=>[t(K,null,{default:a(()=>e[44]||(e[44]=[u("Import Data")])),_:1,__:[44]}),t(E,null,{default:a(()=>[t(we,{modelValue:ce.value,"onUpdate:modelValue":e[19]||(e[19]=l=>ce.value=l),items:[{title:"Sales",value:"sales"},{title:"Expense",value:"expenses"}],label:"Category",class:"mb-4"},null,8,["modelValue"]),t(st,{modelValue:$.value,"onUpdate:modelValue":e[20]||(e[20]=l=>$.value=l),label:"Choose file",accept:".csv,.xlsx","prepend-icon":"tabler-upload"},null,8,["modelValue"])]),_:1}),t(Z,null,{default:a(()=>[t(I),t(C,{variant:"outlined",onClick:e[21]||(e[21]=l=>Y.value=!1)},{default:a(()=>e[45]||(e[45]=[u(" Cancel ")])),_:1,__:[45]}),t(C,{color:"primary",loading:q.value,disabled:!$.value,onClick:Qe},{default:a(()=>e[46]||(e[46]=[u(" Import ")])),_:1,__:[46]},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(te,{modelValue:j.value,"onUpdate:modelValue":e[24]||(e[24]=l=>j.value=l),"max-width":"700"},{default:a(()=>[V.value?(T(),xe(g,{key:0},{default:a(()=>[t(Ee,null,{append:a(()=>[t(B,{color:"success",size:"small",variant:"tonal"},{default:a(()=>[u(i(V.value.referenceNumber||`REV-${String(V.value.id).padStart(6,"0")}`),1)]),_:1})]),default:a(()=>[t(K,null,{default:a(()=>e[47]||(e[47]=[u("Sale Details")])),_:1,__:[47]})]),_:1}),t(z,{class:"mb-4"}),t(E,null,{default:a(()=>[t(ee,null,{default:a(()=>[t(p,{cols:"12"},{default:a(()=>[s("h6",$t,[t(b,{icon:"tabler-shopping-cart",class:"me-2"}),e[48]||(e[48]=u(" Product Information "))])]),_:1}),t(p,{cols:"12",md:"6"},{default:a(()=>[s("div",Tt,[e[49]||(e[49]=s("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Product Name ",-1)),s("div",zt,i(V.value.product),1)])]),_:1}),t(p,{cols:"12",md:"6"},{default:a(()=>[s("div",Nt,[e[50]||(e[50]=s("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Sale Date ",-1)),s("div",Ft,i(new Date(V.value.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})),1)])]),_:1}),t(p,{cols:"12"},{default:a(()=>[t(z,{class:"my-4"}),s("h6",Ot,[t(b,{icon:"tabler-report-money",class:"me-2"}),e[51]||(e[51]=u(" Financial Details "))])]),_:1}),t(p,{cols:"12",md:"4"},{default:a(()=>[t(g,{variant:"tonal",color:"info",class:"pa-4"},{default:a(()=>[s("div",Lt,[t(b,{icon:"tabler-tag",size:"32",class:"mb-2"}),e[52]||(e[52]=s("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Unit Price ",-1)),s("div",Mt,i(Number(V.value.unitPrice).toFixed(2))+" SAR ",1)])]),_:1})]),_:1}),t(p,{cols:"12",md:"4"},{default:a(()=>[t(g,{variant:"tonal",color:"warning",class:"pa-4"},{default:a(()=>[s("div",It,[t(b,{icon:"tabler-stack",size:"32",class:"mb-2"}),e[53]||(e[53]=s("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Quantity ",-1)),s("div",Bt,i(V.value.quantity),1)])]),_:1})]),_:1}),t(p,{cols:"12",md:"4"},{default:a(()=>[t(g,{variant:"tonal",color:"success",class:"pa-4"},{default:a(()=>[s("div",qt,[t(b,{icon:"tabler-coins",size:"32",class:"mb-2"}),e[54]||(e[54]=s("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Total Sale ",-1)),s("div",jt,i(Number(V.value.sale).toFixed(2))+" SAR ",1)])]),_:1})]),_:1}),t(p,{cols:"12"},{default:a(()=>[t(z,{class:"my-4"}),s("h6",Ht,[t(b,{icon:"tabler-calculator",class:"me-2"}),e[55]||(e[55]=u(" Calculation "))])]),_:1}),t(p,{cols:"12"},{default:a(()=>[t(ot,{density:"compact"},{default:a(()=>[s("tbody",null,[s("tr",null,[e[56]||(e[56]=s("td",{class:"font-weight-medium"}," Unit Price: ",-1)),s("td",Qt,i(Number(V.value.unitPrice).toFixed(2))+" SAR ",1)]),s("tr",null,[e[57]||(e[57]=s("td",{class:"font-weight-medium"}," Quantity: ",-1)),s("td",Gt," × "+i(V.value.quantity),1)]),s("tr",Wt,[e[58]||(e[58]=s("td",{class:"font-weight-bold text-success"}," Total Amount: ",-1)),s("td",Xt,i(Number(V.value.sale).toFixed(2))+" SAR ",1)])])]),_:1})]),_:1})]),_:1})]),_:1}),t(Z,null,{default:a(()=>[t(I),t(C,{color:"secondary",variant:"tonal",onClick:e[23]||(e[23]=l=>j.value=!1)},{default:a(()=>e[59]||(e[59]=[u(" Close ")])),_:1,__:[59]})]),_:1})]),_:1})):M("",!0)]),_:1},8,["modelValue"]),t(te,{modelValue:H.value,"onUpdate:modelValue":e[26]||(e[26]=l=>H.value=l),"max-width":"700"},{default:a(()=>[D.value?(T(),xe(g,{key:0},{default:a(()=>[t(Ee,null,{append:a(()=>[t(B,{color:"error",size:"small",variant:"tonal"},{default:a(()=>[u(i(D.value.referenceNumber||`EXP-${String(D.value.id).padStart(6,"0")}`),1)]),_:1})]),default:a(()=>[t(K,null,{default:a(()=>e[60]||(e[60]=[u("Expense Details")])),_:1,__:[60]})]),_:1}),t(z,{class:"mb-4"}),t(E,null,{default:a(()=>[t(ee,null,{default:a(()=>[t(p,{cols:"12"},{default:a(()=>[s("h6",Yt,[t(b,{icon:"tabler-receipt",class:"me-2"}),e[61]||(e[61]=u(" Expense Information "))])]),_:1}),t(p,{cols:"12",md:"6"},{default:a(()=>[s("div",Jt,[e[62]||(e[62]=s("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Category ",-1)),t(B,{color:"error",size:"small",variant:"tonal",class:"text-capitalize"},{default:a(()=>[u(i(D.value.expenseCategory),1)]),_:1})])]),_:1}),t(p,{cols:"12",md:"6"},{default:a(()=>[s("div",Kt,[e[63]||(e[63]=s("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Expense Date ",-1)),s("div",Zt,i(new Date(D.value.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})),1)])]),_:1}),D.value.vendorName?(T(),xe(p,{key:0,cols:"12"},{default:a(()=>[s("div",ea,[e[64]||(e[64]=s("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Vendor ",-1)),s("div",ta,i(D.value.vendorName),1)])]),_:1})):M("",!0),t(p,{cols:"12"},{default:a(()=>[s("div",aa,[e[65]||(e[65]=s("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Description ",-1)),s("div",la,i(D.value.description||"No description provided"),1)])]),_:1}),t(p,{cols:"12"},{default:a(()=>[t(z,{class:"my-4"}),s("h6",sa,[t(b,{icon:"tabler-report-money",class:"me-2"}),e[66]||(e[66]=u(" Amount "))])]),_:1}),t(p,{cols:"12"},{default:a(()=>[t(g,{variant:"tonal",color:"error",class:"pa-6"},{default:a(()=>[s("div",oa,[t(b,{icon:"tabler-currency-dollar",size:"48",class:"mb-3"}),e[67]||(e[67]=s("div",{class:"text-body-1 text-medium-emphasis mb-2"}," Expense Amount ",-1)),s("div",ia,i(Number(D.value.amount).toFixed(2))+" SAR ",1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(Z,null,{default:a(()=>[t(I),t(C,{color:"secondary",variant:"tonal",onClick:e[25]||(e[25]=l=>H.value=!1)},{default:a(()=>e[68]||(e[68]=[u(" Close ")])),_:1,__:[68]})]),_:1})]),_:1})):M("",!0)]),_:1},8,["modelValue"])])}}});export{Ja as default};
