import{_ as N}from"./AppTextField.vue_vue_type_script_setup_true_lang-DNHIefB9.js";import{d as S,bt as M,r,a as R,c as I,o as v,e as d,b as a,aW as h,m as e,f as o,H as P,v as _,b3 as L,g,l as x,t as V,a9 as j,ax as A,x as F}from"./main-ZX0RELSf.js";import{a as H,b as U}from"./auth-v1-top-shape-gPxasD3d.js";import{V as b}from"./VNodeRenderer-BikkbM0P.js";import{a as $,b as z,V as D}from"./VCard-BPtOKe4P.js";import{V as C}from"./VCardText-DO_FRZge.js";import{V as Y}from"./VForm-CMcQHaRk.js";import{V as q,a as u}from"./VRow-Cqbjxu10.js";import{V as k}from"./VAlert-DtX8sKY_.js";import"./form-BPJFMOHG.js";import"./VTextField-vxp1RpFW.js";import"./VImg-BhWA0TmX.js";import"./VField-D__vLB60.js";import"./forwardRefs--KQCZfKO.js";import"./VInput-CMh6ZUdK.js";import"./VAvatar-Dwbi0l9K.js";/* empty css              */const E={class:"auth-wrapper d-flex align-center justify-center pa-4"},W={class:"position-relative my-sm-16"},G={class:"app-logo"},J={class:"app-logo-title"},fe=S({__name:"reset-password",setup(K){const{smAndUp:T}=M(),t=r({newPassword:"",confirmPassword:""}),m=r(!1),f=r(!1),c=r(!1),i=r(null),l=r(null),B=async()=>{var w;if(l.value=null,i.value=null,!t.value.newPassword||t.value.newPassword.length<8){l.value="Password must be at least 8 characters.";return}if(t.value.newPassword!==t.value.confirmPassword){l.value="Passwords do not match.";return}c.value=!0;try{i.value="Your password has been updated if the request is valid.",setTimeout(()=>{i.value=null},3e3)}catch(s){const n=(s==null?void 0:s.data)||((w=s==null?void 0:s.response)==null?void 0:w._data)||null;l.value=(n==null?void 0:n.message)||"Failed to reset password."}finally{c.value=!1}};return(w,s)=>{const n=R("RouterLink"),y=N;return v(),I("div",E,[d("div",W,[a(e(b),{nodes:h("div",{innerHTML:e(H)}),class:"text-primary auth-v1-top-shape d-none d-sm-block"},null,8,["nodes"]),a(e(b),{nodes:h("div",{innerHTML:e(U)}),class:"text-primary auth-v1-bottom-shape d-none d-sm-block"},null,8,["nodes"]),a(D,{class:F(["auth-card",e(T)?"pa-6":"pa-2"]),"max-width":"460"},{default:o(()=>[a($,{class:"justify-center"},{default:o(()=>[a(z,null,{default:o(()=>[a(n,{to:"/"},{default:o(()=>[d("div",G,[a(e(b),{nodes:e(P).app.logo},null,8,["nodes"]),d("h1",J,_(e(P).app.title),1)])]),_:1})]),_:1})]),_:1}),a(C,null,{default:o(()=>s[4]||(s[4]=[d("h4",{class:"text-h4 mb-1"}," Reset Password 🔒 ",-1),d("p",{class:"mb-0"}," Your new password must be different from previously used passwords ",-1)])),_:1,__:[4]}),a(C,null,{default:o(()=>[a(Y,{onSubmit:L(B,["prevent"])},{default:o(()=>[a(q,null,{default:o(()=>[a(u,{cols:"12"},{default:o(()=>[e(l)?(v(),g(k,{key:0,type:"error",variant:"tonal",class:"mb-4"},{default:o(()=>[V(_(e(l)),1)]),_:1})):x("",!0),e(i)?(v(),g(k,{key:1,type:"info",variant:"tonal",class:"mb-4"},{default:o(()=>[V(_(e(i)),1)]),_:1})):x("",!0)]),_:1}),a(u,{cols:"12"},{default:o(()=>[a(y,{modelValue:e(t).newPassword,"onUpdate:modelValue":s[0]||(s[0]=p=>e(t).newPassword=p),autofocus:"",label:"New Password",placeholder:"············",type:e(m)?"text":"password",autocomplete:"password","append-inner-icon":e(m)?"tabler-eye-off":"tabler-eye","onClick:appendInner":s[1]||(s[1]=p=>m.value=!e(m))},null,8,["modelValue","type","append-inner-icon"])]),_:1}),a(u,{cols:"12"},{default:o(()=>[a(y,{modelValue:e(t).confirmPassword,"onUpdate:modelValue":s[2]||(s[2]=p=>e(t).confirmPassword=p),label:"Confirm Password",autocomplete:"confirm-password",placeholder:"············",type:e(f)?"text":"password","append-inner-icon":e(f)?"tabler-eye-off":"tabler-eye","onClick:appendInner":s[3]||(s[3]=p=>f.value=!e(f))},null,8,["modelValue","type","append-inner-icon"])]),_:1}),a(u,{cols:"12"},{default:o(()=>[a(j,{block:"",type:"submit",loading:e(c),disabled:e(c)},{default:o(()=>s[5]||(s[5]=[V(" Set New Password ")])),_:1,__:[5]},8,["loading","disabled"])]),_:1}),a(u,{cols:"12"},{default:o(()=>[a(n,{class:"d-flex align-center justify-center",to:{name:"login"}},{default:o(()=>[a(A,{icon:"tabler-chevron-left",size:"20",class:"me-1 flip-in-rtl"}),s[6]||(s[6]=d("span",null,"Back to login",-1))]),_:1,__:[6]})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["class"])])])}}});export{fe as default};
