import{d as C,bt as w,r,G as T,b2 as B,b5 as M,a as N,c as L,o as c,e as a,b as o,aW as _,m as e,f as n,H as v,v as d,g as y,l as k,t as l,a9 as R,b3 as S,x as j}from"./main-ZX0RELSf.js";import{a as A,b as D}from"./auth-v1-top-shape-gPxasD3d.js";import{V as f}from"./VNodeRenderer-BikkbM0P.js";import{a as E,b as H,V as G}from"./VCard-BPtOKe4P.js";import{V as I}from"./VCardText-DO_FRZge.js";import{V as g}from"./VAlert-DtX8sKY_.js";import"./VAvatar-Dwbi0l9K.js";import"./VImg-BhWA0TmX.js";const z={class:"auth-wrapper d-flex align-center justify-center pa-4"},F={class:"position-relative my-sm-16"},P={class:"app-logo"},U={class:"app-logo-title"},W={class:"text-body-1 mb-0"},$={class:"font-weight-medium text-high-emphasis"},q={class:"d-flex align-center justify-center"},se=C({__name:"verify-email",setup(J){const{smAndUp:V}=w(),h=r(null),u=r(!1),i=r(null),m=r(null);T(async()=>{var t;if(B("accessToken").value){u.value=!0;try{const s=await M("/auth/me",{method:"GET"});h.value=s.data.user.email}catch(s){const p=(s==null?void 0:s.data)||((t=s==null?void 0:s.response)==null?void 0:t._data)||null;m.value=(p==null?void 0:p.message)||"Failed to load user info."}finally{u.value=!1}}});const b=async()=>{i.value="If your email is registered, a verification link will be resent shortly.",setTimeout(()=>{i.value=null},3e3)};return(x,t)=>{const s=N("RouterLink");return c(),L("div",z,[a("div",F,[o(e(f),{nodes:_("div",{innerHTML:e(A)}),class:"text-primary auth-v1-top-shape d-none d-sm-block"},null,8,["nodes"]),o(e(f),{nodes:_("div",{innerHTML:e(D)}),class:"text-primary auth-v1-bottom-shape d-none d-sm-block"},null,8,["nodes"]),o(G,{class:j(["auth-card",e(V)?"pa-6":"pa-2"]),"max-width":"460"},{default:n(()=>[o(E,{class:"justify-center"},{default:n(()=>[o(H,null,{default:n(()=>[o(s,{to:"/"},{default:n(()=>[a("div",P,[o(e(f),{nodes:e(v).app.logo},null,8,["nodes"]),a("h1",U,d(e(v).app.title),1)])]),_:1})]),_:1})]),_:1}),o(I,null,{default:n(()=>[t[4]||(t[4]=a("h4",{class:"text-h4 mb-1"}," Verify your email ✉️ ",-1)),e(m)?(c(),y(g,{key:0,type:"error",variant:"tonal",class:"mb-4"},{default:n(()=>[l(d(e(m)),1)]),_:1})):k("",!0),e(i)?(c(),y(g,{key:1,type:"info",variant:"tonal",class:"mb-4"},{default:n(()=>[l(d(e(i)),1)]),_:1})):k("",!0),a("p",W,[t[0]||(t[0]=l(" Account activation link sent to your email address: ")),a("span",$,d(e(h)||"hello@example.com"),1),t[1]||(t[1]=l(" Please follow the link inside to continue. "))]),o(R,{block:"",to:"/",class:"my-5",loading:e(u)},{default:n(()=>t[2]||(t[2]=[l(" Skip for now ")])),_:1,__:[2]},8,["loading"]),a("div",q,[t[3]||(t[3]=a("span",{class:"me-1"},"Didn't get the mail? ",-1)),a("a",{href:"#",onClick:S(b,["prevent"])},"Resend")])]),_:1,__:[4]})]),_:1},8,["class"])])])}}});export{se as default};
