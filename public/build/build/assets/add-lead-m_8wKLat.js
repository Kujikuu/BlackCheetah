import{_ as N}from"./AppStepper.vue_vue_type_style_index_0_lang-DdNzUirZ.js";import{_ as C,a as S}from"./BasicInfo.vue_vue_type_script_setup_true_lang-BhSc4Blc.js";import{d as x,bt as k,r as d,g as u,f as o,j as $,o as m,b as e,x as B,m as l,aR as b,e as L,a9 as p,t as f,ax as v,b5 as U}from"./main-ZX0RELSf.js";import{V as R}from"./VCard-BPtOKe4P.js";import{V as A,a as _}from"./VRow-Cqbjxu10.js";import{V as y}from"./VCardText-DO_FRZge.js";import{a as P,V}from"./VWindowItem-4wdIYavk.js";import"./VSlideGroup-D2CZ4fkn.js";import"./VAvatar-Dwbi0l9K.js";import"./VImg-BhWA0TmX.js";import"./AppTextarea.vue_vue_type_script_setup_true_lang-nRgD-ubi.js";import"./form-BPJFMOHG.js";import"./VTextarea-KmmZ1HjF.js";import"./VTextField-vxp1RpFW.js";import"./VField-D__vLB60.js";import"./forwardRefs--KQCZfKO.js";import"./VInput-CMh6ZUdK.js";import"./AppDateTimePicker.vue_vue_type_style_index_0_lang-D6Ud5Iei.js";import"./AppSelect.vue_vue_type_script_setup_true_lang-BXcpWyT4.js";import"./VSelect-CM_Ce6Fz.js";import"./VList-lm2yDhsx.js";import"./VDivider-DRORfMXN.js";import"./dialog-transition-DDagBWdU.js";import"./VMenu-CFk79Z2P.js";import"./VOverlay-B0AA_Njd.js";import"./scopeId-B6sKQhYQ.js";import"./VCheckboxBtn-CZL42UAA.js";import"./VSelectionControl-6Sm4Tpt1.js";import"./VChip-BX1klc4g.js";import"./VFileInput-BX2KlnoB.js";import"./AppTextField.vue_vue_type_script_setup_true_lang-DNHIefB9.js";/* empty css              */const T={class:"d-flex flex-wrap gap-4 justify-space-between mt-6"},va=x({__name:"add-lead",setup(j){const{mdAndUp:g}=k(),c=[{title:"Basic Information",subtitle:"Personal & Contact Details",icon:"tabler-user"},{title:"Additional Details",subtitle:"Lead Management Info",icon:"tabler-file-info"}],s=d(0),D=$(),t=d({basicInfo:{firstName:"",lastName:"",email:"",contactNumber:"",country:null,state:null,city:"",companyName:""},additionalDetails:{leadSource:null,leadStatus:null,leadOwner:null,lastContactedDate:"",scheduledMeetingDate:"",note:"",attachments:[]}}),i=d(!1),I=async()=>{try{i.value=!0;const r={first_name:t.value.basicInfo.firstName,last_name:t.value.basicInfo.lastName,email:t.value.basicInfo.email,phone:t.value.basicInfo.contactNumber,company:t.value.basicInfo.companyName||null,country:t.value.basicInfo.country||null,state:t.value.basicInfo.state||null,city:t.value.basicInfo.city||null,source:t.value.additionalDetails.leadSource||"website",status:t.value.additionalDetails.leadStatus||"new",priority:"medium",notes:t.value.additionalDetails.note||null},a=await U("/v1/franchisor/leads",{method:"POST",body:r});a.success&&(console.log("Lead created successfully:",a.data),D.push({name:"franchisor-lead-management"}))}catch(r){console.error("Error adding lead:",r)}finally{i.value=!1}};return(r,a)=>{const w=N;return m(),u(R,null,{default:o(()=>[e(A,{"no-gutters":""},{default:o(()=>[e(_,{cols:"12",md:"4",lg:"3",class:B(l(g)?"border-e":"border-b")},{default:o(()=>[e(y,null,{default:o(()=>[e(w,{"current-step":l(s),"onUpdate:currentStep":a[0]||(a[0]=n=>b(s)?s.value=n:null),direction:"vertical",items:c,"icon-size":"22",class:"stepper-icon-step-bg"},null,8,["current-step"])]),_:1})]),_:1},8,["class"]),e(_,{cols:"12",md:"8",lg:"9"},{default:o(()=>[e(y,null,{default:o(()=>[e(P,{modelValue:l(s),"onUpdate:modelValue":a[3]||(a[3]=n=>b(s)?s.value=n:null),class:"disable-tab-transition"},{default:o(()=>[e(V,null,{default:o(()=>[e(C,{"form-data":l(t).basicInfo,"onUpdate:formData":a[1]||(a[1]=n=>l(t).basicInfo=n)},null,8,["form-data"])]),_:1}),e(V,null,{default:o(()=>[e(S,{"form-data":l(t).additionalDetails,"onUpdate:formData":a[2]||(a[2]=n=>l(t).additionalDetails=n)},null,8,["form-data"])]),_:1})]),_:1},8,["modelValue"]),L("div",T,[e(p,{color:"secondary",variant:"tonal",disabled:l(s)===0,onClick:a[4]||(a[4]=n=>s.value--)},{default:o(()=>[e(v,{icon:"tabler-arrow-left",start:"",class:"flip-in-rtl"}),a[6]||(a[6]=f(" Previous "))]),_:1,__:[6]},8,["disabled"]),c.length-1===l(s)?(m(),u(p,{key:0,color:"success",loading:l(i),disabled:l(i),onClick:I},{default:o(()=>a[7]||(a[7]=[f(" Submit ")])),_:1,__:[7]},8,["loading","disabled"])):(m(),u(p,{key:1,onClick:a[5]||(a[5]=n=>s.value++)},{default:o(()=>[a[8]||(a[8]=f(" Next ")),e(v,{icon:"tabler-arrow-right",end:"",class:"flip-in-rtl"})]),_:1,__:[8]}))])]),_:1})]),_:1})]),_:1})]),_:1})}}});export{va as default};
