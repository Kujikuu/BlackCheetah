import{_ as Ye}from"./AppTextarea.vue_vue_type_script_setup_true_lang-CIe2COFg.js";import{_ as Ze}from"./AppSelect.vue_vue_type_script_setup_true_lang-DXz23Wgu.js";import{_ as et}from"./AppTextField.vue_vue_type_script_setup_true_lang-BiY8T0bF.js";import{d as tt,r as g,G as lt,P as R,c as _,b as t,f as l,au as E,m as a,aO as S,j as at,a as st,o as u,a$ as ot,e as i,a3 as V,t as v,v as r,aa as F,g as x,l as it,F as Ve,i as nt}from"./main-BFHJN9nb.js";import{a as dt}from"./VOverlay-CCjswVhh.js";import{V as N,a as c}from"./VRow-CkpL0RVO.js";import{a as ut,V as se}from"./VTabs-BOALpnd-.js";import{a as rt,V as oe}from"./VWindowItem-9dFuuoo1.js";import{V as X}from"./VDialog-V4gnLJrB.js";import{V as ct}from"./VSnackbar-DfDt83dX.js";import{V as w,d as M,a as xe,b as J}from"./VCard-DX1TBmaJ.js";import{V as C}from"./VCardText-DaLxJsvL.js";import{V as K}from"./VAvatar-0YR6k8GC.js";import{V as mt}from"./VImg-CUvr5mlE.js";import{V as ke}from"./VFileInput-BP_SWKAb.js";import{V as he}from"./VChip-YDiTWgu4.js";import{V as W}from"./VSpacer-CCpGOsVL.js";import{q as ft}from"./VDataTable-KEGIK6KG.js";import{V as we}from"./VForm-Bn7tXzHN.js";import"./form-CRnOu3kV.js";import"./VTextarea-Bsvjwuux.js";/* empty css                   */import"./VCounter-Cd8lIrDY.js";import"./VField-5Oc1eDZT.js";import"./easing-Bybner-F.js";import"./VInput-C8j_k2yQ.js";import"./forwardRefs-C-GTDzx5.js";import"./VSelect-DRqAennZ.js";import"./VTextField-cuhL7eKu.js";import"./VList-BQIhB7WP.js";import"./ssrBoot-BnhyewLe.js";import"./VDivider-BkXgjbRp.js";import"./dialog-transition-BI7rMvXb.js";import"./VMenu-S7-3kIyf.js";import"./scopeId-u705bwh2.js";import"./VCheckboxBtn-B9nMFPWY.js";import"./VSelectionControl-CRxaOcuF.js";import"./lazy-CMH8XMVs.js";/* empty css              */import"./VSlideGroup-Crru8FDw.js";import"./VPagination-C9KFFG-O.js";import"./VTable-C9ODUf_b.js";import"./filter-B0dGONQA.js";const pt={class:"d-flex align-center justify-space-between"},vt={class:"ms-4"},bt={class:"text-h4"},yt={class:"ms-4"},gt={class:"text-h4"},_t={class:"mb-4"},Dt={key:0,class:"text-body-1 font-weight-medium"},Vt={class:"mb-4"},xt={key:0,class:"text-body-1"},kt=["href"],ht={class:"mb-4"},wt={key:0,class:"text-body-1"},Ct={key:0,class:"d-flex align-center"},St={key:1,class:"text-disabled"},Ft={class:"mb-4"},Nt={key:0,class:"text-body-1"},Ut={class:"mb-4"},Et={key:0,class:"text-body-1"},Pt={class:"mb-4"},It={key:0,class:"text-body-1"},At={class:"mb-4"},$t={key:0,class:"text-body-1"},Tt={class:"mb-4"},Lt={key:0,class:"text-body-1 font-weight-medium text-success"},Mt={class:"mb-4"},Ot={key:0,class:"text-body-1"},zt={class:"mb-4"},jt={key:0,class:"text-body-1"},Bt={class:"mb-4"},qt={key:0,class:"text-body-1"},Rt=["href"],Jt={class:"mb-4"},Kt={key:0,class:"text-body-1"},Wt={class:"mb-4"},Qt={key:0,class:"text-body-1"},Gt={class:"mb-4"},Ht={key:0,class:"text-body-1"},Xt={class:"mb-4"},Yt={key:0,class:"text-body-1"},Zt={class:"d-flex justify-space-between align-center mb-4"},el={class:"d-flex align-center mb-3"},tl={class:"text-h6"},ll={class:"text-body-2 text-disabled mb-0"},al={class:"text-body-2 mb-3"},sl={class:"d-flex align-center justify-space-between mb-3"},ol={class:"text-body-2 text-disabled"},il={class:"text-body-2 text-disabled mb-3"},nl={class:"d-flex align-center gap-x-4"},dl={class:"d-flex flex-column"},ul={class:"text-base font-weight-medium"},rl={class:"text-sm text-medium-emphasis"},cl={class:"text-body-1 text-high-emphasis"},ml={class:"text-body-1 text-high-emphasis"},fl={class:"text-body-1 text-high-emphasis"},sa=tt({__name:"my-franchise",setup(pl){at();const A=g("overview"),O=g(!0),Q=g(!1),b=g(!1),$=g({show:!1,message:"",color:"success"}),m=(n,e="success")=>{$.value={show:!0,message:n,color:e}},o=g({id:0,personalInfo:{contactNumber:"",country:"",state:"",city:"",address:""},franchiseDetails:{franchiseName:"",website:"",logo:null},legalDetails:{legalEntityName:"",businessStructure:"",taxId:"",industry:"",fundingAmount:"",fundingSource:""},contactDetails:{contactNumber:"",email:"",address:"",country:"",state:"",city:""}}),Y=g([]),G=g([]),P=g(null),Z=g(!1),ie=async()=>{var n,e,d,p,k,h,s,U,de,ue,re,ce,me,fe,pe,ve,be,ye,ge,_e,De;try{O.value=!0;const q=await S("/v1/franchisor/franchise/data");if(q.success&&q.data){const y=q.data.franchise;y&&(o.value={id:y.id,personalInfo:{contactNumber:((n=y.contactDetails)==null?void 0:n.contactNumber)||"",address:((e=y.contactDetails)==null?void 0:e.address)||"",city:((d=y.contactDetails)==null?void 0:d.city)||"",state:((p=y.contactDetails)==null?void 0:p.state)||"",country:((k=y.contactDetails)==null?void 0:k.country)||""},franchiseDetails:{franchiseName:((h=y.franchiseDetails)==null?void 0:h.franchiseName)||"",website:((s=y.franchiseDetails)==null?void 0:s.website)||"",logo:((U=y.franchiseDetails)==null?void 0:U.logo)||null},legalDetails:{legalEntityName:((de=y.legalDetails)==null?void 0:de.legalEntityName)||"",businessStructure:((re=(ue=y.legalDetails)==null?void 0:ue.businessStructure)==null?void 0:re.toLowerCase())||"",taxId:((ce=y.legalDetails)==null?void 0:ce.taxId)||"",industry:((me=y.legalDetails)==null?void 0:me.industry)||"",fundingAmount:((fe=y.legalDetails)==null?void 0:fe.fundingAmount)||"",fundingSource:((pe=y.legalDetails)==null?void 0:pe.fundingSource)||""},contactDetails:{contactNumber:((ve=y.contactDetails)==null?void 0:ve.contactNumber)||"",email:((be=y.contactDetails)==null?void 0:be.email)||"",address:((ye=y.contactDetails)==null?void 0:ye.address)||"",city:((ge=y.contactDetails)==null?void 0:ge.city)||"",state:((_e=y.contactDetails)==null?void 0:_e.state)||"",country:((De=y.contactDetails)==null?void 0:De.country)||""}})}}catch(q){console.error("Failed to load franchise data:",q),m("Failed to load franchise data","error")}finally{O.value=!1}},ee=async()=>{var n;try{if(!((n=o.value)!=null&&n.id)){console.warn("No franchise ID available for loading documents");return}const e=await S(`/v1/franchises/${o.value.id}/documents`);e.success&&e.data&&(Y.value=e.data.data||[])}catch(e){console.error("Failed to load documents:",e),m("Failed to load documents","error")}},te=async()=>{var n;try{if(!((n=o.value)!=null&&n.id)){console.warn("No franchise ID available for loading products");return}const e=await S(`/v1/franchises/${o.value.id}/products`);e.success&&e.data&&(G.value=e.data.data||[])}catch(e){console.error("Failed to load products:",e),m("Failed to load products","error")}},Ce=async()=>{if(!P.value)return null;Z.value=!0;try{const n=new FormData;n.append("logo",P.value);const e=await S("/v1/franchisor/franchise/upload-logo",{method:"POST",body:n});return e.success?e.data.logo_url:(m(e.message||"Failed to upload logo","error"),null)}catch(n){return console.error("Failed to upload logo:",n),m("Failed to upload logo","error"),null}finally{Z.value=!1}},Se=async()=>{var n;try{Q.value=!0;let e=o.value.franchiseDetails.logo;if(P.value){const k=await Ce();if(k)e=k,o.value.franchiseDetails.logo=e;else return}const d={personalInfo:{contactNumber:o.value.personalInfo.contactNumber||null,address:o.value.personalInfo.address||null,city:o.value.personalInfo.city||null,state:o.value.personalInfo.state||null,country:o.value.personalInfo.country||null},franchiseDetails:{franchiseDetails:{franchiseName:o.value.franchiseDetails.franchiseName||null,website:o.value.franchiseDetails.website||null,logo:o.value.franchiseDetails.logo||null},legalDetails:{legalEntityName:o.value.legalDetails.legalEntityName||null,businessStructure:o.value.legalDetails.businessStructure,taxId:o.value.legalDetails.taxId||null,industry:o.value.legalDetails.industry||null,fundingAmount:o.value.legalDetails.fundingAmount||null,fundingSource:o.value.legalDetails.fundingSource||null},contactDetails:{contactNumber:o.value.contactDetails.contactNumber||null,email:o.value.contactDetails.email||null,address:o.value.contactDetails.address||null,city:o.value.contactDetails.city||null,state:o.value.contactDetails.state||null,country:o.value.contactDetails.country||null}}},p=await S("/v1/franchisor/franchise/update",{method:"PUT",body:d});p.success?(m("Franchise information updated successfully","success"),P.value=null,await ie()):m(p.message||"Failed to update franchise information","error")}catch(e){if(console.error("Failed to update franchise data:",e),e.status===422&&((n=e.data)!=null&&n.errors)){const d=Object.values(e.data.errors).flat();m(`Validation failed: ${d.join(", ")}`,"error")}else m("Failed to update franchise information","error")}finally{Q.value=!1}},H=g(null),Fe=()=>{H.value&&(o.value=JSON.parse(JSON.stringify(H.value))),b.value=!1,H.value=null},Ne=async()=>{await Se(),Q.value||(b.value=!1,H.value=null)};lt(async()=>{var n;await ie(),(n=o.value)!=null&&n.id&&await Promise.all([ee(),te()])});const I=g(!1),ne=g(!1),le=g(!1),ae=g(!1),T=g(!1),L=g(!1),Ue=R({get:()=>I.value||ne.value,set:n=>{n||(I.value=!1,ne.value=!1)}}),z=R({get:()=>le.value||ae.value,set:n=>{n||(le.value=!1,ae.value=!1)}}),D=g({id:null,name:"",description:"",file:null,type:"other",status:"active",is_confidential:!1,expiry_date:null}),f=g({id:null,name:"",description:"",unit_price:0,category:"",status:"active",stock:0,sku:""}),j=g(null),B=g(null),Ee=[{title:"Corporation",value:"corporation"},{title:"LLC",value:"llc"},{title:"Partnership",value:"partnership"},{title:"Sole Proprietorship",value:"sole_proprietorship"}],Pe=[{title:"Food & Beverage",value:"food_beverage"},{title:"Retail",value:"retail"},{title:"Services",value:"services"},{title:"Health & Fitness",value:"health_fitness"},{title:"Education",value:"education"},{title:"Technology",value:"technology"},{title:"Real Estate",value:"real_estate"},{title:"Automotive",value:"automotive"}],Ie=[{title:"Personal Savings",value:"personal_savings"},{title:"Bank Loan",value:"bank_loan"},{title:"Investors",value:"investors"},{title:"SBA Loan",value:"sba_loan"},{title:"Other",value:"other"}],Ae=[{title:"Saudi Arabia",value:"Saudi Arabia"},{title:"United Arab Emirates",value:"United Arab Emirates"},{title:"Qatar",value:"Qatar"},{title:"Kuwait",value:"Kuwait"},{title:"Oman",value:"Oman"},{title:"Bahrain",value:"Bahrain"},{title:"Jordan",value:"Jordan"},{title:"Lebanon",value:"Lebanon"},{title:"Egypt",value:"Egypt"},{title:"Iraq",value:"Iraq"}],$e=[{title:"Coffee",value:"Coffee"},{title:"Tea",value:"Tea"},{title:"Pastries",value:"Pastries"},{title:"Merchandise",value:"Merchandise"},{title:"Equipment",value:"Equipment"}],Te=[{title:"Active",value:"active"},{title:"Inactive",value:"inactive"},{title:"Discontinued",value:"discontinued"}],Le=()=>{D.value={id:null,name:"",description:"",type:"other",file:null,expiry_date:null,is_confidential:!1,status:"active"},I.value=!0},Me=async()=>{var n,e;try{if(!((n=o.value)!=null&&n.id)){m("No franchise ID available","error");return}const d=new FormData;d.append("name",D.value.name),d.append("description",D.value.description||""),d.append("type",D.value.type),d.append("status",D.value.status),d.append("is_confidential",D.value.is_confidential?"1":"0"),D.value.expiry_date&&d.append("expiry_date",D.value.expiry_date),D.value.file&&d.append("file",D.value.file);let p;D.value.id!==null?p=await S(`/v1/franchises/${o.value.id}/documents/${D.value.id}`,{method:"PUT",body:d}):p=await S(`/v1/franchises/${o.value.id}/documents`,{method:"POST",body:d}),p.success?(m(D.value.id!==null?"Document updated successfully":"Document uploaded successfully","success"),Ue.value=!1,await ee()):m(p.message||"Failed to save document","error")}catch(d){if(console.error("Failed to save document:",d),d.status===422&&((e=d.data)!=null&&e.errors)){const p=Object.values(d.data.errors).flat();m(`Validation failed: ${p.join(", ")}`,"error")}else m("Failed to save document","error")}},Oe=async n=>{var e;try{if(!((e=o.value)!=null&&e.id)){m("No franchise ID available","error");return}const d=await S(`/v1/franchises/${o.value.id}/documents/${n.id}/download`,{method:"GET"}),p=new Blob([d],{type:"application/octet-stream"}),k=window.URL.createObjectURL(p),h=n.createElement("a");h.href=k,h.download=n.file_name||n.name,n.body.appendChild(h),h.click(),n.body.removeChild(h),window.URL.revokeObjectURL(k),m("Document downloaded successfully","success")}catch(d){console.error("Failed to download document:",d),m("Failed to download document","error")}},ze=n=>{B.value=n,L.value=!0},je=async()=>{var n;try{if(!((n=o.value)!=null&&n.id)||!B.value){m("Invalid request","error");return}const e=await S(`/v1/franchises/${o.value.id}/documents/${B.value.id}`,{method:"DELETE"});e.success?(m("Document deleted successfully","success"),await ee()):m(e.message||"Failed to delete document","error")}catch(e){console.error("Failed to delete document:",e),m("Failed to delete document","error")}finally{L.value=!1,B.value=null}},Be=()=>{f.value={id:null,name:"",description:"",unit_price:0,category:"",status:"active",stock:0,sku:""},le.value=!0},qe=n=>{f.value={...n},ae.value=!0},Re=async()=>{var n,e;try{if(!((n=o.value)!=null&&n.id)){m("No franchise ID available","error");return}const d={name:f.value.name||"",description:f.value.description||"",category:f.value.category||"",unit_price:f.value.unit_price||0,stock:f.value.stock||0,status:f.value.status||"active",sku:f.value.sku||""};let p;const k=f.value.id!==null?`/v1/franchises/${o.value.id}/products/${f.value.id}`:`/v1/franchises/${o.value.id}/products`;if(f.value.id!==null)p=await S(k,{method:"PUT",body:d});else{const h=new FormData;Object.entries(d).forEach(([s,U])=>{h.append(s,U.toString())}),p=await S(k,{method:"POST",body:h})}p.success?(m(f.value.id!==null?"Product updated successfully":"Product created successfully","success"),z.value=!1,await te()):m(p.message||"Failed to save product","error")}catch(d){if(console.error("Failed to save product:",d),d.status===422&&((e=d.data)!=null&&e.errors)){const p=Object.values(d.data.errors).flat();m(`Validation failed: ${p.join(", ")}`,"error")}else m("Failed to save product","error")}},Je=n=>{j.value=n,T.value=!0},Ke=async()=>{var n;try{if(!((n=o.value)!=null&&n.id)||!j.value){m("Invalid request","error");return}const e=await S(`/v1/franchises/${o.value.id}/products/${j.value.id}`,{method:"DELETE"});e.success?(m("Product deleted successfully","success"),await te()):m(e.message||"Failed to delete product","error")}catch(e){console.error("Failed to delete product:",e),m("Failed to delete product","error")}finally{T.value=!1,j.value=null}},We=R(()=>G.value.length),Qe=R(()=>G.value.filter(n=>n.status==="active").length),Ge=R(()=>Y.value.length),He=[{title:"Product Name",key:"name"},{title:"Description",key:"description"},{title:"Category",key:"category"},{title:"Unit Price",key:"unit_price"},{title:"Stock",key:"stock"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],Xe=n=>n==="active"?"success":n==="inactive"?"warning":n==="discontinued"?"error":"secondary";return(n,e)=>{const d=et,p=Ze,k=Ye,h=st("IconBtn");return u(),_("section",null,[t(dt,{modelValue:a(O),"onUpdate:modelValue":e[0]||(e[0]=s=>E(O)?O.value=s:null),class:"align-center justify-center"},{default:l(()=>[t(ot,{color:"primary",indeterminate:"",size:"64"})]),_:1},8,["modelValue"]),t(N,{class:"mb-6"},{default:l(()=>[t(c,{cols:"12"},{default:l(()=>[i("div",pt,[e[39]||(e[39]=i("div",null,[i("h2",{class:"text-h2 mb-1"}," My Franchise "),i("p",{class:"text-body-1 text-medium-emphasis"}," Manage your franchise details, documents, and products ")],-1)),t(V,{color:a(b)?"secondary":"primary","prepend-icon":a(b)?"tabler-x":"tabler-edit",onClick:e[1]||(e[1]=s=>b.value=!a(b))},{default:l(()=>[v(r(a(b)?"Cancel Edit":"Edit Franchise Details"),1)]),_:1},8,["color","prepend-icon"])])]),_:1})]),_:1}),t(N,{class:"mb-6"},{default:l(()=>[t(c,{cols:"12",md:"4"},{default:l(()=>[t(w,null,{default:l(()=>[t(C,{class:"d-flex align-center"},{default:l(()=>[t(K,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:l(()=>[t(F,{icon:"tabler-building-store",size:"26"})]),_:1}),e[40]||(e[40]=i("div",{class:"ms-4"},[i("div",{class:"text-body-2 text-disabled"}," Franchise Status "),i("h4",{class:"text-h4"}," Active ")],-1))]),_:1,__:[40]})]),_:1})]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[t(w,null,{default:l(()=>[t(C,{class:"d-flex align-center"},{default:l(()=>[t(K,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:l(()=>[t(F,{icon:"tabler-files",size:"26"})]),_:1}),i("div",vt,[e[41]||(e[41]=i("div",{class:"text-body-2 text-disabled"}," Total Documents ",-1)),i("h4",bt,r(a(Ge)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[t(w,null,{default:l(()=>[t(C,{class:"d-flex align-center"},{default:l(()=>[t(K,{size:"44",rounded:"",color:"info",variant:"tonal"},{default:l(()=>[t(F,{icon:"tabler-package",size:"26"})]),_:1}),i("div",yt,[e[42]||(e[42]=i("div",{class:"text-body-2 text-disabled"}," Active Products ",-1)),i("h4",gt,r(a(Qe))+" / "+r(a(We)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(ut,{modelValue:a(A),"onUpdate:modelValue":e[2]||(e[2]=s=>E(A)?A.value=s:null),class:"mb-6"},{default:l(()=>[t(se,{value:"overview"},{default:l(()=>[t(F,{icon:"tabler-info-circle",start:""}),e[43]||(e[43]=v(" Overview "))]),_:1,__:[43]}),t(se,{value:"documents"},{default:l(()=>[t(F,{icon:"tabler-files",start:""}),e[44]||(e[44]=v(" Documents "))]),_:1,__:[44]}),t(se,{value:"products"},{default:l(()=>[t(F,{icon:"tabler-package",start:""}),e[45]||(e[45]=v(" Products "))]),_:1,__:[45]})]),_:1},8,["modelValue"]),t(rt,{modelValue:a(A),"onUpdate:modelValue":e[18]||(e[18]=s=>E(A)?A.value=s:null),class:"disable-tab-transition"},{default:l(()=>[t(oe,{value:"overview"},{default:l(()=>[t(w,null,{default:l(()=>[t(C,null,{default:l(()=>[t(N,null,{default:l(()=>[t(c,{cols:"12"},{default:l(()=>[e[50]||(e[50]=i("h4",{class:"text-h6 mb-4"}," Franchise Information ",-1)),t(w,{variant:"outlined"},{default:l(()=>[t(C,null,{default:l(()=>[t(N,null,{default:l(()=>[t(c,{cols:"12",md:"6"},{default:l(()=>[i("div",_t,[e[46]||(e[46]=i("div",{class:"text-sm text-disabled mb-1"}," Franchise Name ",-1)),a(b)?(u(),x(d,{key:1,modelValue:a(o).franchiseDetails.franchiseName,"onUpdate:modelValue":e[3]||(e[3]=s=>a(o).franchiseDetails.franchiseName=s),label:"Franchise Name",placeholder:"Enter franchise name"},null,8,["modelValue"])):(u(),_("div",Dt,r(a(o).franchiseDetails.franchiseName),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[i("div",Vt,[e[47]||(e[47]=i("div",{class:"text-sm text-disabled mb-1"}," Website ",-1)),a(b)?(u(),x(d,{key:1,modelValue:a(o).franchiseDetails.website,"onUpdate:modelValue":e[4]||(e[4]=s=>a(o).franchiseDetails.website=s),label:"Website",placeholder:"https://example.com"},null,8,["modelValue"])):(u(),_("div",xt,[i("a",{href:a(o).franchiseDetails.website,target:"_blank",class:"text-primary"},r(a(o).franchiseDetails.website),9,kt)]))])]),_:1}),t(c,{cols:"12"},{default:l(()=>[i("div",ht,[e[49]||(e[49]=i("div",{class:"text-sm text-disabled mb-1"}," Franchise Logo ",-1)),a(b)?(u(),x(ke,{key:1,modelValue:a(P),"onUpdate:modelValue":e[5]||(e[5]=s=>E(P)?P.value=s:null),label:"Franchise Logo",accept:"image/*","prepend-icon":"tabler-upload",loading:a(Z)},null,8,["modelValue","loading"])):(u(),_("div",wt,[a(o).franchiseDetails.logo?(u(),_("div",Ct,[t(K,{size:"40",class:"me-3"},{default:l(()=>[t(mt,{src:a(o).franchiseDetails.logo,alt:"Franchise Logo"},null,8,["src"])]),_:1}),e[48]||(e[48]=i("span",null,"Logo uploaded",-1))])):(u(),_("span",St,"No logo uploaded"))]))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1,__:[50]}),t(c,{cols:"12"},{default:l(()=>[e[57]||(e[57]=i("h4",{class:"text-h6 mb-4"}," Legal Information ",-1)),t(w,{variant:"outlined"},{default:l(()=>[t(C,null,{default:l(()=>[t(N,null,{default:l(()=>[t(c,{cols:"12",md:"6"},{default:l(()=>[i("div",Ft,[e[51]||(e[51]=i("div",{class:"text-sm text-disabled mb-1"}," Legal Entity Name ",-1)),a(b)?(u(),x(d,{key:1,modelValue:a(o).legalDetails.legalEntityName,"onUpdate:modelValue":e[6]||(e[6]=s=>a(o).legalDetails.legalEntityName=s),label:"Legal Entity Name",placeholder:"Enter legal entity name"},null,8,["modelValue"])):(u(),_("div",Nt,r(a(o).legalDetails.legalEntityName),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[i("div",Ut,[e[52]||(e[52]=i("div",{class:"text-sm text-disabled mb-1"}," Business Structure ",-1)),a(b)?(u(),x(p,{key:1,modelValue:a(o).legalDetails.businessStructure,"onUpdate:modelValue":e[7]||(e[7]=s=>a(o).legalDetails.businessStructure=s),label:"Business Structure",placeholder:"Select business structure",items:Ee},null,8,["modelValue"])):(u(),_("div",Et,r(a(o).legalDetails.businessStructure),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[i("div",Pt,[e[53]||(e[53]=i("div",{class:"text-sm text-disabled mb-1"}," Tax ID ",-1)),a(b)?(u(),x(d,{key:1,modelValue:a(o).legalDetails.taxId,"onUpdate:modelValue":e[8]||(e[8]=s=>a(o).legalDetails.taxId=s),label:"Tax ID",placeholder:"Enter tax ID"},null,8,["modelValue"])):(u(),_("div",It,r(a(o).legalDetails.taxId),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[i("div",At,[e[54]||(e[54]=i("div",{class:"text-sm text-disabled mb-1"}," Industry ",-1)),a(b)?(u(),x(p,{key:1,modelValue:a(o).legalDetails.industry,"onUpdate:modelValue":e[9]||(e[9]=s=>a(o).legalDetails.industry=s),label:"Industry",placeholder:"Select industry",items:Pe},null,8,["modelValue"])):(u(),_("div",$t,r(a(o).legalDetails.industry),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[i("div",Tt,[e[55]||(e[55]=i("div",{class:"text-sm text-disabled mb-1"}," Funding Amount ",-1)),a(b)?(u(),x(d,{key:1,modelValue:a(o).legalDetails.fundingAmount,"onUpdate:modelValue":e[10]||(e[10]=s=>a(o).legalDetails.fundingAmount=s),label:"Funding Amount",placeholder:"Enter funding amount",type:"number"},null,8,["modelValue"])):(u(),_("div",Lt,r(a(o).legalDetails.fundingAmount),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[i("div",Mt,[e[56]||(e[56]=i("div",{class:"text-sm text-disabled mb-1"}," Funding Source ",-1)),a(b)?(u(),x(p,{key:1,modelValue:a(o).legalDetails.fundingSource,"onUpdate:modelValue":e[11]||(e[11]=s=>a(o).legalDetails.fundingSource=s),label:"Funding Source",placeholder:"Select funding source",items:Ie},null,8,["modelValue"])):(u(),_("div",Ot,r(a(o).legalDetails.fundingSource),1))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1,__:[57]}),t(c,{cols:"12"},{default:l(()=>[e[64]||(e[64]=i("h4",{class:"text-h6 mb-4"}," Contact Information ",-1)),t(w,{variant:"outlined"},{default:l(()=>[t(C,null,{default:l(()=>[t(N,null,{default:l(()=>[t(c,{cols:"12",md:"6"},{default:l(()=>[i("div",zt,[e[58]||(e[58]=i("div",{class:"text-sm text-disabled mb-1"}," Contact Number ",-1)),a(b)?(u(),x(d,{key:1,modelValue:a(o).contactDetails.contactNumber,"onUpdate:modelValue":e[12]||(e[12]=s=>a(o).contactDetails.contactNumber=s),label:"Contact Number",placeholder:"Enter contact number"},null,8,["modelValue"])):(u(),_("div",jt,r(a(o).contactDetails.contactNumber),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[i("div",Bt,[e[59]||(e[59]=i("div",{class:"text-sm text-disabled mb-1"}," Email ",-1)),a(b)?(u(),x(d,{key:1,modelValue:a(o).contactDetails.email,"onUpdate:modelValue":e[13]||(e[13]=s=>a(o).contactDetails.email=s),label:"Email",placeholder:"Enter email address",type:"email"},null,8,["modelValue"])):(u(),_("div",qt,[i("a",{href:`mailto:${a(o).contactDetails.email}`,class:"text-primary"},r(a(o).contactDetails.email),9,Rt)]))])]),_:1}),t(c,{cols:"12"},{default:l(()=>[i("div",Jt,[e[60]||(e[60]=i("div",{class:"text-sm text-disabled mb-1"}," Address ",-1)),a(b)?(u(),x(k,{key:1,modelValue:a(o).contactDetails.address,"onUpdate:modelValue":e[14]||(e[14]=s=>a(o).contactDetails.address=s),label:"Address",placeholder:"Enter full address",rows:"2"},null,8,["modelValue"])):(u(),_("div",Kt,r(a(o).contactDetails.address),1))])]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[i("div",Wt,[e[61]||(e[61]=i("div",{class:"text-sm text-disabled mb-1"}," Country ",-1)),a(b)?(u(),x(p,{key:1,modelValue:a(o).contactDetails.country,"onUpdate:modelValue":e[15]||(e[15]=s=>a(o).contactDetails.country=s),label:"Country",placeholder:"Select country",items:Ae},null,8,["modelValue"])):(u(),_("div",Qt,r(a(o).contactDetails.country),1))])]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[i("div",Gt,[e[62]||(e[62]=i("div",{class:"text-sm text-disabled mb-1"}," State ",-1)),a(b)?(u(),x(d,{key:1,modelValue:a(o).contactDetails.state,"onUpdate:modelValue":e[16]||(e[16]=s=>a(o).contactDetails.state=s),label:"State",placeholder:"Enter state"},null,8,["modelValue"])):(u(),_("div",Ht,r(a(o).contactDetails.state),1))])]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[i("div",Xt,[e[63]||(e[63]=i("div",{class:"text-sm text-disabled mb-1"}," City ",-1)),a(b)?(u(),x(d,{key:1,modelValue:a(o).contactDetails.city,"onUpdate:modelValue":e[17]||(e[17]=s=>a(o).contactDetails.city=s),label:"City",placeholder:"Enter city"},null,8,["modelValue"])):(u(),_("div",Yt,r(a(o).contactDetails.city),1))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1,__:[64]})]),_:1})]),_:1}),t(M,{class:"justify-end"},{default:l(()=>[a(b)?(u(),_(Ve,{key:0},[t(V,{variant:"outlined","prepend-icon":"tabler-x",class:"me-2",onClick:Fe},{default:l(()=>e[65]||(e[65]=[v(" Cancel ")])),_:1,__:[65]}),t(V,{color:"primary",loading:a(Q),"prepend-icon":"tabler-device-floppy",onClick:Ne},{default:l(()=>e[66]||(e[66]=[v(" Save Changes ")])),_:1,__:[66]},8,["loading"])],64)):it("",!0)]),_:1})]),_:1})]),_:1}),t(oe,{value:"documents"},{default:l(()=>[t(w,null,{default:l(()=>[t(C,null,{default:l(()=>[i("div",Zt,[e[68]||(e[68]=i("h4",{class:"text-h6"}," Franchise Documents ",-1)),t(V,{color:"primary","prepend-icon":"tabler-plus",onClick:Le},{default:l(()=>e[67]||(e[67]=[v(" Add Document ")])),_:1,__:[67]})]),t(N,null,{default:l(()=>[(u(!0),_(Ve,null,nt(a(Y),s=>(u(),x(c,{key:s.id,cols:"12",md:"6",lg:"4"},{default:l(()=>[t(w,null,{default:l(()=>[t(C,null,{default:l(()=>[i("div",el,[t(F,{icon:"tabler-file-text",size:"24",color:"primary",class:"me-3"}),i("div",null,[i("h6",tl,r(s.name),1),i("p",ll,r(s.type),1)])]),i("p",al,r(s.description),1),i("div",sl,[i("span",ol,r(s.file_name),1),t(he,{size:"small",color:"secondary"},{default:l(()=>[v(r(s.file_size),1)]),_:2},1024)]),i("div",il," Uploaded: "+r(s.created_at),1)]),_:2},1024),t(M,null,{default:l(()=>[t(V,{size:"small",variant:"text",color:"primary","prepend-icon":"tabler-download",onClick:U=>Oe(s)},{default:l(()=>e[69]||(e[69]=[v(" Download ")])),_:2,__:[69]},1032,["onClick"]),t(W),t(V,{size:"small",variant:"text",color:"error",icon:"tabler-trash",onClick:U=>ze(s)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),t(oe,{value:"products"},{default:l(()=>[t(w,null,{default:l(()=>[t(xe,{class:"pb-4"},{append:l(()=>[t(V,{color:"primary","prepend-icon":"tabler-plus",onClick:Be},{default:l(()=>e[71]||(e[71]=[v(" Add Product ")])),_:1,__:[71]})]),default:l(()=>[t(J,null,{default:l(()=>e[70]||(e[70]=[v("Franchise Products")])),_:1,__:[70]})]),_:1}),t(C,null,{default:l(()=>[t(ft,{headers:He,items:a(G),"item-value":"id",class:"text-no-wrap","show-select":""},{"item.name":l(({item:s})=>[i("div",nl,[t(K,{size:"34",color:"primary",variant:"tonal",class:"text-primary"},{default:l(()=>[t(F,{icon:"tabler-package"})]),_:1}),i("div",dl,[i("h6",ul,r(s.name),1),i("div",rl,r(s.category),1)])])]),"item.description":l(({item:s})=>[i("div",cl,r(s.description),1)]),"item.unit_price":l(({item:s})=>[i("div",ml,r(Number(s.unit_price).toFixed(2))+" SAR ",1)]),"item.stock":l(({item:s})=>[i("div",fl,r(s.stock),1)]),"item.status":l(({item:s})=>[t(he,{color:Xe(s.status),size:"small",class:"text-capitalize",label:""},{default:l(()=>[v(r(s.status),1)]),_:2},1032,["color"])]),"item.actions":l(({item:s})=>[t(h,{onClick:U=>qe(s)},{default:l(()=>[t(F,{icon:"tabler-edit"})]),_:2},1032,["onClick"]),t(h,{onClick:U=>Je(s)},{default:l(()=>[t(F,{icon:"tabler-trash"})]),_:2},1032,["onClick"])]),_:1},8,["items"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(X,{modelValue:a(I),"onUpdate:modelValue":e[23]||(e[23]=s=>E(I)?I.value=s:null),"max-width":"600"},{default:l(()=>[t(w,null,{default:l(()=>[t(J,null,{default:l(()=>e[72]||(e[72]=[v("Add New Document")])),_:1,__:[72]}),t(C,null,{default:l(()=>[t(we,null,{default:l(()=>[t(N,null,{default:l(()=>[t(c,{cols:"12"},{default:l(()=>[t(d,{modelValue:a(D).name,"onUpdate:modelValue":e[19]||(e[19]=s=>a(D).name=s),label:"Document Name",placeholder:"Enter document name",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12"},{default:l(()=>[t(k,{modelValue:a(D).description,"onUpdate:modelValue":e[20]||(e[20]=s=>a(D).description=s),label:"Description",placeholder:"Enter document description",rows:"3"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12"},{default:l(()=>[t(ke,{modelValue:a(D).file,"onUpdate:modelValue":e[21]||(e[21]=s=>a(D).file=s),label:"Attach File",accept:".pdf,.doc,.docx","prepend-icon":"tabler-paperclip",required:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(M,null,{default:l(()=>[t(W),t(V,{color:"secondary",variant:"outlined",onClick:e[22]||(e[22]=s=>I.value=!1)},{default:l(()=>e[73]||(e[73]=[v(" Cancel ")])),_:1,__:[73]}),t(V,{color:"primary",onClick:Me},{default:l(()=>e[74]||(e[74]=[v(" Add Document ")])),_:1,__:[74]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(X,{modelValue:a(z),"onUpdate:modelValue":e[32]||(e[32]=s=>E(z)?z.value=s:null),"max-width":"600"},{default:l(()=>[t(w,null,{default:l(()=>[t(J,null,{default:l(()=>[v(r(a(f).id?"Edit Product":"Add New Product"),1)]),_:1}),t(C,null,{default:l(()=>[t(we,null,{default:l(()=>[t(N,null,{default:l(()=>[t(c,{cols:"12",md:"6"},{default:l(()=>[t(d,{modelValue:a(f).name,"onUpdate:modelValue":e[24]||(e[24]=s=>a(f).name=s),label:"Product Name",placeholder:"Enter product name",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[t(d,{modelValue:a(f).sku,"onUpdate:modelValue":e[25]||(e[25]=s=>a(f).sku=s),label:"SKU",placeholder:"Enter product SKU",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[t(p,{modelValue:a(f).category,"onUpdate:modelValue":e[26]||(e[26]=s=>a(f).category=s),label:"Category",items:$e,placeholder:"Select category"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12"},{default:l(()=>[t(k,{modelValue:a(f).description,"onUpdate:modelValue":e[27]||(e[27]=s=>a(f).description=s),label:"Description",placeholder:"Enter product description",rows:"3"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[t(d,{modelValue:a(f).unit_price,"onUpdate:modelValue":e[28]||(e[28]=s=>a(f).unit_price=s),modelModifiers:{number:!0},label:"Unit Price",type:"number",placeholder:"0.00",prefix:"SAR",step:"0.01"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[t(d,{modelValue:a(f).stock,"onUpdate:modelValue":e[29]||(e[29]=s=>a(f).stock=s),modelModifiers:{number:!0},label:"Stock Quantity",type:"number",placeholder:"0"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"4"},{default:l(()=>[t(p,{modelValue:a(f).status,"onUpdate:modelValue":e[30]||(e[30]=s=>a(f).status=s),label:"Status",items:Te,placeholder:"Select status"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(M,null,{default:l(()=>[t(W),t(V,{color:"secondary",variant:"outlined",onClick:e[31]||(e[31]=s=>z.value=!1)},{default:l(()=>e[75]||(e[75]=[v(" Cancel ")])),_:1,__:[75]}),t(V,{color:"primary",onClick:Re},{default:l(()=>[v(r(a(f).id?"Update Product":"Add Product"),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(X,{modelValue:a(T),"onUpdate:modelValue":e[34]||(e[34]=s=>E(T)?T.value=s:null),"max-width":"400"},{default:l(()=>[t(w,null,{default:l(()=>[t(J,null,{default:l(()=>e[76]||(e[76]=[v("Delete Product")])),_:1,__:[76]}),t(C,null,{default:l(()=>{var s;return[v(' Are you sure you want to delete "'+r((s=a(j))==null?void 0:s.name)+'"? This action cannot be undone. ',1)]}),_:1}),t(M,null,{default:l(()=>[t(W),t(V,{color:"secondary",variant:"outlined",onClick:e[33]||(e[33]=s=>T.value=!1)},{default:l(()=>e[77]||(e[77]=[v(" Cancel ")])),_:1,__:[77]}),t(V,{color:"error",onClick:Ke},{default:l(()=>e[78]||(e[78]=[v(" Delete ")])),_:1,__:[78]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(X,{modelValue:a(L),"onUpdate:modelValue":e[36]||(e[36]=s=>E(L)?L.value=s:null),"max-width":"500"},{default:l(()=>[t(w,null,{default:l(()=>[t(xe,null,{default:l(()=>[t(J,null,{default:l(()=>e[79]||(e[79]=[v("Confirm Delete")])),_:1,__:[79]})]),_:1}),t(C,null,{default:l(()=>{var s;return[v(' Are you sure you want to delete "'+r((s=a(B))==null?void 0:s.name)+'"? This action cannot be undone. ',1)]}),_:1}),t(M,null,{default:l(()=>[t(W),t(V,{color:"secondary",variant:"tonal",onClick:e[35]||(e[35]=s=>L.value=!1)},{default:l(()=>e[80]||(e[80]=[v(" Cancel ")])),_:1,__:[80]}),t(V,{color:"error",onClick:je},{default:l(()=>e[81]||(e[81]=[v(" Delete ")])),_:1,__:[81]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(ct,{modelValue:a($).show,"onUpdate:modelValue":e[38]||(e[38]=s=>a($).show=s),color:a($).color,location:"top end",timeout:"4000"},{actions:l(()=>[t(V,{color:"white",variant:"text",onClick:e[37]||(e[37]=s=>a($).show=!1)},{default:l(()=>e[82]||(e[82]=[v(" Close ")])),_:1,__:[82]})]),default:l(()=>[v(r(a($).message)+" ",1)]),_:1},8,["modelValue","color"])])}}});export{sa as default};
