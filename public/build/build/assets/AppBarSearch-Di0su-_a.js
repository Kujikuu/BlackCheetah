import{d as A,cV as F,r as f,w as k,g as I,o as c,f as o,b as s,cW as b,aR as N,m as r,e as l,ax as h,J as g,c as v,l as _,z as d,K as V,F as y,i as D,t as U,v as w}from"./main-ZX0RELSf.js";import{C as z}from"./vue3-perfect-scrollbar-D-9SOPqH.js";import{V as T}from"./VCard-BPtOKe4P.js";import{V as S}from"./VCardText-DO_FRZge.js";import{V as j}from"./VTextField-vxp1RpFW.js";import{V as E}from"./VDivider-DRORfMXN.js";import{V as M,a as J}from"./VList-lm2yDhsx.js";import{V as O}from"./VSkeletonLoader-vOLQEjeP.js";import{V as P}from"./VDialog-Dnb-q-MU.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VAvatar-Dwbi0l9K.js";import"./VImg-BhWA0TmX.js";import"./VField-D__vLB60.js";import"./form-BPJFMOHG.js";import"./forwardRefs--KQCZfKO.js";import"./VInput-CMh6ZUdK.js";import"./VOverlay-B0AA_Njd.js";import"./scopeId-B6sKQhYQ.js";import"./dialog-transition-DDagBWdU.js";const W={class:"d-flex align-center text-high-emphasis me-1"},X={class:"d-flex align-start"},q={class:"h-100"},G={class:"h-100"},H={class:"app-bar-search-suggestions d-flex flex-column align-center justify-center text-high-emphasis pa-12"},Y={class:"d-flex align-center flex-wrap justify-center gap-2 text-h5 mt-3"},Z=A({__name:"AppBarSearch",props:{isDialogVisible:{type:Boolean},searchResults:{},isLoading:{type:Boolean}},emits:["update:isDialogVisible","search"],setup(x,{emit:L}){const n=x,u=L,{ctrl_k:C,meta_k:R}=F({passive:!1,onEventFired(e){e.ctrlKey&&e.key==="k"&&e.type==="keydown"&&e.preventDefault()}}),m=f(),$=f(),t=f("");k([C,R],()=>{u("update:isDialogVisible",!0)});const p=()=>{t.value="",u("update:isDialogVisible",!1)},B=e=>{var i,a;e.key==="ArrowDown"?(e.preventDefault(),(i=m.value)==null||i.focus("next")):e.key==="ArrowUp"&&(e.preventDefault(),(a=m.value)==null||a.focus("prev"))},K=e=>{t.value="",u("update:isDialogVisible",e)};return k(()=>n.isDialogVisible,()=>{t.value=""}),(e,i)=>(c(),I(P,{"max-width":"600","model-value":n.isDialogVisible,height:e.$vuetify.display.smAndUp?"531":"100%",fullscreen:e.$vuetify.display.width<600,class:"app-bar-search-dialog","onUpdate:modelValue":K,onKeyup:b(p,["esc"])},{default:o(()=>[s(T,{height:"100%",width:"100%",class:"position-relative"},{default:o(()=>[s(S,{class:"px-4",style:{"padding-block":"1rem 1.2rem"}},{default:o(()=>[s(j,{ref_key:"refSearchInput",ref:$,modelValue:r(t),"onUpdate:modelValue":[i[0]||(i[0]=a=>N(t)?t.value=a:null),i[1]||(i[1]=a=>e.$emit("search",r(t)))],autofocus:"",density:"compact",variant:"plain",class:"app-bar-search-input",onKeyup:b(p,["esc"]),onKeydown:B},{"prepend-inner":o(()=>[l("div",W,[s(h,{size:"24",icon:"tabler-search"})])]),"append-inner":o(()=>[l("div",X,[l("div",{class:"text-base text-disabled cursor-pointer me-3",onClick:p}," [esc] "),s(h,{icon:"tabler-x",size:"24",onClick:p})])]),_:1},8,["modelValue"])]),_:1}),s(E),s(r(z),{options:{wheelPropagation:!1,suppressScrollX:!0},class:"h-100"},{default:o(()=>[g(l("div",q,[d(e.$slots,"suggestions",{},void 0,!0)],512),[[V,!!n.searchResults&&!r(t)&&e.$slots.suggestions]]),e.isLoading?_("",!0):(c(),v(y,{key:0},[g(s(r(M),{ref_key:"refSearchList",ref:m,density:"compact",class:"app-bar-search-list py-0"},{default:o(()=>[(c(!0),v(y,null,D(n.searchResults,a=>d(e.$slots,"searchResult",{key:a,item:a},()=>[s(r(J),null,{default:o(()=>[U(w(a),1)]),_:2},1024)],!0)),128))]),_:3},512),[[V,r(t).length&&!!n.searchResults.length]]),g(l("div",G,[d(e.$slots,"noData",{},()=>[s(S,{class:"h-100"},{default:o(()=>[l("div",H,[s(h,{size:"64",icon:"tabler-file-alert"}),l("div",Y,[i[2]||(i[2]=l("span",null,"No Result For ",-1)),l("span",null,'"'+w(r(t))+'"',1)]),d(e.$slots,"noDataSuggestion",{},void 0,!0)])]),_:3})],!0)],512),[[V,!n.searchResults.length&&r(t).length]])],64)),e.isLoading?(c(),v(y,{key:1},D(3,a=>s(O,{key:a,type:"list-item-two-line"})),64)):_("",!0)]),_:3})]),_:3})]),_:3},8,["model-value","height","fullscreen"]))}}),ye=Q(Z,[["__scopeId","data-v-ef7d10b6"]]);export{ye as default};
