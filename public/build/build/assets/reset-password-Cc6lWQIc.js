import{_ as N}from"./AppTextField.vue_vue_type_script_setup_true_lang-CO47FMF9.js";import{d as M,c1 as S,r,a as R,c as A,o as v,e as d,b as s,aA as h,m as e,f as o,H as P,v as _,aM as I,g,l as x,t as V,a3 as L,aa as j,x as F}from"./main-CpsWdFYr.js";import{a as H,b as U}from"./auth-v1-top-shape-Be0n9vOV.js";import{V as b}from"./VNodeRenderer-Bjh8uJSD.js";import{a as $,b as z,V as D}from"./VCard-D_XCsLRw.js";import{V as C}from"./VCardText-j0JBfbAe.js";import{V as Y}from"./VForm-D7q8z2rE.js";import{V as q,a as u}from"./VRow-Bk9_G6aB.js";import{V as k}from"./VAlert-DRT0ey_A.js";import"./form-DyYLQJyt.js";import"./VTextField-CUOQrd4S.js";/* empty css                   */import"./VCounter-CbUu5J9F.js";import"./VImg-DCJkd1LN.js";import"./VField-DDq05bP2.js";import"./easing-Bybner-F.js";import"./VInput-B4TWBtjL.js";import"./forwardRefs-C-GTDzx5.js";import"./VAvatar-CzxzJOWa.js";/* empty css              */const E={class:"auth-wrapper d-flex align-center justify-center pa-4"},G={class:"position-relative my-sm-16"},J={class:"app-logo"},K={class:"app-logo-title"},ve=M({__name:"reset-password",setup(O){const{smAndUp:T}=S(),t=r({newPassword:"",confirmPassword:""}),m=r(!1),f=r(!1),c=r(!1),i=r(null),l=r(null),B=async()=>{var w;if(l.value=null,i.value=null,!t.value.newPassword||t.value.newPassword.length<8){l.value="Password must be at least 8 characters.";return}if(t.value.newPassword!==t.value.confirmPassword){l.value="Passwords do not match.";return}c.value=!0;try{i.value="Your password has been updated if the request is valid.",setTimeout(()=>{i.value=null},3e3)}catch(a){const n=(a==null?void 0:a.data)||((w=a==null?void 0:a.response)==null?void 0:w._data)||null;l.value=(n==null?void 0:n.message)||"Failed to reset password."}finally{c.value=!1}};return(w,a)=>{const n=R("RouterLink"),y=N;return v(),A("div",E,[d("div",G,[s(e(b),{nodes:h("div",{innerHTML:e(H)}),class:"text-primary auth-v1-top-shape d-none d-sm-block"},null,8,["nodes"]),s(e(b),{nodes:h("div",{innerHTML:e(U)}),class:"text-primary auth-v1-bottom-shape d-none d-sm-block"},null,8,["nodes"]),s(D,{class:F(["auth-card",e(T)?"pa-6":"pa-2"]),"max-width":"460"},{default:o(()=>[s($,{class:"justify-center"},{default:o(()=>[s(z,null,{default:o(()=>[s(n,{to:"/"},{default:o(()=>[d("div",J,[s(e(b),{nodes:e(P).app.logo},null,8,["nodes"]),d("h1",K,_(e(P).app.title),1)])]),_:1})]),_:1})]),_:1}),s(C,null,{default:o(()=>a[4]||(a[4]=[d("h4",{class:"text-h4 mb-1"}," Reset Password 🔒 ",-1),d("p",{class:"mb-0"}," Your new password must be different from previously used passwords ",-1)])),_:1,__:[4]}),s(C,null,{default:o(()=>[s(Y,{onSubmit:I(B,["prevent"])},{default:o(()=>[s(q,null,{default:o(()=>[s(u,{cols:"12"},{default:o(()=>[e(l)?(v(),g(k,{key:0,type:"error",variant:"tonal",class:"mb-4"},{default:o(()=>[V(_(e(l)),1)]),_:1})):x("",!0),e(i)?(v(),g(k,{key:1,type:"info",variant:"tonal",class:"mb-4"},{default:o(()=>[V(_(e(i)),1)]),_:1})):x("",!0)]),_:1}),s(u,{cols:"12"},{default:o(()=>[s(y,{modelValue:e(t).newPassword,"onUpdate:modelValue":a[0]||(a[0]=p=>e(t).newPassword=p),autofocus:"",label:"New Password",placeholder:"············",type:e(m)?"text":"password",autocomplete:"password","append-inner-icon":e(m)?"tabler-eye-off":"tabler-eye","onClick:appendInner":a[1]||(a[1]=p=>m.value=!e(m))},null,8,["modelValue","type","append-inner-icon"])]),_:1}),s(u,{cols:"12"},{default:o(()=>[s(y,{modelValue:e(t).confirmPassword,"onUpdate:modelValue":a[2]||(a[2]=p=>e(t).confirmPassword=p),label:"Confirm Password",autocomplete:"confirm-password",placeholder:"············",type:e(f)?"text":"password","append-inner-icon":e(f)?"tabler-eye-off":"tabler-eye","onClick:appendInner":a[3]||(a[3]=p=>f.value=!e(f))},null,8,["modelValue","type","append-inner-icon"])]),_:1}),s(u,{cols:"12"},{default:o(()=>[s(L,{block:"",type:"submit",loading:e(c),disabled:e(c)},{default:o(()=>a[5]||(a[5]=[V(" Set New Password ")])),_:1,__:[5]},8,["loading","disabled"])]),_:1}),s(u,{cols:"12"},{default:o(()=>[s(n,{class:"d-flex align-center justify-center",to:{name:"login"}},{default:o(()=>[s(j,{icon:"tabler-chevron-left",size:"20",class:"me-1 flip-in-rtl"}),a[6]||(a[6]=d("span",null,"Back to login",-1))]),_:1,__:[6]})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["class"])])])}}});export{ve as default};
