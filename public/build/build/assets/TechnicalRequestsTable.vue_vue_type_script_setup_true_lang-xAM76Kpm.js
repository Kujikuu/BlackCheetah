import{_ as ee}from"./AppTextarea.vue_vue_type_script_setup_true_lang-DJuxuOVb.js";import{_ as te}from"./AppSelect.vue_vue_type_script_setup_true_lang-B5FICR3b.js";import{_ as se}from"./AppTextField.vue_vue_type_script_setup_true_lang-DSmTBduk.js";import{V as O,_ as N}from"./VDialog-6C-NQXCx.js";import{b5 as T,d as I,r as z,P as j,g as w,f as t,b as e,b3 as le,e as l,c as W,l as B,F as ae,i as ie,a9 as D,t as V,o as q,ax as S,v as f,b2 as me,w as pe}from"./main-gemCwVks.js";import{V as oe}from"./VForm-FUZpY-zG.js";import{V as F}from"./VCardText-BD5AHO-w.js";import{V as J,a as h}from"./VRow-DiX7eN30.js";import{V as ce}from"./VFileInput-CB0ItP4X.js";import{V as K}from"./VDivider-B4ry9pxl.js";import{d as Q,V as H}from"./VCard-DJ82mpnW.js";import{V as Y}from"./VSpacer-Cpeayo2U.js";import{V as L}from"./VChip-DlNApjyg.js";import{V as E}from"./VAvatar-12xz6mHy.js";import{V as re}from"./VImg-DSB6m92Q.js";import{V as ne,a as M,b as G,d as ve}from"./VList-MyW-iB3v.js";import{V as fe}from"./VTooltip-CVtgTmoh.js";import{_ as be,V as ye}from"./VDataTableServer-CCw8wB-D.js";import{V as ge}from"./VMenu-CeaiRCNz.js";const P="/v1/technical-requests",ue={async getTechnicalRequests(r){return await T(P,{method:"GET",params:r})},async getTechnicalRequest(r){return await T(`${P}/${r}`,{method:"GET"})},async createTechnicalRequest(r){const y=new FormData;return y.append("title",r.title),y.append("description",r.description),y.append("category",r.category),y.append("priority",r.priority),y.append("requester_id",r.requester_id.toString()),r.status&&y.append("status",r.status),r.attachments&&r.attachments.length>0&&r.attachments.forEach(a=>{y.append("attachments[]",a)}),await T(P,{method:"POST",body:y,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})},async updateTechnicalRequest(r,y){return await T(`${P}/${r}`,{method:"PATCH",body:y})},async deleteTechnicalRequest(r){return await T(`${P}/${r}`,{method:"DELETE"})},async getStatistics(){return await T(`${P}/statistics`,{method:"GET"})},async resolve(r){return await T(`${P}/${r}/resolve`,{method:"PATCH"})},async close(r){return await T(`${P}/${r}/close`,{method:"PATCH"})},async addAttachments(r,y){return await T(`${P}/${r}/attachments`,{method:"POST",body:{attachment_url:y}})},async bulkDelete(r){return await T("/v1/technical-requests/bulk-delete",{method:"POST",body:{ids:r}})}},_e={key:0,class:"mt-3"},pt=I({__name:"SubmitRequestForm",props:{visible:{type:Boolean}},emits:["update:visible","success"],setup(r,{emit:y}){const a=y,s=z({subject:"",category:"",priority:"medium",description:"",attachments:[]}),n=z(!1),g=z(!1),v=[_=>!!_||"Subject is required",_=>_&&_.length>=5||"Subject must be at least 5 characters"],i=[_=>!!_||"Category is required"],u=[_=>!!_||"Description is required",_=>_&&_.length>=10||"Description must be at least 10 characters"],A=j(()=>s.value.subject.length>=5&&s.value.category!==""&&s.value.description.length>=10),x=[{title:"Hardware",value:"hardware"},{title:"Software",value:"software"},{title:"Network",value:"network"},{title:"POS System",value:"pos_system"},{title:"Website",value:"website"},{title:"Mobile App",value:"mobile_app"},{title:"Training",value:"training"},{title:"Other",value:"other"}],$=[{title:"Low",value:"low"},{title:"Medium",value:"medium"},{title:"High",value:"high"},{title:"Urgent",value:"urgent"}],p=_=>{var R;const m=(R=_.split(".").pop())==null?void 0:R.toLowerCase();return["jpg","jpeg","png","gif","svg","webp"].includes(m||"")?"tabler-photo":["pdf"].includes(m||"")?"tabler-file-type-pdf":["doc","docx"].includes(m||"")?"tabler-file-type-doc":["xls","xlsx"].includes(m||"")?"tabler-file-type-xls":["txt","log"].includes(m||"")?"tabler-file-text":["zip","rar","7z"].includes(m||"")?"tabler-file-zip":"tabler-file"},c=()=>{s.value={subject:"",category:"",priority:"medium",description:"",attachments:[]},g.value=!1},U=_=>{const m=_.target;m.files&&(s.value.attachments=Array.from(m.files))},o=_=>{s.value.attachments.splice(_,1)},d=()=>{a("update:visible",!1),c()},b=async()=>{var _;if(A.value)try{n.value=!0;const R=(_=me("userData").value)==null?void 0:_.id;if(!R){n.value=!1;return}await ue.createTechnicalRequest({title:s.value.subject,description:s.value.description,category:s.value.category,priority:s.value.priority,requester_id:R,attachments:s.value.attachments.length>0?s.value.attachments:void 0}),a("success"),c(),a("update:visible",!1)}catch(m){console.error("Error submitting technical request:",m)}finally{n.value=!1}};return(_,m)=>{const R=N,X=se,C=te,de=ee;return q(),w(O,{"model-value":_.visible,"max-width":"600",persistent:"","onUpdate:modelValue":m[5]||(m[5]=k=>a("update:visible",k))},{default:t(()=>[e(R,{onClick:d}),e(H,{title:"Submit Technical Request"},{default:t(()=>[e(oe,{modelValue:g.value,"onUpdate:modelValue":m[4]||(m[4]=k=>g.value=k),onSubmit:le(b,["prevent"])},{default:t(()=>[e(F,null,{default:t(()=>[e(J,null,{default:t(()=>[e(h,{cols:"12"},{default:t(()=>[e(X,{modelValue:s.value.subject,"onUpdate:modelValue":m[0]||(m[0]=k=>s.value.subject=k),label:"Subject",placeholder:"Enter request subject",rules:v,required:""},null,8,["modelValue"])]),_:1}),e(h,{cols:"12",sm:"6"},{default:t(()=>[e(C,{modelValue:s.value.category,"onUpdate:modelValue":m[1]||(m[1]=k=>s.value.category=k),label:"Category",placeholder:"Select category",items:x,rules:i,required:""},null,8,["modelValue"])]),_:1}),e(h,{cols:"12",sm:"6"},{default:t(()=>[e(C,{modelValue:s.value.priority,"onUpdate:modelValue":m[2]||(m[2]=k=>s.value.priority=k),label:"Priority",items:$,required:""},null,8,["modelValue"])]),_:1}),e(h,{cols:"12"},{default:t(()=>[e(de,{modelValue:s.value.description,"onUpdate:modelValue":m[3]||(m[3]=k=>s.value.description=k),label:"Description",placeholder:"Describe your technical issue in detail...",rows:"4",rules:u,required:""},null,8,["modelValue"])]),_:1}),e(h,{cols:"12"},{default:t(()=>[m[6]||(m[6]=l("div",{class:"text-body-2 text-medium-emphasis mb-2"}," Attachments (Optional) ",-1)),e(ce,{label:"Choose files",multiple:"",chips:"","show-size":"",accept:"image/*,.pdf,.doc,.docx,.txt,.log,.zip,.rar",onChange:U}),s.value.attachments.length>0?(q(),W("div",_e,[(q(!0),W(ae,null,ie(s.value.attachments,(k,Z)=>(q(),w(L,{key:Z,closable:"",class:"me-2 mb-2","onClick:close":Ge=>o(Z)},{default:t(()=>[e(S,{icon:p(k.name),class:"me-1"},null,8,["icon"]),V(" "+f(k.name),1)]),_:2},1032,["onClick:close"]))),128))])):B("",!0)]),_:1,__:[6]})]),_:1})]),_:1}),e(K),e(Q,{class:"pa-4"},{default:t(()=>[e(Y),e(D,{variant:"outlined",onClick:d},{default:t(()=>m[7]||(m[7]=[V(" Cancel ")])),_:1,__:[7]}),e(D,{type:"submit",color:"primary",disabled:!A.value||n.value,loading:n.value},{default:t(()=>m[8]||(m[8]=[V(" Submit Request ")])),_:1,__:[8]},8,["disabled","loading"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model-value"])}}}),qe={class:"text-body-1 font-weight-medium"},Ve={class:"text-body-1"},he={class:"d-flex align-center flex-wrap"},we={class:"text-sm font-weight-medium"},xe={class:"flex-grow-1 min-width-0"},Ce={class:"text-body-1 font-weight-medium text-truncate"},ke={class:"text-sm text-medium-emphasis text-truncate"},De={class:"text-body-1"},Re={class:"text-body-1 font-weight-medium",style:{"word-wrap":"break-word","overflow-wrap":"break-word"}},Se={class:"text-body-1",style:{"word-wrap":"break-word","overflow-wrap":"break-word","white-space":"pre-wrap"}},$e={class:"text-body-2 text-medium-emphasis mb-2"},Te={class:"flex-grow-1 min-width-0"},Pe={class:"d-flex gap-2 flex-wrap justify-end",style:{"flex-basis":"100%"}},ct=I({__name:"ViewRequestDialog",props:{visible:{type:Boolean},request:{},showEditButton:{type:Boolean},isAdmin:{type:Boolean},resolvePriorityVariant:{type:Function},resolveStatusVariant:{type:Function},formatStatus:{type:Function},getFileIcon:{type:Function}},emits:["update:visible","edit"],setup(r,{emit:y}){const a=r,s=y,n=()=>{s("update:visible",!1)},g=()=>{s("edit",a.request)},v=i=>{i.url&&i.url!=="#"&&window.open(i.url,"_blank")};return(i,u)=>{const A=N;return q(),w(O,{"model-value":i.visible,"max-width":"800","onUpdate:modelValue":u[0]||(u[0]=x=>s("update:visible",x))},{default:t(()=>[e(A,{onClick:n}),i.request?(q(),w(H,{key:0,title:"Request Details"},{default:t(()=>[e(F,{class:"pa-4 pa-sm-6"},{default:t(()=>[e(J,null,{default:t(()=>[e(h,{cols:"12",sm:"6"},{default:t(()=>[u[1]||(u[1]=l("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Request ID ",-1)),l("div",qe,f(i.request.requestId),1)]),_:1,__:[1]}),e(h,{cols:"12",sm:"6"},{default:t(()=>[u[2]||(u[2]=l("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Date ",-1)),l("div",Ve,f(i.request.date),1)]),_:1,__:[2]}),i.isAdmin?(q(),w(h,{key:0,cols:"12"},{default:t(()=>[u[3]||(u[3]=l("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Requester ",-1)),l("div",he,[i.request.userAvatar?(q(),w(E,{key:0,size:"32",class:"me-3 mb-2"},{default:t(()=>[e(re,{src:i.request.userAvatar},null,8,["src"])]),_:1})):(q(),w(E,{key:1,size:"32",class:"me-3 mb-2",color:"primary"},{default:t(()=>{var x,$;return[l("span",we,f(($=(x=i.request.userName)==null?void 0:x.charAt(0))==null?void 0:$.toUpperCase()),1)]}),_:1})),l("div",xe,[l("div",Ce,f(i.request.userName),1),l("div",ke,f(i.request.userEmail),1)])])]),_:1,__:[3]})):B("",!0),e(h,{cols:"12",sm:"6"},{default:t(()=>[u[4]||(u[4]=l("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Priority ",-1)),e(L,{color:a.resolvePriorityVariant(i.request.priority).color,size:"small",label:"",class:"text-capitalize"},{default:t(()=>[e(S,{icon:a.resolvePriorityVariant(i.request.priority).icon,size:"16",class:"me-1"},null,8,["icon"]),V(" "+f(i.request.priority),1)]),_:1},8,["color"])]),_:1,__:[4]}),e(h,{cols:"12",sm:"6"},{default:t(()=>[u[5]||(u[5]=l("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Status ",-1)),e(L,{color:a.resolveStatusVariant(i.request.status),size:"small",label:"",class:"text-capitalize"},{default:t(()=>[V(f(a.formatStatus(i.request.status)),1)]),_:1},8,["color"])]),_:1,__:[5]}),e(h,{cols:"12"},{default:t(()=>[u[6]||(u[6]=l("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Category ",-1)),l("div",De,f(i.request.category),1)]),_:1,__:[6]}),e(h,{cols:"12"},{default:t(()=>[u[7]||(u[7]=l("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Subject ",-1)),l("div",Re,f(i.request.subject),1)]),_:1,__:[7]}),e(h,{cols:"12"},{default:t(()=>[u[8]||(u[8]=l("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Description ",-1)),l("div",Se,f(i.request.description),1)]),_:1,__:[8]}),i.request.attachments&&i.request.attachments.length>0?(q(),w(h,{key:1,cols:"12"},{default:t(()=>[l("div",$e," Attachments ("+f(i.request.attachments.length)+") ",1),e(ne,{lines:"two",density:"compact",class:"pa-0"},{default:t(()=>[(q(!0),W(ae,null,ie(i.request.attachments,(x,$)=>(q(),w(M,{key:$,class:"px-0"},{prepend:t(()=>[e(E,{color:"primary",variant:"tonal",size:"40",class:"me-2"},{default:t(()=>[e(S,{icon:a.getFileIcon(x.name)},null,8,["icon"])]),_:2},1024)]),append:t(()=>[e(D,{icon:"",variant:"text",size:"small",color:"primary",class:"flex-shrink-0",onClick:p=>v(x)},{default:t(()=>[e(S,{icon:"tabler-download"}),e(fe,{activator:"parent",location:"top"},{default:t(()=>u[9]||(u[9]=[V(" Download ")])),_:1,__:[9]})]),_:2},1032,["onClick"])]),default:t(()=>[l("div",Te,[e(G,{class:"font-weight-medium text-truncate"},{default:t(()=>[V(f(x.name),1)]),_:2},1024),e(ve,{class:"text-truncate"},{default:t(()=>[V(f(x.size),1)]),_:2},1024)])]),_:2},1024))),128))]),_:1})]),_:1})):B("",!0)]),_:1})]),_:1}),e(K),e(Q,{class:"pa-4 pa-sm-6"},{default:t(()=>[e(Y),l("div",Pe,[e(D,{variant:"outlined",onClick:n},{default:t(()=>u[10]||(u[10]=[V(" Close ")])),_:1,__:[10]}),i.showEditButton?(q(),w(D,{key:0,color:"primary",onClick:g},{default:t(()=>[e(S,{icon:"tabler-edit",class:"me-1"}),u[11]||(u[11]=V(" Edit Request "))]),_:1,__:[11]})):B("",!0)])]),_:1})]),_:1})):B("",!0)]),_:1},8,["model-value"])}}}),Ae={class:"text-body-1 font-weight-medium text-primary"},vt=I({__name:"EditRequestDialog",props:{visible:{type:Boolean},request:{},isAdmin:{type:Boolean}},emits:["update:visible","success"],setup(r,{emit:y}){const a=r,s=y,n=z({title:"",description:"",category:"",priority:"medium",status:"open"}),g=z(!1),v=z(!1),i=[d=>!!d||"Title is required",d=>d&&d.length>=5||"Title must be at least 5 characters"],u=[d=>!!d||"Category is required"],A=[d=>!!d||"Description is required",d=>d&&d.length>=10||"Description must be at least 10 characters"],x=j(()=>a.isAdmin&&n.value.title.length>=5&&n.value.category!==""&&n.value.description.length>=10),$=[{title:"Hardware",value:"hardware"},{title:"Software",value:"software"},{title:"Network",value:"network"},{title:"POS System",value:"pos_system"},{title:"Website",value:"website"},{title:"Mobile App",value:"mobile_app"},{title:"Training",value:"training"},{title:"Other",value:"other"}],p=[{title:"Low",value:"low"},{title:"Medium",value:"medium"},{title:"High",value:"high"},{title:"Urgent",value:"urgent"}],c=[{title:"Open",value:"open"},{title:"In Progress",value:"in_progress"},{title:"Pending Info",value:"pending_info"},{title:"Resolved",value:"resolved"},{title:"Closed",value:"closed"},{title:"Cancelled",value:"cancelled"}];pe(()=>a.request,d=>{d&&(n.value={title:d.subject||"",description:d.description||"",category:d.category||"",priority:d.priority||"medium",status:d.status||"open"})},{immediate:!0});const U=()=>{s("update:visible",!1)},o=async()=>{if(!(!x.value||!a.request||!a.isAdmin))try{g.value=!0,await ue.updateTechnicalRequest(a.request.id,{title:n.value.title,description:n.value.description,category:n.value.category,priority:n.value.priority,status:n.value.status}),s("success"),s("update:visible",!1)}catch(d){console.error("Error updating technical request:",d)}finally{g.value=!1}};return(d,b)=>{const _=N,m=se,R=te,X=ee;return q(),w(O,{"model-value":d.visible,"max-width":"600",persistent:"","onUpdate:modelValue":b[6]||(b[6]=C=>s("update:visible",C))},{default:t(()=>[e(_,{onClick:U}),e(H,{title:"Edit Technical Request"},{default:t(()=>[e(oe,{modelValue:v.value,"onUpdate:modelValue":b[5]||(b[5]=C=>v.value=C),onSubmit:le(o,["prevent"])},{default:t(()=>[e(F,null,{default:t(()=>[e(J,null,{default:t(()=>[d.request?(q(),w(h,{key:0,cols:"12"},{default:t(()=>[b[7]||(b[7]=l("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Request ID ",-1)),l("div",Ae,f(d.request.requestId),1)]),_:1,__:[7]})):B("",!0),e(h,{cols:"12"},{default:t(()=>[e(m,{modelValue:n.value.title,"onUpdate:modelValue":b[0]||(b[0]=C=>n.value.title=C),label:"Title",placeholder:"Enter request title",rules:i,required:""},null,8,["modelValue"])]),_:1}),e(h,{cols:"12",sm:"6"},{default:t(()=>[e(R,{modelValue:n.value.category,"onUpdate:modelValue":b[1]||(b[1]=C=>n.value.category=C),label:"Category",placeholder:"Select category",items:$,rules:u,required:""},null,8,["modelValue"])]),_:1}),e(h,{cols:"12",sm:"6"},{default:t(()=>[e(R,{modelValue:n.value.priority,"onUpdate:modelValue":b[2]||(b[2]=C=>n.value.priority=C),label:"Priority",items:p,required:""},null,8,["modelValue"])]),_:1}),e(h,{cols:"12",sm:"6"},{default:t(()=>[e(R,{modelValue:n.value.status,"onUpdate:modelValue":b[3]||(b[3]=C=>n.value.status=C),label:"Status",items:c,required:""},null,8,["modelValue"])]),_:1}),e(h,{cols:"12"},{default:t(()=>[e(X,{modelValue:n.value.description,"onUpdate:modelValue":b[4]||(b[4]=C=>n.value.description=C),label:"Description",placeholder:"Describe your technical issue in detail...",rows:"4",rules:A,required:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(K),e(Q,{class:"pa-4"},{default:t(()=>[e(Y),e(D,{variant:"outlined",onClick:U},{default:t(()=>b[8]||(b[8]=[V(" Cancel ")])),_:1,__:[8]}),e(D,{type:"submit",color:"primary",disabled:!x.value||g.value,loading:g.value},{default:t(()=>b[9]||(b[9]=[V(" Update Request ")])),_:1,__:[9]},8,["disabled","loading"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model-value"])}}}),Ue={key:0,class:"text-start pa-4 bg-surface rounded"},Be={class:"text-body-1"},ft=I({__name:"DeleteConfirmDialog",props:{visible:{type:Boolean},request:{},loading:{type:Boolean,default:!1}},emits:["update:visible","confirm"],setup(r,{emit:y}){const a=y,s=()=>{a("update:visible",!1)},n=()=>{a("confirm")};return(g,v)=>{const i=N;return q(),w(O,{"model-value":g.visible,"max-width":"500","onUpdate:modelValue":v[0]||(v[0]=u=>a("update:visible",u))},{default:t(()=>[e(i,{onClick:s}),e(H,{title:"Confirm Delete"},{default:t(()=>[e(F,null,{default:t(()=>[g.request?(q(),W("div",Ue,[v[1]||(v[1]=l("div",{class:"text-body-2 text-medium-emphasis mb-1"}," Subject ",-1)),l("div",Be,f(g.request.subject),1)])):B("",!0),v[2]||(v[2]=l("p",{class:"text-body-2 text-error mt-4 mb-0"}," This action cannot be undone. ",-1))]),_:1,__:[2]}),e(F,{class:"d-flex align-center justify-center gap-2"},{default:t(()=>[e(D,{variant:"outlined",onClick:s},{default:t(()=>v[3]||(v[3]=[V(" Cancel ")])),_:1,__:[3]}),e(D,{color:"error",loading:g.loading,onClick:n},{default:t(()=>v[4]||(v[4]=[V(" Delete Request ")])),_:1,__:[4]},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model-value"])}}}),bt=I({__name:"BulkDeleteConfirmDialog",props:{visible:{type:Boolean},selectedCount:{},loading:{type:Boolean,default:!1}},emits:["update:visible","confirm"],setup(r,{emit:y}){const a=y,s=()=>{a("update:visible",!1)},n=()=>{a("confirm")};return(g,v)=>{const i=N;return q(),w(O,{"model-value":g.visible,"max-width":"500","onUpdate:modelValue":v[0]||(v[0]=u=>a("update:visible",u))},{default:t(()=>[e(i,{onClick:s}),e(H,{title:"Confirm Bulk Delete"},{default:t(()=>[e(F),e(F,{class:"d-flex align-center justify-center gap-2"},{default:t(()=>[e(D,{variant:"outlined",onClick:s},{default:t(()=>v[1]||(v[1]=[V(" Cancel ")])),_:1,__:[1]}),e(D,{color:"error",loading:g.loading,onClick:n},{default:t(()=>[V(" Delete "+f(g.selectedCount)+" Request(s) ",1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model-value"])}}}),Fe={class:"text-center pa-8"},je={class:"text-body-1 font-weight-medium text-primary"},ze={class:"d-flex align-center"},Ie={class:"text-sm font-weight-medium"},Ee={class:"text-body-1 font-weight-medium"},Le={class:"text-sm text-medium-emphasis"},Oe={class:"text-body-1"},Ne={class:"text-sm text-medium-emphasis"},He={class:"text-body-1"},Me={class:"d-flex gap-1"},yt=I({__name:"TechnicalRequestsTable",props:{items:{},itemsLength:{},loading:{type:Boolean},selectedRows:{},headers:{},isAdmin:{type:Boolean},itemsPerPage:{},page:{},resolvePriorityVariant:{type:Function},resolveStatusVariant:{type:Function},formatStatus:{type:Function},getFileIcon:{type:Function}},emits:["update:selectedRows","update:itemsPerPage","update:page","view-request","edit-request","delete-request","update:options"],setup(r,{emit:y}){const a=r,s=y,n=j({get:()=>a.selectedRows,set:p=>s("update:selectedRows",p)}),g=j({get:()=>a.itemsPerPage,set:p=>s("update:itemsPerPage",p)}),v=j({get:()=>a.page,set:p=>s("update:page",p)}),i=j(()=>{const p=[...a.headers];if(a.isAdmin){const c=p.findIndex(U=>U.key==="requestId");c!==-1&&p.splice(c+1,0,{title:"Requester",key:"userName",sortable:!1})}return p}),u=p=>{s("update:options",p)},A=p=>{s("view-request",p)},x=p=>{s("edit-request",p)},$=p=>{s("delete-request",p)};return(p,c)=>{const U=be;return q(),w(ye,{"items-per-page":g.value,"onUpdate:itemsPerPage":c[2]||(c[2]=o=>g.value=o),"model-value":n.value,"onUpdate:modelValue":c[3]||(c[3]=o=>n.value=o),page:v.value,"onUpdate:page":c[4]||(c[4]=o=>v.value=o),items:p.items,"item-value":"id","items-length":p.itemsLength,headers:i.value,class:"text-no-wrap","show-select":"",loading:p.loading,"onUpdate:options":u},{"no-data":t(()=>[l("div",Fe,[e(S,{icon:"tabler-inbox-off",size:"64",class:"mb-4 text-disabled"}),c[5]||(c[5]=l("h3",{class:"text-h5 mb-2"}," No Technical Requests Found ",-1)),c[6]||(c[6]=l("p",{class:"text-body-1 text-medium-emphasis mb-4"}," No requests match your search criteria. Try adjusting your filters. ",-1))])]),"item.requestId":t(({item:o})=>[l("div",je,f(o.requestId),1)]),"item.userName":t(({item:o})=>[l("div",ze,[o.userAvatar?(q(),w(E,{key:0,size:"32",class:"me-3"},{default:t(()=>[e(re,{src:o.userAvatar},null,8,["src"])]),_:2},1024)):(q(),w(E,{key:1,size:"32",class:"me-3",color:"primary"},{default:t(()=>{var d,b;return[l("span",Ie,f((b=(d=o.userName)==null?void 0:d.charAt(0))==null?void 0:b.toUpperCase()),1)]}),_:2},1024)),l("div",null,[l("div",Ee,f(o.userName),1),l("div",Le,f(o.userEmail),1)])])]),"item.subject":t(({item:o})=>[l("div",Oe,f(o.subject),1),l("div",Ne,f(o.category),1)]),"item.priority":t(({item:o})=>[e(L,{color:a.resolvePriorityVariant(o.priority).color,size:"small",label:"",class:"text-capitalize"},{default:t(()=>[e(S,{icon:a.resolvePriorityVariant(o.priority).icon,size:"16",class:"me-1"},null,8,["icon"]),V(" "+f(o.priority),1)]),_:2},1032,["color"])]),"item.status":t(({item:o})=>[e(L,{color:a.resolveStatusVariant(o.status),size:"small",label:"",class:"text-capitalize"},{default:t(()=>[V(f(a.formatStatus(o.status)),1)]),_:2},1032,["color"])]),"item.date":t(({item:o})=>[l("div",He,f(o.date),1)]),"item.actions":t(({item:o})=>[l("div",Me,[e(D,{icon:"",variant:"text",color:"medium-emphasis",size:"small"},{default:t(()=>[e(S,{icon:"tabler-dots-vertical",size:"22"}),e(ge,{activator:"parent"},{default:t(()=>[e(ne,null,{default:t(()=>[e(M,{onClick:d=>A(o)},{prepend:t(()=>[e(S,{icon:"tabler-eye"})]),default:t(()=>[e(G,null,{default:t(()=>c[7]||(c[7]=[V("View Details")])),_:1,__:[7]})]),_:2},1032,["onClick"]),p.isAdmin?(q(),w(M,{key:0,onClick:d=>x(o)},{prepend:t(()=>[e(S,{icon:"tabler-edit"})]),default:t(()=>[e(G,null,{default:t(()=>c[8]||(c[8]=[V("Edit Request")])),_:1,__:[8]})]),_:2},1032,["onClick"])):B("",!0),e(M,{onClick:d=>$(o)},{prepend:t(()=>[e(S,{icon:"tabler-trash",color:"error"})]),default:t(()=>[e(G,{class:"text-error"},{default:t(()=>c[9]||(c[9]=[V(" Delete ")])),_:1,__:[9]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),bottom:t(()=>[e(U,{page:v.value,"onUpdate:page":c[0]||(c[0]=o=>v.value=o),"items-per-page":g.value,"onUpdate:itemsPerPage":c[1]||(c[1]=o=>g.value=o),"total-items":p.itemsLength},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","model-value","page","items","items-length","headers","loading"])}}});export{ct as _,vt as a,pt as b,ft as c,bt as d,yt as e,ue as t};
