import{_ as Xe,V as Ye}from"./VDialog-DNQTNeT1.js";import{_ as Ze}from"./AppTextarea.vue_vue_type_script_setup_true_lang-B1eRZ8g1.js";import{_ as et}from"./AppSelect.vue_vue_type_script_setup_true_lang-BPi_8I55.js";import{_ as tt}from"./AppTextField.vue_vue_type_script_setup_true_lang-DBBt0k22.js";import{_ as ge}from"./ConfirmDeleteDialog.vue_vue_type_script_setup_true_lang-Hymoou96.js";import{_ as lt}from"./AddDocumentDialog.vue_vue_type_script_setup_true_lang-BPRVLnbR.js";import{d as at,e as st,g as y,E as ot,O as P,aU as it,c as g,o as d,y as t,k as a,aD as nt,aM as F,i as l,l as i,a7 as w,q as _,t as r,av as C,a as D,h as dt,F as _e,r as ut}from"./main-CJoUlw71.js";import{f as S}from"./franchise-CaBrEO2E.js";import{V as rt}from"./VOverlay-DNweL6TL.js";import{a as c,V as N}from"./VRow-I0aFN3ft.js";import{V as h,f as k,b as q,e as ct,h as te,a as mt,d as ft}from"./VCard-D0Kr6jJ3.js";import{V as le,a as vt}from"./VTabs-CPaS4mMT.js";import{a as ae,V as pt}from"./VWindowItem-Sru_LTmb.js";import{V as bt}from"./VFileInput-CLfIo29r.js";import{V as De}from"./VChip-B4nRRsDL.js";import{V as Ve}from"./VSpacer-CqgjN_yM.js";import{V as yt}from"./VDataTable-bPHraWWW.js";import{V as gt}from"./VForm-MxPZnCnL.js";import{V as _t}from"./VSnackbar-Dz3Asuea.js";import"./forwardRefs-B931MWyl.js";import"./scopeId-BW4ci1pC.js";import"./VMenu-ChdF8Fzb.js";import"./form-TZVfOcgQ.js";import"./VTextarea-DlMZvYlN.js";import"./VTextField-D8E1qX-C.js";import"./VField-BK8GYuQp.js";import"./VInput-ljW8JGQT.js";import"./VSelect-DrBKrWpC.js";import"./VList-dBGtPQa1.js";import"./VDivider-BaGqyL8B.js";import"./VCheckboxBtn-ClRj4-k1.js";import"./VSelectionControl-DPYfPVD0.js";import"./franchisee-dashboard-CfAqfQfD.js";import"./api-router-CWf8jKcZ.js";/* empty css              */import"./VSlideGroup-CFd1UCPD.js";import"./VTable-Z6ii9VWQ.js";const Dt={class:"d-flex align-center justify-space-between"},Vt={class:"ms-4"},xt={class:"text-h4"},ht={class:"ms-4"},kt={class:"text-h4"},wt={class:"mb-4"},Ct={key:0,class:"text-body-1 font-weight-medium"},St={class:"mb-4"},Ft={key:0,class:"text-body-1"},Nt=["href"],Ut={class:"mb-4"},Pt={key:0,class:"text-body-1"},Et={key:0,class:"d-flex align-center"},It={key:1,class:"text-disabled"},At={class:"mb-4"},Lt={key:0,class:"text-body-1"},Mt={class:"mb-4"},Tt={key:0,class:"text-body-1"},$t={class:"mb-4"},zt={key:0,class:"text-body-1"},Bt={class:"mb-4"},Ot={key:0,class:"text-body-1"},jt={class:"mb-4"},Rt={key:0,class:"text-body-1 font-weight-medium text-success"},qt={class:"mb-4"},Jt={key:0,class:"text-body-1"},Kt={class:"mb-4"},Wt={key:0,class:"text-body-1"},Qt={class:"mb-4"},Ht={key:0,class:"text-body-1"},Gt=["href"],Xt={class:"mb-4"},Yt={key:0,class:"text-body-1"},Zt={class:"mb-4"},el={key:0,class:"text-body-1"},tl={class:"mb-4"},ll={key:0,class:"text-body-1"},al={class:"mb-4"},sl={key:0,class:"text-body-1"},ol={class:"d-flex justify-space-between align-center mb-4"},il={class:"d-flex align-center mb-3"},nl={class:"text-h6"},dl={class:"text-body-2 text-disabled mb-0"},ul={class:"text-body-2 mb-3"},rl={class:"d-flex align-center justify-space-between mb-3"},cl={class:"text-body-2 text-disabled"},ml={class:"text-body-2 text-disabled mb-3"},fl={class:"d-flex align-center gap-x-4"},vl={class:"d-flex flex-column"},pl={class:"text-base font-weight-medium"},bl={class:"text-sm text-medium-emphasis"},yl={class:"text-body-1 text-high-emphasis"},gl={class:"text-body-1 text-high-emphasis"},_l={class:"text-body-1 text-high-emphasis"},sa=at({__name:"my-franchise",setup(Dl){st();const E=y("overview"),O=y(!0),J=y(!1),v=y(!1),I=y({show:!1,message:"",color:"success"}),f=(n,e="success")=>{I.value={show:!0,message:n,color:e}},o=y({id:0,personalInfo:{contactNumber:"",country:"",state:"",city:"",address:""},franchiseDetails:{franchiseName:"",website:"",logo:null},legalDetails:{legalEntityName:"",businessStructure:"",taxId:"",industry:"",fundingAmount:"",fundingSource:""},contactDetails:{contactNumber:"",email:"",address:"",country:"",state:"",city:""}}),H=y([]),K=y([]),U=y(null),G=y(!1),se=async()=>{var n,e,u,b,V,x,Q,j,s,B,ne,de,ue,re,ce,me,fe,ve,pe,be,ye;try{O.value=!0;const R=await S.getFranchiseData();if(R.success&&R.data){const p=R.data.franchise;p&&(o.value={id:p.id,personalInfo:{contactNumber:((n=p.contactDetails)==null?void 0:n.contactNumber)||"",address:((e=p.contactDetails)==null?void 0:e.address)||"",city:((u=p.contactDetails)==null?void 0:u.city)||"",state:((b=p.contactDetails)==null?void 0:b.state)||"",country:((V=p.contactDetails)==null?void 0:V.country)||""},franchiseDetails:{franchiseName:((x=p.franchiseDetails)==null?void 0:x.franchiseName)||"",website:((Q=p.franchiseDetails)==null?void 0:Q.website)||"",logo:((j=p.franchiseDetails)==null?void 0:j.logo)||null},legalDetails:{legalEntityName:((s=p.legalDetails)==null?void 0:s.legalEntityName)||"",businessStructure:((ne=(B=p.legalDetails)==null?void 0:B.businessStructure)==null?void 0:ne.toLowerCase())||"",taxId:((de=p.legalDetails)==null?void 0:de.taxId)||"",industry:((ue=p.legalDetails)==null?void 0:ue.industry)||"",fundingAmount:((re=p.legalDetails)==null?void 0:re.fundingAmount)||"",fundingSource:((ce=p.legalDetails)==null?void 0:ce.fundingSource)||""},contactDetails:{contactNumber:((me=p.contactDetails)==null?void 0:me.contactNumber)||"",email:((fe=p.contactDetails)==null?void 0:fe.email)||"",address:((ve=p.contactDetails)==null?void 0:ve.address)||"",city:((pe=p.contactDetails)==null?void 0:pe.city)||"",state:((be=p.contactDetails)==null?void 0:be.state)||"",country:((ye=p.contactDetails)==null?void 0:ye.country)||""}})}}catch(R){console.error("Failed to load franchise data:",R),f("Failed to load franchise data","error")}finally{O.value=!1}},X=async()=>{var n;try{if(!((n=o.value)!=null&&n.id)){console.warn("No franchise ID available for loading documents");return}const e=await S.getDocuments(o.value.id);e.success&&e.data&&(H.value=e.data.data||[])}catch(e){console.error("Failed to load documents:",e),f("Failed to load documents","error")}},Y=async()=>{var n;try{if(!((n=o.value)!=null&&n.id)){console.warn("No franchise ID available for loading products");return}const e=await S.getProducts(o.value.id);e.success&&e.data&&(K.value=e.data.data||[])}catch(e){console.error("Failed to load products:",e),f("Failed to load products","error")}},xe=async()=>{if(!U.value)return null;G.value=!0;try{const n=await S.uploadLogo(U.value);return n.success?n.data.logo_url:(f(n.message||"Failed to upload logo","error"),null)}catch(n){return console.error("Failed to upload logo:",n),f("Failed to upload logo","error"),null}finally{G.value=!1}},he=async()=>{var n;try{J.value=!0;let e=o.value.franchiseDetails.logo;if(U.value){const V=await xe();if(V)e=V,o.value.franchiseDetails.logo=e;else return}const u={personalInfo:{contactNumber:o.value.personalInfo.contactNumber||null,address:o.value.personalInfo.address||null,city:o.value.personalInfo.city||null,state:o.value.personalInfo.state||null,country:o.value.personalInfo.country||null},franchiseDetails:{franchiseDetails:{franchiseName:o.value.franchiseDetails.franchiseName||null,website:o.value.franchiseDetails.website||null,logo:o.value.franchiseDetails.logo||null},legalDetails:{legalEntityName:o.value.legalDetails.legalEntityName||null,businessStructure:o.value.legalDetails.businessStructure,taxId:o.value.legalDetails.taxId||null,industry:o.value.legalDetails.industry||null,fundingAmount:o.value.legalDetails.fundingAmount||null,fundingSource:o.value.legalDetails.fundingSource||null},contactDetails:{contactNumber:o.value.contactDetails.contactNumber||null,email:o.value.contactDetails.email||null,address:o.value.contactDetails.address||null,city:o.value.contactDetails.city||null,state:o.value.contactDetails.state||null,country:o.value.contactDetails.country||null}}},b=await S.updateFranchise(u);b.success?(f("Franchise information updated successfully","success"),U.value=null,await se()):f(b.message||"Failed to update franchise information","error")}catch(e){if(console.error("Failed to update franchise data:",e),e.status===422&&((n=e.data)!=null&&n.errors)){const u=Object.values(e.data.errors).flat();f(`Validation failed: ${u.join(", ")}`,"error")}else f("Failed to update franchise information","error")}finally{J.value=!1}},W=y(null),ke=()=>{W.value&&(o.value=JSON.parse(JSON.stringify(W.value))),v.value=!1,W.value=null},we=async()=>{await he(),J.value||(v.value=!1,W.value=null)};ot(async()=>{var n;await se(),(n=o.value)!=null&&n.id&&await Promise.all([X(),Y()])});const A=y(!1),oe=y(!1),Z=y(!1),ee=y(!1),L=y(!1),M=y(!1);P({get:()=>A.value||oe.value,set:n=>{n||(A.value=!1,oe.value=!1)}});const T=P({get:()=>Z.value||ee.value,set:n=>{n||(Z.value=!1,ee.value=!1)}}),ie=y({id:null,name:"",description:"",file:null,type:"other",status:"active",is_confidential:!1,expiry_date:null}),m=y({id:null,name:"",description:"",unit_price:0,category:"",status:"active",stock:0,sku:""}),$=y(null),z=y(null),Ce=[{title:"Corporation",value:"corporation"},{title:"LLC",value:"llc"},{title:"Partnership",value:"partnership"},{title:"Sole Proprietorship",value:"sole_proprietorship"}],Se=[{title:"Food & Beverage",value:"food_beverage"},{title:"Retail",value:"retail"},{title:"Services",value:"services"},{title:"Health & Fitness",value:"health_fitness"},{title:"Education",value:"education"},{title:"Technology",value:"technology"},{title:"Real Estate",value:"real_estate"},{title:"Automotive",value:"automotive"}],Fe=[{title:"Personal Savings",value:"personal_savings"},{title:"Bank Loan",value:"bank_loan"},{title:"Investors",value:"investors"},{title:"SBA Loan",value:"sba_loan"},{title:"Other",value:"other"}],Ne=[{title:"Saudi Arabia",value:"Saudi Arabia"},{title:"United Arab Emirates",value:"United Arab Emirates"},{title:"Qatar",value:"Qatar"},{title:"Kuwait",value:"Kuwait"},{title:"Oman",value:"Oman"},{title:"Bahrain",value:"Bahrain"},{title:"Jordan",value:"Jordan"},{title:"Lebanon",value:"Lebanon"},{title:"Egypt",value:"Egypt"},{title:"Iraq",value:"Iraq"}],Ue=[{title:"Coffee",value:"Coffee"},{title:"Tea",value:"Tea"},{title:"Pastries",value:"Pastries"},{title:"Merchandise",value:"Merchandise"},{title:"Equipment",value:"Equipment"}],Pe=[{title:"Active",value:"active"},{title:"Inactive",value:"inactive"},{title:"Discontinued",value:"discontinued"}],Ee=()=>{ie.value={id:null,name:"",description:"",type:"other",file:null,expiry_date:null,is_confidential:!1,status:"active"},A.value=!0},Ie=async n=>{var e;try{if(!((e=o.value)!=null&&e.id)){f("No franchise ID available","error");return}const u=await S.downloadDocument(o.value.id,n.id),b=new Blob([u],{type:"application/octet-stream"}),V=window.URL.createObjectURL(b),x=n.createElement("a");x.href=V,x.download=n.file_name||n.name,n.body.appendChild(x),x.click(),n.body.removeChild(x),window.URL.revokeObjectURL(V),f("Document downloaded successfully","success")}catch(u){console.error("Failed to download document:",u),f("Failed to download document","error")}},Ae=n=>{z.value=n,M.value=!0},Le=async()=>{var n;try{if(!((n=o.value)!=null&&n.id)||!z.value){f("Invalid request","error");return}const e=await S.deleteDocument(o.value.id,z.value.id);e.success?(f("Document deleted successfully","success"),await X()):f(e.message||"Failed to delete document","error")}catch(e){console.error("Failed to delete document:",e),f("Failed to delete document","error")}finally{M.value=!1,z.value=null}},Me=()=>{m.value={id:null,name:"",description:"",unit_price:0,category:"",status:"active",stock:0,sku:""},Z.value=!0},Te=n=>{m.value={...n},ee.value=!0},$e=async()=>{var n,e;try{if(!((n=o.value)!=null&&n.id)){f("No franchise ID available","error");return}const u={name:m.value.name||"",description:m.value.description||"",category:m.value.category||"",unit_price:m.value.unit_price||0,stock:m.value.stock||0,status:m.value.status||"active",sku:m.value.sku||""};let b;m.value.id!==null?b=await S.updateProduct(o.value.id,m.value.id,u):b=await S.createProduct(o.value.id,u),b.success?(f(m.value.id!==null?"Product updated successfully":"Product created successfully","success"),T.value=!1,await Y()):f(b.message||"Failed to save product","error")}catch(u){if(console.error("Failed to save product:",u),u.status===422&&((e=u.data)!=null&&e.errors)){const b=Object.values(u.data.errors).flat();f(`Validation failed: ${b.join(", ")}`,"error")}else f("Failed to save product","error")}},ze=n=>{$.value=n,L.value=!0},Be=async()=>{var n;try{if(!((n=o.value)!=null&&n.id)||!$.value){f("Invalid request","error");return}const e=await S.deleteProduct(o.value.id,$.value.id);e.success?(f("Product deleted successfully","success"),await Y()):f(e.message||"Failed to delete product","error")}catch(e){console.error("Failed to delete product:",e),f("Failed to delete product","error")}finally{L.value=!1,$.value=null}},Oe=async()=>{await Be(),L.value=!1,$.value=null},je=async()=>{await Le(),M.value=!1,z.value=null},Re=async()=>{await X()},qe=P(()=>K.value.length),Je=P(()=>K.value.filter(n=>n.status==="active").length),Ke=P(()=>H.value.length),We=P(()=>{var e;return`Are you sure you want to delete "${((e=$.value)==null?void 0:e.name)||"this product"}"? This action cannot be undone.`}),Qe=P(()=>{var e;return`Are you sure you want to delete "${((e=z.value)==null?void 0:e.name)||"this document"}"? This action cannot be undone.`}),He=[{title:"Product Name",key:"name"},{title:"Description",key:"description"},{title:"Category",key:"category"},{title:"Unit Price",key:"unit_price"},{title:"Stock",key:"stock"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],Ge=n=>n==="active"?"success":n==="inactive"?"warning":n==="discontinued"?"error":"secondary";return(n,e)=>{var j;const u=tt,b=et,V=Ze,x=it("IconBtn"),Q=Xe;return d(),g("section",null,[t(rt,{modelValue:l(O),"onUpdate:modelValue":e[0]||(e[0]=s=>F(O)?O.value=s:null),class:"align-center justify-center"},{default:a(()=>[t(nt,{color:"primary",indeterminate:"",size:"64"})]),_:1},8,["modelValue"]),t(N,{class:"mb-6"},{default:a(()=>[t(c,{cols:"12"},{default:a(()=>[i("div",Dt,[e[34]||(e[34]=i("div",null,[i("h2",{class:"text-h2 mb-1"}," My Franchise "),i("p",{class:"text-body-1 text-medium-emphasis"}," Manage your franchise details, documents, and products ")],-1)),t(w,{color:l(v)?"secondary":"primary","prepend-icon":l(v)?"tabler-x":"tabler-edit",onClick:e[1]||(e[1]=s=>v.value=!l(v))},{default:a(()=>[_(r(l(v)?"Cancel Edit":"Edit Franchise Details"),1)]),_:1},8,["color","prepend-icon"])])]),_:1})]),_:1}),t(N,{class:"mb-6"},{default:a(()=>[t(c,{cols:"12",md:"4"},{default:a(()=>[t(h,null,{default:a(()=>[t(k,{class:"d-flex align-center"},{default:a(()=>[t(q,{size:"44",rounded:"",color:"primary",variant:"tonal"},{default:a(()=>[t(C,{icon:"tabler-building-store",size:"26"})]),_:1}),e[35]||(e[35]=i("div",{class:"ms-4"},[i("div",{class:"text-body-2 text-disabled"}," Franchise Status "),i("h4",{class:"text-h4"}," Active ")],-1))]),_:1,__:[35]})]),_:1})]),_:1}),t(c,{cols:"12",md:"4"},{default:a(()=>[t(h,null,{default:a(()=>[t(k,{class:"d-flex align-center"},{default:a(()=>[t(q,{size:"44",rounded:"",color:"success",variant:"tonal"},{default:a(()=>[t(C,{icon:"tabler-files",size:"26"})]),_:1}),i("div",Vt,[e[36]||(e[36]=i("div",{class:"text-body-2 text-disabled"}," Total Documents ",-1)),i("h4",xt,r(l(Ke)),1)])]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"4"},{default:a(()=>[t(h,null,{default:a(()=>[t(k,{class:"d-flex align-center"},{default:a(()=>[t(q,{size:"44",rounded:"",color:"info",variant:"tonal"},{default:a(()=>[t(C,{icon:"tabler-package",size:"26"})]),_:1}),i("div",ht,[e[37]||(e[37]=i("div",{class:"text-body-2 text-disabled"}," Active Products ",-1)),i("h4",kt,r(l(Je))+" / "+r(l(qe)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(vt,{modelValue:l(E),"onUpdate:modelValue":e[2]||(e[2]=s=>F(E)?E.value=s:null),class:"mb-6"},{default:a(()=>[t(le,{value:"overview"},{default:a(()=>[t(C,{icon:"tabler-info-circle",start:""}),e[38]||(e[38]=_(" Overview "))]),_:1,__:[38]}),t(le,{value:"documents"},{default:a(()=>[t(C,{icon:"tabler-files",start:""}),e[39]||(e[39]=_(" Documents "))]),_:1,__:[39]}),t(le,{value:"products"},{default:a(()=>[t(C,{icon:"tabler-package",start:""}),e[40]||(e[40]=_(" Products "))]),_:1,__:[40]})]),_:1},8,["modelValue"]),t(pt,{modelValue:l(E),"onUpdate:modelValue":e[18]||(e[18]=s=>F(E)?E.value=s:null),class:"disable-tab-transition"},{default:a(()=>[t(ae,{value:"overview"},{default:a(()=>[t(h,null,{default:a(()=>[t(k,null,{default:a(()=>[t(N,null,{default:a(()=>[t(c,{cols:"12"},{default:a(()=>[e[45]||(e[45]=i("h4",{class:"text-h6 mb-4"}," Franchise Information ",-1)),t(h,{variant:"outlined"},{default:a(()=>[t(k,null,{default:a(()=>[t(N,null,{default:a(()=>[t(c,{cols:"12",md:"6"},{default:a(()=>[i("div",wt,[e[41]||(e[41]=i("div",{class:"text-sm text-disabled mb-1"}," Franchise Name ",-1)),l(v)?(d(),D(u,{key:1,modelValue:l(o).franchiseDetails.franchiseName,"onUpdate:modelValue":e[3]||(e[3]=s=>l(o).franchiseDetails.franchiseName=s),label:"Franchise Name",placeholder:"Enter franchise name"},null,8,["modelValue"])):(d(),g("div",Ct,r(l(o).franchiseDetails.franchiseName),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[i("div",St,[e[42]||(e[42]=i("div",{class:"text-sm text-disabled mb-1"}," Website ",-1)),l(v)?(d(),D(u,{key:1,modelValue:l(o).franchiseDetails.website,"onUpdate:modelValue":e[4]||(e[4]=s=>l(o).franchiseDetails.website=s),label:"Website",placeholder:"https://example.com"},null,8,["modelValue"])):(d(),g("div",Ft,[i("a",{href:l(o).franchiseDetails.website,target:"_blank",class:"text-primary"},r(l(o).franchiseDetails.website),9,Nt)]))])]),_:1}),t(c,{cols:"12"},{default:a(()=>[i("div",Ut,[e[44]||(e[44]=i("div",{class:"text-sm text-disabled mb-1"}," Franchise Logo ",-1)),l(v)?(d(),D(bt,{key:1,modelValue:l(U),"onUpdate:modelValue":e[5]||(e[5]=s=>F(U)?U.value=s:null),label:"Franchise Logo",accept:"image/*","prepend-icon":"tabler-upload",loading:l(G)},null,8,["modelValue","loading"])):(d(),g("div",Pt,[l(o).franchiseDetails.logo?(d(),g("div",Et,[t(q,{size:"40",class:"me-3"},{default:a(()=>[t(ct,{src:l(o).franchiseDetails.logo,alt:"Franchise Logo"},null,8,["src"])]),_:1}),e[43]||(e[43]=i("span",null,"Logo uploaded",-1))])):(d(),g("span",It,"No logo uploaded"))]))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1,__:[45]}),t(c,{cols:"12"},{default:a(()=>[e[52]||(e[52]=i("h4",{class:"text-h6 mb-4"}," Legal Information ",-1)),t(h,{variant:"outlined"},{default:a(()=>[t(k,null,{default:a(()=>[t(N,null,{default:a(()=>[t(c,{cols:"12",md:"6"},{default:a(()=>[i("div",At,[e[46]||(e[46]=i("div",{class:"text-sm text-disabled mb-1"}," Legal Entity Name ",-1)),l(v)?(d(),D(u,{key:1,modelValue:l(o).legalDetails.legalEntityName,"onUpdate:modelValue":e[6]||(e[6]=s=>l(o).legalDetails.legalEntityName=s),label:"Legal Entity Name",placeholder:"Enter legal entity name"},null,8,["modelValue"])):(d(),g("div",Lt,r(l(o).legalDetails.legalEntityName),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[i("div",Mt,[e[47]||(e[47]=i("div",{class:"text-sm text-disabled mb-1"}," Business Structure ",-1)),l(v)?(d(),D(b,{key:1,modelValue:l(o).legalDetails.businessStructure,"onUpdate:modelValue":e[7]||(e[7]=s=>l(o).legalDetails.businessStructure=s),label:"Business Structure",placeholder:"Select business structure",items:Ce},null,8,["modelValue"])):(d(),g("div",Tt,r(l(o).legalDetails.businessStructure),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[i("div",$t,[e[48]||(e[48]=i("div",{class:"text-sm text-disabled mb-1"}," Tax ID ",-1)),l(v)?(d(),D(u,{key:1,modelValue:l(o).legalDetails.taxId,"onUpdate:modelValue":e[8]||(e[8]=s=>l(o).legalDetails.taxId=s),label:"Tax ID",placeholder:"Enter tax ID"},null,8,["modelValue"])):(d(),g("div",zt,r(l(o).legalDetails.taxId),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[i("div",Bt,[e[49]||(e[49]=i("div",{class:"text-sm text-disabled mb-1"}," Industry ",-1)),l(v)?(d(),D(b,{key:1,modelValue:l(o).legalDetails.industry,"onUpdate:modelValue":e[9]||(e[9]=s=>l(o).legalDetails.industry=s),label:"Industry",placeholder:"Select industry",items:Se},null,8,["modelValue"])):(d(),g("div",Ot,r(l(o).legalDetails.industry),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[i("div",jt,[e[50]||(e[50]=i("div",{class:"text-sm text-disabled mb-1"}," Funding Amount ",-1)),l(v)?(d(),D(u,{key:1,modelValue:l(o).legalDetails.fundingAmount,"onUpdate:modelValue":e[10]||(e[10]=s=>l(o).legalDetails.fundingAmount=s),label:"Funding Amount",placeholder:"Enter funding amount",type:"number"},null,8,["modelValue"])):(d(),g("div",Rt,r(l(o).legalDetails.fundingAmount),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[i("div",qt,[e[51]||(e[51]=i("div",{class:"text-sm text-disabled mb-1"}," Funding Source ",-1)),l(v)?(d(),D(b,{key:1,modelValue:l(o).legalDetails.fundingSource,"onUpdate:modelValue":e[11]||(e[11]=s=>l(o).legalDetails.fundingSource=s),label:"Funding Source",placeholder:"Select funding source",items:Fe},null,8,["modelValue"])):(d(),g("div",Jt,r(l(o).legalDetails.fundingSource),1))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1,__:[52]}),t(c,{cols:"12"},{default:a(()=>[e[59]||(e[59]=i("h4",{class:"text-h6 mb-4"}," Contact Information ",-1)),t(h,{variant:"outlined"},{default:a(()=>[t(k,null,{default:a(()=>[t(N,null,{default:a(()=>[t(c,{cols:"12",md:"6"},{default:a(()=>[i("div",Kt,[e[53]||(e[53]=i("div",{class:"text-sm text-disabled mb-1"}," Contact Number ",-1)),l(v)?(d(),D(u,{key:1,modelValue:l(o).contactDetails.contactNumber,"onUpdate:modelValue":e[12]||(e[12]=s=>l(o).contactDetails.contactNumber=s),label:"Contact Number",placeholder:"Enter contact number"},null,8,["modelValue"])):(d(),g("div",Wt,r(l(o).contactDetails.contactNumber),1))])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[i("div",Qt,[e[54]||(e[54]=i("div",{class:"text-sm text-disabled mb-1"}," Email ",-1)),l(v)?(d(),D(u,{key:1,modelValue:l(o).contactDetails.email,"onUpdate:modelValue":e[13]||(e[13]=s=>l(o).contactDetails.email=s),label:"Email",placeholder:"Enter email address",type:"email"},null,8,["modelValue"])):(d(),g("div",Ht,[i("a",{href:`mailto:${l(o).contactDetails.email}`,class:"text-primary"},r(l(o).contactDetails.email),9,Gt)]))])]),_:1}),t(c,{cols:"12"},{default:a(()=>[i("div",Xt,[e[55]||(e[55]=i("div",{class:"text-sm text-disabled mb-1"}," Address ",-1)),l(v)?(d(),D(V,{key:1,modelValue:l(o).contactDetails.address,"onUpdate:modelValue":e[14]||(e[14]=s=>l(o).contactDetails.address=s),label:"Address",placeholder:"Enter full address",rows:"2"},null,8,["modelValue"])):(d(),g("div",Yt,r(l(o).contactDetails.address),1))])]),_:1}),t(c,{cols:"12",md:"4"},{default:a(()=>[i("div",Zt,[e[56]||(e[56]=i("div",{class:"text-sm text-disabled mb-1"}," Country ",-1)),l(v)?(d(),D(b,{key:1,modelValue:l(o).contactDetails.country,"onUpdate:modelValue":e[15]||(e[15]=s=>l(o).contactDetails.country=s),label:"Country",placeholder:"Select country",items:Ne},null,8,["modelValue"])):(d(),g("div",el,r(l(o).contactDetails.country),1))])]),_:1}),t(c,{cols:"12",md:"4"},{default:a(()=>[i("div",tl,[e[57]||(e[57]=i("div",{class:"text-sm text-disabled mb-1"}," State ",-1)),l(v)?(d(),D(u,{key:1,modelValue:l(o).contactDetails.state,"onUpdate:modelValue":e[16]||(e[16]=s=>l(o).contactDetails.state=s),label:"State",placeholder:"Enter state"},null,8,["modelValue"])):(d(),g("div",ll,r(l(o).contactDetails.state),1))])]),_:1}),t(c,{cols:"12",md:"4"},{default:a(()=>[i("div",al,[e[58]||(e[58]=i("div",{class:"text-sm text-disabled mb-1"}," City ",-1)),l(v)?(d(),D(u,{key:1,modelValue:l(o).contactDetails.city,"onUpdate:modelValue":e[17]||(e[17]=s=>l(o).contactDetails.city=s),label:"City",placeholder:"Enter city"},null,8,["modelValue"])):(d(),g("div",sl,r(l(o).contactDetails.city),1))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1,__:[59]})]),_:1})]),_:1}),t(te,{class:"justify-end"},{default:a(()=>[l(v)?(d(),g(_e,{key:0},[t(w,{variant:"outlined","prepend-icon":"tabler-x",class:"me-2",onClick:ke},{default:a(()=>e[60]||(e[60]=[_(" Cancel ")])),_:1,__:[60]}),t(w,{color:"primary",loading:l(J),"prepend-icon":"tabler-device-floppy",onClick:we},{default:a(()=>e[61]||(e[61]=[_(" Save Changes ")])),_:1,__:[61]},8,["loading"])],64)):dt("",!0)]),_:1})]),_:1})]),_:1}),t(ae,{value:"documents"},{default:a(()=>[t(h,null,{default:a(()=>[t(k,null,{default:a(()=>[i("div",ol,[e[63]||(e[63]=i("h4",{class:"text-h6"}," Franchise Documents ",-1)),t(w,{color:"primary","prepend-icon":"tabler-plus",onClick:Ee},{default:a(()=>e[62]||(e[62]=[_(" Add Document ")])),_:1,__:[62]})]),t(N,null,{default:a(()=>[(d(!0),g(_e,null,ut(l(H),s=>(d(),D(c,{key:s.id,cols:"12",md:"6",lg:"4"},{default:a(()=>[t(h,null,{default:a(()=>[t(k,null,{default:a(()=>[i("div",il,[t(C,{icon:"tabler-file-text",size:"24",color:"primary",class:"me-3"}),i("div",null,[i("h6",nl,r(s.name),1),i("p",dl,r(s.type),1)])]),i("p",ul,r(s.description),1),i("div",rl,[i("span",cl,r(s.file_name),1),t(De,{size:"small",color:"secondary"},{default:a(()=>[_(r(s.file_size),1)]),_:2},1024)]),i("div",ml," Uploaded: "+r(s.created_at),1)]),_:2},1024),t(te,null,{default:a(()=>[t(w,{size:"small",variant:"text",color:"primary","prepend-icon":"tabler-download",onClick:B=>Ie(s)},{default:a(()=>e[64]||(e[64]=[_(" Download ")])),_:2,__:[64]},1032,["onClick"]),t(Ve),t(w,{size:"small",variant:"text",color:"error",icon:"tabler-trash",onClick:B=>Ae(s)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),t(ae,{value:"products"},{default:a(()=>[t(h,null,{default:a(()=>[t(mt,{class:"pb-4"},{append:a(()=>[t(w,{color:"primary","prepend-icon":"tabler-plus",onClick:Me},{default:a(()=>e[66]||(e[66]=[_(" Add Product ")])),_:1,__:[66]})]),default:a(()=>[t(ft,null,{default:a(()=>e[65]||(e[65]=[_("Franchise Products")])),_:1,__:[65]})]),_:1}),t(k,null,{default:a(()=>[t(yt,{headers:He,items:l(K),"item-value":"id",class:"text-no-wrap","show-select":""},{"item.name":a(({item:s})=>[i("div",fl,[t(q,{size:"34",color:"primary",variant:"tonal",class:"text-primary"},{default:a(()=>[t(C,{icon:"tabler-package"})]),_:1}),i("div",vl,[i("h6",pl,r(s.name),1),i("div",bl,r(s.category),1)])])]),"item.description":a(({item:s})=>[i("div",yl,r(s.description),1)]),"item.unit_price":a(({item:s})=>[i("div",gl,r(Number(s.unit_price).toFixed(2))+" SAR ",1)]),"item.stock":a(({item:s})=>[i("div",_l,r(s.stock),1)]),"item.status":a(({item:s})=>[t(De,{color:Ge(s.status),size:"small",class:"text-capitalize",label:""},{default:a(()=>[_(r(s.status),1)]),_:2},1032,["color"])]),"item.actions":a(({item:s})=>[t(x,{onClick:B=>Te(s)},{default:a(()=>[t(C,{icon:"tabler-edit"})]),_:2},1032,["onClick"]),t(x,{onClick:B=>ze(s)},{default:a(()=>[t(C,{icon:"tabler-trash"})]),_:2},1032,["onClick"])]),_:1},8,["items"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(lt,{"is-dialog-visible":l(A),"onUpdate:isDialogVisible":e[19]||(e[19]=s=>F(A)?A.value=s:null),"franchise-id":(j=l(o))==null?void 0:j.id,"document-data":l(ie),mode:"unit",onDocumentSaved:Re},null,8,["is-dialog-visible","franchise-id","document-data"]),t(Ye,{modelValue:l(T),"onUpdate:modelValue":e[29]||(e[29]=s=>F(T)?T.value=s:null),"max-width":"600"},{default:a(()=>[t(Q,{onClick:e[20]||(e[20]=s=>T.value=!1)}),t(h,{title:l(m).id?"Edit Product":"Add New Product"},{default:a(()=>[t(k,null,{default:a(()=>[t(gt,null,{default:a(()=>[t(N,null,{default:a(()=>[t(c,{cols:"12",md:"6"},{default:a(()=>[t(u,{modelValue:l(m).name,"onUpdate:modelValue":e[21]||(e[21]=s=>l(m).name=s),label:"Product Name",placeholder:"Enter product name",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(u,{modelValue:l(m).sku,"onUpdate:modelValue":e[22]||(e[22]=s=>l(m).sku=s),label:"SKU",placeholder:"Enter product SKU",required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:a(()=>[t(b,{modelValue:l(m).category,"onUpdate:modelValue":e[23]||(e[23]=s=>l(m).category=s),label:"Category",items:Ue,placeholder:"Select category"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12"},{default:a(()=>[t(V,{modelValue:l(m).description,"onUpdate:modelValue":e[24]||(e[24]=s=>l(m).description=s),label:"Description",placeholder:"Enter product description",rows:"3"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"4"},{default:a(()=>[t(u,{modelValue:l(m).unit_price,"onUpdate:modelValue":e[25]||(e[25]=s=>l(m).unit_price=s),modelModifiers:{number:!0},label:"Unit Price",type:"number",placeholder:"0.00",prefix:"SAR",step:"0.01"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"4"},{default:a(()=>[t(u,{modelValue:l(m).stock,"onUpdate:modelValue":e[26]||(e[26]=s=>l(m).stock=s),modelModifiers:{number:!0},label:"Stock Quantity",type:"number",placeholder:"0"},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"4"},{default:a(()=>[t(b,{modelValue:l(m).status,"onUpdate:modelValue":e[27]||(e[27]=s=>l(m).status=s),label:"Status",items:Pe,placeholder:"Select status"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(te,null,{default:a(()=>[t(Ve),t(w,{color:"secondary",variant:"outlined",onClick:e[28]||(e[28]=s=>T.value=!1)},{default:a(()=>e[67]||(e[67]=[_(" Cancel ")])),_:1,__:[67]}),t(w,{color:"primary",onClick:$e},{default:a(()=>[_(r(l(m).id?"Update Product":"Add Product"),1)]),_:1})]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"]),t(ge,{"is-dialog-visible":l(L),"onUpdate:isDialogVisible":e[30]||(e[30]=s=>F(L)?L.value=s:null),title:"Delete Product",message:l(We),onConfirm:Oe},null,8,["is-dialog-visible","message"]),t(ge,{"is-dialog-visible":l(M),"onUpdate:isDialogVisible":e[31]||(e[31]=s=>F(M)?M.value=s:null),title:"Confirm Delete",message:l(Qe),onConfirm:je},null,8,["is-dialog-visible","message"]),t(_t,{modelValue:l(I).show,"onUpdate:modelValue":e[33]||(e[33]=s=>l(I).show=s),color:l(I).color,location:"top end",timeout:"4000"},{actions:a(()=>[t(w,{color:"white",variant:"text",onClick:e[32]||(e[32]=s=>l(I).show=!1)},{default:a(()=>e[68]||(e[68]=[_(" Close ")])),_:1,__:[68]})]),default:a(()=>[_(r(l(I).message)+" ",1)]),_:1},8,["modelValue","color"])])}}});export{sa as default};
